<style>
    .popup-modal {
      width: 100%;
      height: 100%;
      position:  fixed;
      top: 0;
      left: 0;
      z-index: 10003;
      padding-left: 100px;
      padding-right: 100px;
      box-sizing: border-box;
      display: flex;
      justify-content: center;
      align-items: center;
      visibility: hidden;
      transition: visibility .25s ease-in-out;
    }
    .popup-modal.show {
      visibility: visible;
      display: flex!important;
    }
    .popup-modal .popup-modal-close-btn {
      position: absolute;
      top: 20px;
      right: 20px;
      width: 20px;
      height: 20px;
      z-index: 3;
      cursor: pointer;
    }
    .popup-modal .popup-modal-close-btn svg {
      width: 100%;
      height: 100%;
      position: absolute;
      left: 0;
      top: 0;
    }
    .popup-modal .popup-modal-backdrop {
      background-color: #000;height:100%;position:fixed;top:0;left:0;width:100%;z-index:1;
      opacity: 0;
      visibility: hidden;
      transition: opacity .5s ease-in-out,visibility .5s ease-in-out;
    }
    .popup-modal.show .popup-modal-backdrop {
      visibility: visible;
      opacity: .2;
    }
    .order-information-content__box {
      padding: 60px 176px;
      border: 2px solid #E4E4E4;
      border-radius: 20px;
    }
    .popup-modal-content .order-information-content__box {
      padding: 60px 50px;
    }
    .order-information-content__box dt {
      color: #000000;
    }
    .order-information-content__box dl {
      {% comment %} display: grid;
      grid-template: auto / 150px 1fr;
      column-gap: 100px;
      row-gap: 24px; {% endcomment %}
      margin-bottom: 0;
      font-size: 18px;
    }
    .order-information-content__box .dl-item {
      display: grid;
      grid-template: auto / 150px 1fr;
      column-gap: 100px;
    }
    .order-information-content__box dd {
      margin-bottom: 24px;
    }
    .new-return-information {
      margin: 0 -126px -20px;
    }
    @media (max-width: 992px) {
      .order-information-content__box .dl-item {
        display: block;
        grid-template: none;
        column-gap: normal;
      }
      .order-information-content__box dd {
        margin-bottom: 0;
      }
      .order-information-content__box,
      .popup-modal-content .order-information-content__box {
        padding: 30px;
      }
      .new-return-information {
        margin: 0 0 -20px;
      }
      .order-information-content__box dl {
        {% comment %} column-gap: 50px; {% endcomment %}
        font-size: 16px;
      }
    }
    .order-information-content__box dd {
      color: #6E6E72;
    }
    .popup-modal .popup-modal-container {
      position: relative;
      z-index: 2;
      width: 100%;
      max-width: 900px;
      color: #6E6E72;
      background: #fff;
      box-sizing: border-box;
      {% comment %} -webkit-box-shadow: 0 10px 25px rgba(0,0,0,.5);
      -moz-box-shadow: 0 10px 25px rgba(0,0,0,.5);
      box-shadow: 0 10px 25px rgba(0,0,0,.5); {% endcomment %}

      transform: scale(.8);
      opacity: 0;
      transition: transform .3s cubic-bezier(.75, 0, .175, 1),opacity .3s cubic-bezier(.75, 0, .175, 1);
      will-change: transform;
    }
    .popup-modal .popup-modal-container a:not(.btn) {
      color: #212121;
      text-decoration: underline!important;
    }
    .popup-modal.show .popup-modal-container {
      transform: scale(1);
      opacity: 1;
    }
    .popup-modal--small .popup-modal-container {
      max-width: 500px;
    }
    .popup-modal--medium .popup-modal-container {
      max-width: 800px;
    }

    .popup-modal .popup-modal-content .sub-heading {
      color: #212121;
    }
    .popup-modal .popup-modal-content h2 {
     letter-spacing: normal!important;
     font-family: "Gotham";
     font-weight: 700;
     font-size: 30px!important;
     line-height: 1.3;
     margin-bottom: 32px;
    }
    .popup-modal .popup-modal-content h3 {
      letter-spacing: normal!important;
      font-family: "Gotham";
      font-weight: 700;
      font-size: 20px;
      line-height: 1.3;
      margin-bottom: 32px;
    }
    .popup-modal .popup-modal-content p {
      font-family: "Gotham";
      font-size: 18px;
      line-height: 1.3;
    }

    .popup-modal .popup-modal-content {
      font-family: "Gotham";
      display: flex;
      font-size: 18px;
      line-height: 1.3;
      padding: 50px;
      max-height: 90vh;
      overflow-y: auto;
      color: #212121;
    }
    .popup-modal .popup-modal-content__details {
      order: 1;
      flex: 1 1 auto;
    }

    @media only screen and (max-width: 992px) {
      .popup-modal .popup-modal-content {
        flex-direction: column;
        padding: 60px 20px;
        color: #212121;
      }
      .popup-modal .popup-modal-content__details {
          padding: 0;
      }
      .order-information-content__box {
          padding: 30px;
          border-radius: 10px;
      }
      .order-information-content__box dl {
          {% comment %} display: grid;
          grid-template: auto / 50% 1fr;
          column-gap: 30px; {% endcomment %}
          row-gap: 16px;
          margin-bottom: 0;
      }
    }
    @media only screen and (max-width: 767px) {
      .popup-modal .popup-modal-content h2 {
          font-size: 24px!important;
      }
      .popup-modal .popup-modal-content h3 {
        font-size: 18px;
      }
      .popup-modal .popup-modal-content {
        max-height: 80vh;
      }
      .popup-modal {
        padding-left: 15px;
        padding-right: 15px;
      }
    }
    @media only screen and (max-width: 329px) {
      .popup-modal .popup-modal-content {
        max-height: 70vh;
      }
    }
  </style>

  <div id="popup-error-message" class="popup-modal popup-modal--small text-center">
    <div class="popup-modal-container">
      <div class="popup-modal-close-btn">
        {% render 'icon-close2' %}
      </div>
      <div class="popup-modal-content">
        <div class="popup-modal-content__details">
            <h2 data-error-message>Error</h2>
            <p>Need help? Please contact us via: <br><a href="mailo: support@ecoflow.com">support@ecoflow.com</a></p>
        </div>
      </div>
    </div>
    <div class="popup-modal-backdrop"></div>
  </div>

  <div id="popup-not-valid-order-number" class="popup-modal popup-modal--small text-center">
      <div class="popup-modal-container">
        <div class="popup-modal-close-btn">
          {% render 'icon-close2' %}
        </div>
        <div class="popup-modal-content">
          <div class="popup-modal-content__details">
              <h2>Sorry</h2>
              <p class="sub-heading">Cannot find any order that matches the given number:</p>
              <div class="order-number-box" data-order-number-box></div>
              <p>If you're sure this is the right number, please contact us via: <br><a href="mailo: support@ecoflow.com">support@ecoflow.com</a></p>
          </div>
        </div>
      </div>
      <div class="popup-modal-backdrop"></div>
  </div>

  <div id="popup-submitted-successfully" class="popup-modal popup-modal--small text-center">
    <div class="popup-modal-container">
      <div class="popup-modal-close-btn">
        {% render 'icon-close2' %}
      </div>
      <div class="popup-modal-content">
        <div class="popup-modal-content__details">
            <h2>You have submitted successfully!</h2>
            <p>You will get your EcoFlow Gift Card via email in 2 days.</p>
            <a href="/collections/all" class="btn btn-primary mt-4">Continue Shopping ></a>
        </div>
      </div>
    </div>
    <div class="popup-modal-backdrop"></div>
  </div>


  <script>

      // Show popup function
      function showPopup(modalId) {
          const thisModal = document.querySelector(`#${modalId}`)
          if(thisModal) {
              thisModal.classList.add('show')
              document.querySelector('body').style.overflow = 'hidden'
          }
          return
      }

      // Close popup function
      function closePopup() {
          document.querySelectorAll('.popup-modal').forEach(modal => modal.classList.remove('show'))
          document.querySelector('body').removeAttribute('style')
      }
      document.addEventListener('DOMContentLoaded', function(event) {
          const popupButtons = document.querySelectorAll('[data-popup-modal-id]')
          const popupCloseButtons = document.querySelectorAll('.popup-modal-close-btn')
          const popupBackDrops = document.querySelectorAll('.popup-modal-backdrop')

          // Show popup
          popupButtons.forEach(popupButton => {
              const thisId = popupButton.getAttribute('data-popup-modal-id')
              if(thisId != '') popupButton.addEventListener('click', event => {
                  event.preventDefault()
                  showPopup(thisId)
              })
          })

          // Close popup
          popupCloseButtons.forEach(popupCloseButton => popupCloseButton.addEventListener('click', ()=> closePopup()))
          popupBackDrops.forEach(popupBackDrop => popupBackDrop.addEventListener('click', ()=> closePopup()))

      })
  </script>
