<div class="clp-customers">
  <div class="clp-title">{{ section.settings.title }}</div>
  <div class="swiper">
    <div class="swiper-wrapper">
      {% for block in section.blocks %}
        <div class="swiper-slide">
          {% assign image = block.settings.image %}
          <img
            class="clp-customers-cover desktop-only"
            src="{{ image | img_url: '1000x' }}"
            srcset="
              {{ image | img_url: '1000x' }} 1000w,
              {{ image | img_url: '1200x' }} 1200w,
              {{ image | img_url: '1400x' }} 1400w,
              {{ image | img_url: 'master' }} 1600w
            "
            alt="{{ image.alt }}"
            loading="lazy"
          >
          {% assign image = block.settings.image_mobile %}
          <img
            class="clp-customers-cover mobile-only"
            src="{{ image | img_url: '500x' }}"
            srcset="
              {{ image | img_url: '400x' }} 400w,
              {{ image | img_url: '500x' }} 500w,
              {{ image | img_url: '600x' }} 600w,
              {{ image | img_url: 'master' }} 700w
            "
            alt="{{ image.alt }}"
            loading="lazy"
          >

          <div class="clp-customers-content">
            <div class="clp-customers-title">{{ block.settings.title }}</div>
            <div class="clp-customers-text">{{ block.settings.text }}</div>

            <div class="clp-customers-name-wrapper">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="117.043"
                height="20.628"
                viewBox="0 0 117.043 20.628"
              >
                <g transform="translate(-2909.663 -1050.886)"><path d="M2913.307,1069.551c.232-1.368.449-2.989.8-4.58a1.38,1.38,0,0,0-.5-1.489c-1.088-1.008-2.149-2.046-3.221-3.072a1.592,1.592,0,0,1-.626-1.815,1.761,1.761,0,0,1,1.608-1.075c1.47-.166,2.924-.467,4.394-.629a1.327,1.327,0,0,0,1.206-.847c.6-1.274,1.241-2.526,1.862-3.788.343-.7.688-1.348,1.632-1.37s1.306.61,1.649,1.321c.612,1.267,1.271,2.511,1.865,3.786a1.419,1.419,0,0,0,1.3.9c1.508.158,3,.43,4.505.652a1.7,1.7,0,0,1,1.471,1.1,1.455,1.455,0,0,1-.515,1.637q-1.649,1.659-3.373,3.243a1.411,1.411,0,0,0-.469,1.512c.306,1.407.538,2.833.773,4.255.121.727.177,1.467-.544,1.963a1.786,1.786,0,0,1-2.028-.143c-1.2-.651-2.441-1.245-3.626-1.927a1.657,1.657,0,0,0-1.882-.031c-1.31.768-2.665,1.47-4.034,2.128C2914.257,1071.9,2913.269,1071.226,2913.307,1069.551Z" transform="translate(0 0)" fill="#fdb626"/><path d="M2938.3,1069.551c.231-1.368.449-2.989.8-4.58a1.378,1.378,0,0,0-.5-1.489c-1.09-1.008-2.149-2.046-3.221-3.072a1.592,1.592,0,0,1-.626-1.815,1.761,1.761,0,0,1,1.607-1.075c1.47-.166,2.925-.467,4.395-.629a1.327,1.327,0,0,0,1.2-.847c.6-1.274,1.242-2.526,1.863-3.788.343-.7.688-1.348,1.633-1.37s1.3.61,1.648,1.321c.612,1.267,1.271,2.511,1.866,3.786a1.419,1.419,0,0,0,1.3.9c1.509.158,3,.43,4.507.652a1.7,1.7,0,0,1,1.47,1.1,1.456,1.456,0,0,1-.515,1.637q-1.647,1.659-3.372,3.243a1.413,1.413,0,0,0-.469,1.512c.306,1.407.538,2.833.774,4.255.121.727.176,1.467-.545,1.963a1.786,1.786,0,0,1-2.028-.143c-1.2-.651-2.44-1.245-3.626-1.927a1.657,1.657,0,0,0-1.882-.031c-1.311.768-2.665,1.47-4.034,2.128C2939.252,1071.9,2938.263,1071.226,2938.3,1069.551Z" transform="translate(-1.157 0)" fill="#fdb626"/><path d="M2963.3,1069.551c.231-1.368.448-2.989.8-4.58a1.375,1.375,0,0,0-.5-1.489c-1.088-1.008-2.149-2.046-3.22-3.072a1.594,1.594,0,0,1-.627-1.815,1.762,1.762,0,0,1,1.608-1.075c1.47-.166,2.924-.467,4.395-.629a1.327,1.327,0,0,0,1.2-.847c.6-1.274,1.242-2.526,1.863-3.788.342-.7.688-1.348,1.633-1.37s1.3.61,1.648,1.321c.612,1.267,1.271,2.511,1.867,3.786a1.417,1.417,0,0,0,1.3.9c1.508.158,3,.43,4.506.652a1.7,1.7,0,0,1,1.469,1.1,1.455,1.455,0,0,1-.515,1.637q-1.647,1.659-3.373,3.243a1.411,1.411,0,0,0-.468,1.512c.306,1.407.538,2.833.773,4.255.12.727.176,1.467-.545,1.963a1.786,1.786,0,0,1-2.028-.143c-1.2-.651-2.442-1.245-3.626-1.927a1.657,1.657,0,0,0-1.882-.031c-1.311.768-2.665,1.47-4.035,2.128C2964.247,1071.9,2963.258,1071.226,2963.3,1069.551Z" transform="translate(-2.313 0)" fill="#fdb626"/><path d="M2988.292,1069.551c.231-1.368.448-2.989.8-4.58a1.378,1.378,0,0,0-.5-1.489c-1.088-1.008-2.149-2.046-3.221-3.072a1.594,1.594,0,0,1-.625-1.815,1.762,1.762,0,0,1,1.608-1.075c1.47-.166,2.925-.467,4.4-.629a1.327,1.327,0,0,0,1.2-.847c.595-1.274,1.242-2.526,1.861-3.788.344-.7.689-1.348,1.634-1.37s1.3.61,1.648,1.321c.611,1.267,1.271,2.511,1.866,3.786a1.416,1.416,0,0,0,1.3.9c1.508.158,3,.43,4.505.652a1.7,1.7,0,0,1,1.471,1.1,1.456,1.456,0,0,1-.515,1.637q-1.648,1.659-3.372,3.243a1.411,1.411,0,0,0-.469,1.512c.306,1.407.538,2.833.774,4.255.121.727.176,1.467-.544,1.963a1.788,1.788,0,0,1-2.029-.143c-1.2-.651-2.44-1.245-3.625-1.927a1.658,1.658,0,0,0-1.883-.031c-1.31.768-2.664,1.47-4.034,2.128C2989.242,1071.9,2988.252,1071.226,2988.292,1069.551Z" transform="translate(-3.469 0)" fill="#fdb626"/><path d="M3013.286,1069.551c.232-1.368.45-2.989.8-4.58a1.378,1.378,0,0,0-.5-1.489c-1.088-1.008-2.148-2.046-3.221-3.072a1.591,1.591,0,0,1-.625-1.815,1.761,1.761,0,0,1,1.608-1.075c1.47-.166,2.924-.467,4.395-.629a1.327,1.327,0,0,0,1.2-.847c.595-1.274,1.241-2.526,1.862-3.788.344-.7.688-1.348,1.634-1.37s1.3.61,1.648,1.321c.611,1.267,1.271,2.511,1.866,3.786a1.418,1.418,0,0,0,1.3.9c1.508.158,3,.43,4.505.652a1.7,1.7,0,0,1,1.47,1.1,1.455,1.455,0,0,1-.514,1.637q-1.648,1.659-3.373,3.243a1.411,1.411,0,0,0-.469,1.512c.306,1.407.537,2.833.773,4.255.121.727.177,1.467-.543,1.963a1.787,1.787,0,0,1-2.028-.143c-1.2-.651-2.441-1.245-3.626-1.927a1.657,1.657,0,0,0-1.882-.031c-1.311.768-2.665,1.47-4.034,2.128C3014.236,1071.9,3013.248,1071.226,3013.286,1069.551Z" transform="translate(-4.626 0)" fill="#fdb626"/></g>
              </svg>
              <div>- {{ block.settings.name }} -</div>
            </div>
          </div>
        </div>
      {% endfor %}
    </div>
    <div class="swiper-pagination"></div>
    <div class="swiper-button-prev">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="57"
        height="57"
        viewBox="0 0 57 57"
        style="transform: rotate(180deg);"
      >
        <g transform="translate(-315 -4952)">
          <circle cx="28.5" cy="28.5" r="28.5" transform="translate(315 4952)" fill="#fff"/>
          <g transform="translate(340.222 4972.757)">
            <line x2="8.556" y2="7.742" fill="none" stroke="#000" stroke-linecap="round" stroke-width="3"/>
            <line y1="7.744" x2="8.556" transform="translate(0 7.743)" fill="none" stroke="#000" stroke-linecap="round" stroke-width="3"/>
          </g>
        </g>
      </svg>
    </div>
    <div class="swiper-button-next">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="57"
        height="57"
        viewBox="0 0 57 57"
      >
        <g transform="translate(-315 -4952)"><circle cx="28.5" cy="28.5" r="28.5" transform="translate(315 4952)" fill="#fff"/><g transform="translate(340.222 4972.757)"><line x2="8.556" y2="7.742" fill="none" stroke="#000" stroke-linecap="round" stroke-width="3"/><line y1="7.744" x2="8.556" transform="translate(0 7.743)" fill="none" stroke="#000" stroke-linecap="round" stroke-width="3"/></g></g>
      </svg>
    </div>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    let prevSlide;
    new Swiper('.clp-customers .swiper', {
      slidesPerView: 1,
      spaceBetween: 10,
      loop: true,
      pagination: {
        el: '.swiper-pagination',
        clickable: true,
      },
      navigation: {
        nextEl: '.swiper-button-next',
        prevEl: '.swiper-button-prev',
      },
      breakpoints: {
        768: {
          slidesPerView: 2.3,
          spaceBetween: 20,
        },
      },
      on: {
        init: function () {
          prevSlide = document.querySelector(".clp-customers .swiper-slide-duplicate.swiper-slide-prev")
          if(prevSlide)
            prevSlide.classList.add("swiper-slide-prev--hide")
        },
        activeIndexChange: function () {
          if(prevSlide)
            prevSlide.classList.remove("swiper-slide-prev--hide")
        },
      }
    });
  });
</script>

{% schema %}
{
  "name": "Customers",
  "settings": [
    {
      "type": "html",
      "id": "title",
      "label": "Title"
    }
  ],
  "blocks": [
    {
      "type": "review",
      "name": "Review",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image"
        },
        {
          "type": "image_picker",
          "id": "image_mobile",
          "label": "Image Mobile"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Title",
          "default": "Awesome Backup Power System"
        },
        {
          "type": "richtext",
          "id": "text",
          "label": "Text"
        },
        {
          "type": "text",
          "id": "name",
          "label": "Name",
          "default": "Jim P"
        }
      ]
    }
  ]
}
{% endschema %}
