{% if section.blocks.size > 0 %}
    <div class="star-page-product-section star-page-single-product-section givin-back-product-section section-{{ section.id }}" id="{{ section.settings.section_id }}" style="background-color: {{ section.settings.section_background }};">
        <div class="product-recommendations-page-wrapper star-products-container star-page-container">
          {% assign currency_symbol = cart.currency.symbol %}
        {%- comment %}<locksmith:60b1>{% endcomment -%}
          {%- assign locksmith_4799_forloop__size = 0 %}{% for block in section.blocks %}{% capture var %}{% render 'locksmith-variables', scope: 'subject', subject: block.settings.product, subject_parent: section, variable: 'transparent' %}{% endcapture %}{% if var == 'true' %}{% assign locksmith_4799_forloop__size = locksmith_4799_forloop__size | plus: 1 %}{% endif %}{% endfor %}{% assign locksmith_4799_forloop__index = nil -%}
        {%- comment %}</locksmith:60b1>{% endcomment -%}
        {% for block in section.blocks %}
            {%- comment %}<locksmith:9975>{% endcomment -%}
              {%- capture var %}{% render 'locksmith-variables', scope: 'subject', subject: block.settings.product, subject_parent: section, variable: 'transparent' %}{% endcapture %}{% if var == "true" %}{% if locksmith_4799_forloop__index == nil %}{% assign locksmith_4799_forloop__index = 1 %}{% assign locksmith_4799_forloop__index0 = 0 %}{% else %}{% assign locksmith_4799_forloop__index = locksmith_4799_forloop__index | plus: 1 %}{% assign locksmith_4799_forloop__index0 = locksmith_4799_forloop__index0 | plus: 1 %}{% endif %}{% if locksmith_4799_forloop__index == 1 %}{% assign locksmith_4799_forloop__first = true %}{% else %}{% assign locksmith_4799_forloop__first = false %}{% endif %}{% if locksmith_4799_forloop__index == locksmith_4799_forloop__size %}{% assign locksmith_4799_forloop__last = true %}{% else %}{% assign locksmith_4799_forloop__last = false %}{% endif %}{% assign locksmith_4799_forloop__rindex = locksmith_4799_forloop__size | minus: locksmith_4799_forloop__index | minus: 1 %}{% assign locksmith_4799_forloop__rindex0 = locksmith_4799_forloop__size | minus: locksmith_4799_forloop__index0 | minus: 1 %}{% else %}{% continue %}{% endif -%}
            {%- comment %}</locksmith:9975>{% endcomment -%}
            {% assign star_product = block.settings.product %}
            {% assign non_member_variant = '' %}
            {% assign non_member_variant_id = block.settings.non_member_variant_id | times: 1 %}
            {% assign member_only_variant = false %}
            {% assign main_product_title = '' %}
            {% if block.settings.product_variant_id == blank %}
                {% assign variant_id = star_product.variants.first.id %}
            {% else %}
                {% assign variant_id = block.settings.product_variant_id | times: 1 %}
            {% endif %}
            {% for variant in star_product.variants %}
                {% if variant.id == variant_id %}
                    {% assign current_variant = variant %}
                    {% assign variant_index = forloop.index %}
                    {% if variant.metafields.custom.for_member_only == true %}
                        {% assign member_only_variant = true %}
                    {% endif %}
                {% endif %}
                {% if variant.id == non_member_variant_id %}
                    {% assign non_member_variant = variant %}
                {% endif %}
            {% endfor %}

            {% if current_variant.metafields.custom.for_member_only == false %}
                {% if non_member_variant_id != '' %}
                    {% for variant in star_product.variants %}
                        {% if variant.id == non_member_variant_id %}
                            {% assign current_variant = variant %}
                        {% endif %}
                    {% endfor %}
                {% else %}
                    {% assign current_variant = star_product.variants[1] %}
                {% endif %}
            {% endif %}

            {% assign main_product_image = block.settings.product_image | default: current_variant.featured_image %}
            {% assign custom_price = block.settings.custom_price %}

            {% if block.settings.show_manual_options %}
                {% if block.settings.option_1_text != blank and block.settings.option_1_variant_id != blank and block.settings.option_1_active %}
                    {% assign variant_id = block.settings.option_1_variant_id | times: 1 %}
                    {% assign non_member_variant_id = block.settings.option_1_non_member_variant_id | times: 1 %}
                    {% assign main_product_title = block.settings.option_1_product_title %}
                    {% assign main_product_image = block.settings.option_1_product_image %}
                    {% assign star_product = block.settings.option_1_product %}
                    {% assign custom_price = block.settings.option_1_custom_price %}
                {% endif %}

                {% if block.settings.option_2_text != blank and block.settings.option_2_variant_id != blank and block.settings.option_2_active %}
                    {% assign variant_id = block.settings.option_2_variant_id | times: 1 %}
                    {% assign non_member_variant_id = block.settings.option_2_non_member_variant_id | times: 1 %}
                    {% assign main_product_title = block.settings.option_2_product_title %}
                    {% assign main_product_image = block.settings.option_2_product_image %}
                    {% assign star_product = block.settings.option_2_product %}
                    {% assign custom_price = block.settings.option_2_custom_price %}
                {% endif %}

                {% for variant in star_product.variants %}
                    {% if variant.id == variant_id %}
                        {% assign current_variant = variant %}
                        {% if variant.metafields.custom.for_member_only == true %}
                            {% assign member_only_variant = true %}
                        {% endif %}
                    {% endif %}
                    {% if variant.id == non_member_variant_id %}
                        {% assign non_member_variant = variant %}
                    {% endif %}
                {% endfor %}

                {% if current_variant.metafields.custom.for_member_only == false %}
                    {% if non_member_variant_id != '' %}
                        {% for variant in star_product.variants %}
                            {% if variant.id == non_member_variant_id %}
                                {% assign current_variant = variant %}
                            {% endif %}
                        {% endfor %}
                    {% else %}
                        {% assign current_variant = star_product.variants[1] %}
                    {% endif %}
                {% endif %}
            {% endif %}

            {% capture image_html %}
                <div class="star-product-image-wrapper {% if block.settings.show_hover_image %}hover-image-enable{% endif %}">
                    <a {% if section.settings.image_linked and block.settings.product != blank %}href="{{ current_variant.url }}"{% endif %}>
                        {% if main_product_image != blank %}
                            <img class="star-image star-product-image" loading="lazy" srcset="{{ main_product_image | image_url }}" />
                        {% elsif current_variant.featured_image != blank %}
                            <img class="star-image star-product-image" loading="lazy" srcset="{{ current_variant.featured_image | image_url }}" />
                        {% elsif star_product.featured_image != blank %}
                            <img class="star-image star-product-image" loading="lazy" srcset="{{ star_product.featured_image | image_url }}" />
                        {% elsif block.settings.product_image != blank %}
                            <img class="star-image star-product-image" loading="lazy" srcset="{{ block.settings.product_image | image_url }}" />
                        {% endif %}

                        {% if block.settings.show_hover_image %}
                            {% if block.settings.hover_product_image != blank %}
                                <img class="star-image star-product-hover-image" loading="lazy" srcset="{{ block.settings.hover_product_image | image_url }}">
                            {% else %}
                                <img class="star-image star-product-hover-image" loading="lazy" srcset="{{ current_variant.image | default: star_product.featured_image | image_url }}">
                            {% endif %}
                        {% endif %}
                    </a>
                </div>
            {% endcapture %}

            <div class="star_product_block block-{{ block.id }} image_align_{{ block.settings.image_alignment }}">
                {% if section.settings.show_discount_tag %}
                    {% if block.settings.discount_text == '' %}
                        {% assign price = 0 %}
                        {% assign compare_price = 0 %}
                        {% if block.settings.price == '' %}
                            {% assign price = current_variant.price | replace: currency_symbol, '' | replace: ',', '' %}
                        {% else %}
                            {% assign price = block.settings.price | replace: currency_symbol, '' | times: 100 %}
                        {% endif %}

                        {% assign compare_price = current_variant.compare_at_price | replace: currency_symbol, '' | replace: ',', '' %}

                        {% assign discount_price = compare_price | minus: price %}
                        {% assign discount_percentage = price | times: 100 | divided_by: compare_price %}
                        {% assign discount_percentage = 100 | minus: discount_percentage | round %}
                    {% endif %}

                    {% if section.settings.discount_badge_type == 'absolute' or section.settings.discount_badge_type == 'percentage'%}
                        <div class="discount_tag_wrapper">
                            {% if discount_price > 0 or block.settings.discount_text != '' %}{% if section.settings.discount_badge_image != blank %}<img loading="lazy" srcset="{{ section.settings.discount_badge_image | img_url: 'small' | replace: '_small', '' }}" />{% endif %}{% endif %}
                            <div class="discount_tag_text">
                                {% if block.settings.discount_text == '' %}
                                    {% if section.settings.discount_badge_type == 'absolute' and discount_price > 0 %}
                                        {{ section.settings.discount_text | default: 'SAVE' }}<span>{{ discount_price | money_without_trailing_zeros }}</span>
                                    {% elsif section.settings.discount_badge_type == 'percentage' and discount_price > 0 %}
                                        <span>{{ discount_percentage }}%</span>{{ section.settings.discount_text | default: 'OFF' }}
                                    {% endif %}
                                {% else %}
                                    {{ block.settings.discount_text }}
                                {% endif %}
                            </div>
                        </div>
                    {% endif %}
                {% endif %}

                {% if block.settings.image_alignment == 'left' %}
                    {{ image_html }}
                {% endif %}

                <div class="star-product-info-wrapper text-align-left mobile-text-align-{{ section.settings.text_alignment_m }}">
                    <div class="label_star_ranking">
                        {% if block.settings.tag_1 != blank or block.settings.tag_2 != blank %}
                            <div class="product_labels">
                                {% if block.settings.tag_1 != blank %}
                                    <span class="product_label_1">{{ block.settings.tag_1 }}</span>
                                {% endif %}
                                {% if block.settings.tag_2 != blank %}
                                    <span class="product_label_2">{{ block.settings.tag_2 }}</span>
                                {% endif %}
                            </div>
                        {% endif %}
                    </div>

                    <div class="star_product_title">
                        {% if section.settings.title_linked %}<a href="{{ current_variant.url }}">{% endif %}
                        {% if main_product_title != blank %}
                            <p>{{ main_product_title }}</p>
                        {% else %}
                            {% if block.settings.title != blank %}
                                {{ block.settings.title }}
                            {% else %}
                                <p>{{ star_product.title }}</p>
                            {% endif %}
                        {% endif %}
                        {% if section.settings.title_linked %}</a>{% endif %}
                    </div>

                    {% if block.settings.description != blank %}
                        <div class="star_product_desc">{{ block.settings.description }}</div>
                    {% endif %}

                    <div class="subtitle_price_row">
                        <div class="subtitle_price_column">
                            {% if block.settings.subtitle != blank %}
                                <div class="star_product_subtitle">{{ block.settings.subtitle }}</div>
                            {% endif %}

                            <div class="member-only-price-wrap" {% unless member_only_variant %}style="display: none;"{% endunless %}>
                                <div class="member-only-price">
                                    {% if current_variant.price > 999900 %}
                                        {{ current_variant.price | money | replace: ',00', '' | replace: '.', ' ' }}
                                    {% else %}
                                        {{ current_variant.price | money | replace: ',00', '' | replace: '.', '' }}
                                    {% endif %}
                                </div>
                                <div class="member-tag">
                                    <span>{{ 'products.product.star_member_only' | t }}</span>
                                </div>
                            </div>
                            <div class="price_row" {% if member_only_variant %}style="display: none;"{% endif %}>
                                {% if block.settings.price != blank %}
                                    {% assign dummy_price = 900 | money | replace: '.00', '' %}
                                    <div class="star_product_price">{{ block.settings.price }}</div>
                                {% else %}
                                    <div class="star_product_price">
                                        {% if current_variant.price > 999900 %}
                                            {{ current_variant.price | money | replace: ',00', '' | replace: '.', ' ' }}
                                        {% else %}
                                            {{ current_variant.price | money | replace: ',00', '' | replace: '.', '' }}
                                        {% endif %}
                                    </div>
                                {% endif %}

                                {% if block.settings.show_vat_label %}
                                    <div class="vat-label">{{ block.settings.vat_label_text }}</div>
                                {% endif %}

                                <div class="star_product_compare_price">
                                {% if block.settings.compare_price != blank %}
                                    {{ block.settings.compare_price }}
                                {% elsif current_variant.compare_at_price > current_variant.price %}
                                    {% if current_variant.compare_at_price > 999900 %}
                                        {{ current_variant.compare_at_price | money | replace: ',00', '' | replace: '.', ' ' }}
                                    {% else %}
                                        {{ current_variant.compare_at_price | money | replace: ',00', '' | replace: '.', '' }}
                                    {% endif %}
                                {% endif %}
                                </div>

                                {% if section.settings.show_discount_tag %}
                                    {% if discount_price > 0 and section.settings.discount_badge_type == 'save' %}
                                        <div class="star_product_save_amount">
                                            {% if block.settings.discount_text == '' %}
                                                -{{ discount_price | money_without_trailing_zeros }}
                                            {% else %}
                                                {{ block.settings.discount_text }}
                                            {% endif %}
                                        </div>
                                    {% endif %}
                                {% endif %}

                                {% if block.settings.show_save_amount and block.settings.save_amount != blank %}
                                    <div class="star_product_save_amount">{{ block.settings.save_amount }}</div>
                                {% endif %}
                            </div>
                        </div>
                    </div>

                    <div class="subtitle_price_row_alter" {% unless member_only_variant and non_member_variant != '' %}style="display: none;"{% endunless %}>
                        <div class="non-member-price-wrap">
                            <div class="non-member-price"><span class="price_elem">
                                {% if non_member_variant.price > 999900 %}
                                    {{ non_member_variant.price | money | replace: ',00', '' | replace: '.', ' ' }}
                                {% else %}
                                    {{ non_member_variant.price | money | replace: ',00', '' | replace: '.', '' }}
                                {% endif %}
                            </span><span>{{ 'products.product.non_member_price' | t }}</span></div>
                            <div class="non-member-c-price" {% unless non_member_variant.compare_at_price > non_member_variant.price %}style="display:none;"{% endunless %}>
                                {% if non_member_variant.compare_at_price > 999900 %}
                                    {{ non_member_variant.compare_at_price | money | replace: ',00', '' | replace: '.', ' ' }}
                                {% else %}
                                    {{ non_member_variant.compare_at_price | money | replace: ',00', '' | replace: '.', '' }}
                                {% endif %}
                            </div>
                        </div>
                    </div>

                    <div class="custom_price" {% if custom_price == blank %}style="display: none;"{% endif %}>{{ custom_price }}</div>

                    <div class="product_option_wrapper">
                        {% if block.settings.show_manual_options %}
                            {% if block.settings.option_title != blank %}
                                <div class="option_title">{{ block.settings.option_title }}</div>
                            {% endif %}
                            <div class="product_options" style="--option-bg: {{ block.settings.active_option_bg }};">
                                {% if block.settings.option_1_text != blank and block.settings.option_1_variant_id != blank %}
                                    {% assign option_variant_id = block.settings.option_1_variant_id | times: 1 %}
                                    {% assign option__1_non_member_variant_id = block.settings.option_1_non_member_variant_id | times: 1 %}
                                    {% assign option_1_product = block.settings.option_1_product %}
                                    {% assign non_member_variant = '' %}
                                    {% assign member_only_variant_option_1 = false %}
                                    {% assign non_member_showing = false %}
                                    {% for variant in option_1_product.variants %}
                                        {% if variant.id == option_variant_id %}
                                            {% assign option_variant = variant %}
                                            {% if variant.metafields.custom.for_member_only == true %}
                                                {% assign member_only_variant_option_1 = true %}
                                            {% endif %}
                                        {% endif %}
                                        {% if variant.id == option__1_non_member_variant_id %}
                                            {% assign non_member_variant = variant %}
                                        {% endif %}
                                    {% endfor %}

                                    {% if option_variant.metafields.custom.for_member_only == false %}
                                        {% if option__1_non_member_variant_id != '' %}
                                            {% for variant in option_1_product.variants %}
                                                {% if variant.id == option__1_non_member_variant_id %}
                                                    {% assign non_member_showing = true %}
                                                    {% assign option_variant = variant %}
                                                {% endif %}
                                            {% endfor %}
                                        {% else %}
                                            {% assign option_variant = star_product.variants[1] %}
                                        {% endif %}
                                    {% endif %}
                                    {% assign option_discount_price = option_variant.compare_at_price | minus: option_variant.price %}
                                    {% assign option_discount_percentage = option_variant.price | times: 100 | divided_by: option_variant.compare_at_price %}
                                    {% assign option_discount_percentage = 100 | minus: option_discount_percentage | round %}
                                    {% if block.settings.option_1_active %}
                                        {% assign redirection_url = block.settings.option_1_url %}
                                        {% assign amazon_url = option_variant.metafields.custom.amazon_button_link_star_template %}
                                        {% assign star_variant = option_variant.id %}
                                    {% endif %}
                                    {% if block.settings.option_1_product_image != blank %}
                                        {% assign variant_image = block.settings.option_1_product_image %}
                                    {% else %}
                                        {% assign variant_image = option_variant.image | default: option_1_product.featured_image %}
                                    {% endif %}
                                    {% assign custom_price = block.settings.option_1_custom_price %}
                                    <div class="product_option {% if block.settings.option_1_active %}selected{% endif %}"
                                            data-product-title="{{ block.settings.option_1_product_title | default: option_1_product.title }}"
                                            data-variant-id="{{ option_variant.id }}" data-price="{% if option_variant.price > 999900 %}{{ option_variant.price | money | replace: ',00', '' | replace: '.', ' ' }}{% else %}{{ option_variant.price | money | replace: ',00', '' | replace: '.', '' }}{% endif %}" data-compare-price="{% if option_variant.compare_at_price > option_variant.price %}{% if option_variant.compare_at_price > 999900 %}{{ option_variant.compare_at_price | money | replace: ',00', '' | replace: '.', ' ' }}{% else %}{{ option_variant.compare_at_price | money | replace: ',00', '' }}{% endif %}{% endif %}"
                                            data-non-member-variant-id="{{ option__1_non_member_variant_id }}"
                                            data-non-member-price="{% if non_member_variant.price > 999900 %}{{ non_member_variant.price | money | replace: '.' , ' ' | replace: ',00', '' }}{% else %}{{ non_member_variant.price | money | replace: ',00', '' | replace: '.', '' }}{% endif %}"
                                            data-non-member-compare-price="{% if non_member_variant.compare_at_price > non_member_variant.price %}{% if non_member_variant.compare_at_price > 999900 %}{{ non_member_variant.compare_at_price | money | replace: '.' , ' ' | replace: ',00', '' }}{% else %}{{ non_member_variant.compare_at_price | money | replace: ',00', '' | replace: '.', '' }}{%  endif %}{% endif %}"
                                            data-member-only-variant="{{ member_only_variant_option_1 }}"
                                            data-non-member-showing="{{ non_member_showing }}"
                                            data-redirection-url="{{block.settings.option_1_url}}"
                                            data-amazon-url="{{option_variant.metafields.custom.amazon_button_link_star_template}}"
                                            data-variant-image="{{ variant_image | image_url }}" data-discounted="{% if option_discount_price > 0 %}yes{% else %}no{% endif %}" data-discount-price="{% if section.settings.discount_badge_type == 'absolute' and option_discount_price > 0 %}{{ option_discount_price | money | replace: ',00', '' | replace: '.', '' }}{% elsif section.settings.discount_badge_type == 'percentage' and option_discount_price > 0 %}{{ option_discount_percentage }}%{% endif %}"
                                            data-custom-price="{{ custom_price }}">
                                            {{ block.settings.option_1_text }}
                                            </div>
                                {% endif %}
                                {% if block.settings.option_2_text != blank and block.settings.option_2_variant_id != blank %}
                                    {% assign option_variant_id = block.settings.option_2_variant_id | times: 1 %}
                                    {% assign option_2_non_member_variant_id = block.settings.option_2_non_member_variant_id | times: 1 %}
                                    {% assign option_2_product = block.settings.option_2_product %}
                                    {% assign non_member_variant = '' %}
                                    {% assign member_only_variant_option_2 = false %}
                                    {% assign non_member_showing = false %}
                                    {% for variant in option_2_product.variants %}
                                        {% if variant.id == option_variant_id %}
                                            {% assign option_variant = variant %}
                                            {% if variant.metafields.custom.for_member_only == true %}
                                                {% assign member_only_variant_option_2 = true %}
                                            {% endif %}
                                        {% endif %}
                                        {% if variant.id == option_2_non_member_variant_id %}
                                            {% assign non_member_variant = variant %}
                                        {% endif %}
                                    {% endfor %}

                                    {% if option_variant.metafields.custom.for_member_only == false %}
                                        {% if option_2_non_member_variant_id != '' %}
                                            {% for variant in option_2_product.variants %}
                                                {% if variant.id == option_2_non_member_variant_id %}
                                                    {% assign non_member_showing = true %}
                                                    {% assign option_variant = variant %}
                                                {% endif %}
                                            {% endfor %}
                                        {% else %}
                                            {% assign option_variant = star_product.variants[1] %}
                                        {% endif %}
                                    {% endif %}
                                    {% assign option_discount_price = option_variant.compare_at_price | minus: option_variant.price %}
                                    {% assign option_discount_percentage = option_variant.price | times: 100 | divided_by: option_variant.compare_at_price %}
                                    {% assign option_discount_percentage = 100 | minus: option_discount_percentage | round %}
                                    {% if block.settings.option_2_active %}
                                        {% assign redirection_url = block.settings.option_2_url %}
                                        {% assign amazon_url = option_variant.metafields.custom.amazon_button_link_star_template %}
                                        {% assign star_variant = option_variant.id %}
                                    {% endif %}
                                    {% if block.settings.option_2_product_image != blank %}
                                        {% assign variant_image = block.settings.option_2_product_image %}
                                    {% else %}
                                        {% assign variant_image = option_variant.image | default: option_2_product.featured_image %}
                                    {% endif %}
                                    {% assign custom_price = block.settings.option_2_custom_price %}
                                    <div class="product_option {% if block.settings.option_2_active %}selected{% endif %}"
                                        data-product-title="{{ block.settings.option_2_product_title | default: option_2_product.title }}"
                                        data-variant-id="{{ option_variant.id }}" data-price="{{ option_variant.price | money }}" data-compare-price="{% if option_variant.compare_at_price > option_variant.price %}{{ option_variant.compare_at_price | money }}{% endif %}"
                                        data-non-member-variant-id="{{ option_2_non_member_variant_id }}"
                                        data-non-member-price="{% if non_member_variant.price > 999900 %}{{ non_member_variant.price | money | replace: '.' , ' ' | replace: ',00', '' }}{% else %}{{ non_member_variant.price | money | replace: ',00', '' | replace: '.', '' }}{% endif %}"
                                        data-non-member-compare-price="{% if non_member_variant.compare_at_price > non_member_variant.price %}{% if non_member_variant.compare_at_price > 999900 %}{{ non_member_variant.compare_at_price | money | replace: '.' , ' ' | replace: ',00', '' }}{% else %}{{ non_member_variant.compare_at_price | money | replace: ',00', '' | replace: '.', '' }}{%  endif %}{% endif %}"
                                        data-member-only-variant="{{ member_only_variant_option_2 }}"
                                        data-non-member-showing="{{ non_member_showing }}"
                                        data-redirection-url="{{block.settings.option_2_url}}"
                                        data-amazon-url="{{option_variant.metafields.custom.amazon_button_link_star_template}}"
                                        data-variant-image="{{ variant_image | image_url }}" data-discounted="{% if option_discount_price > 0 %}yes{% else %}no{% endif %}" data-discount-price="{% if section.settings.discount_badge_type == 'absolute' and option_discount_price > 0 %}{{ option_discount_price | money | replace: ',00', '' | replace: '.', '' }}{% elsif section.settings.discount_badge_type == 'percentage' and option_discount_price > 0 %}{{ option_discount_percentage }}%{% endif %}"
                                        data-custom-price="{{ custom_price }}">
                                            {{ block.settings.option_2_text }}
                                            </div>
                                {% endif %}
                            </div>
                        {% endif %}
                    </div>

                    <div class="star_product_btn_qty_wrap">
                        {% if section.settings.show_quantity %}
                        <div class="qty-wrapper">
                            <div class="qty-minus">
                                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <mask id="mask0_25_4987" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="-1" y="-1" width="22" height="22">
                                    <path d="M20 0H0V20H20V0Z" fill="white" stroke="#010101" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                    </mask>
                                    <g mask="url(#mask0_25_4987)">
                                    <path d="M16.6667 10H3.33337" stroke="#010101" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                    </g>
                                </svg>
                            </div>
                            <input type="number" min="1" value="1" class="qty-value">
                            <div class="qty-plus">
                                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <mask id="mask0_25_4986" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="-1" y="-1" width="22" height="22">
                                    <path d="M20 0H0V20H20V0Z" fill="white" stroke="#010101" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                    </mask>
                                    <g mask="url(#mask0_25_4986)">
                                    <path d="M10 3.33325V16.6666" stroke="#010101" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                    </g>
                                    <mask id="mask1_25_4986" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="-1" y="-1" width="22" height="22">
                                    <path d="M20 0H0V20H20V0Z" fill="white" stroke="#010101" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                    </mask>
                                    <g mask="url(#mask1_25_4986)">
                                    <path d="M16.6667 10H3.33337" stroke="#010101" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                    </g>
                                </svg>
                            </div>
                        </div>
                        {% endif %}
                        <div class="star_product_buttons">
                            {% assign show_atc_buttons = true %}
                            {% if block.settings.product_variant_id != blank %}
                                {% assign star_variant = block.settings.product_variant_id %}
                            {% endif %}

                            {% if member_only_variant %}
                                {% unless customer %}
                                    {% assign show_atc_buttons = false %}
                                {% endunless %}
                            {% endif %}


                            {% if show_atc_buttons %}
                                {% if section.settings.atc_btn_text != blank %}
                                    <a
                                        href=""
                                        data-variant-id="{{ star_variant }}"
                                        class="atcButton button_1 star_btn atc_btn"
                                    >
                                        {{ section.settings.atc_btn_text }}
                                    </a>
                                {% endif %}
                            {% else %}
                                <a href="https://account.ecoflow.com/login?return_to=https://{{ request.host }}{{ request.path }}" class="star_btn button_1">{{ 'products.product.login' | t }}</a>
                                {% assign button_counter = button_counter | plus: 1 %}
                            {% endif %}
                        </div>
                    </div>

                    {% if block.settings.show_details_btn %}
                        <div class="view-details-btn" data-handle="{{ star_product.handle }}">{{ block.settings.details_btn_text | default: 'View Details' }}</div>
                    {% endif %}
                </div>

                {% if block.settings.image_alignment == 'right' %}
                    {{ image_html }}
                {% endif %}

                <style>
                    .block-{{ block.id }}{ background: {{ section.settings.info_background }}; }
                    .block-{{ block.id }} span.product_label_1{ color: {{ block.settings.tag_1_color }}; }
                    .block-{{ block.id }} span.product_label_2{ color: {{ block.settings.tag_2_color }}; }
                    .block-{{ block.id }} .star_product_title *{ color: {{ block.settings.title_color }}; }
                    .block-{{ block.id }} .star_product_desc *{ color: {{ block.settings.description_color }}; }
                    .block-{{ block.id }} .star_product_subtitle *{ color: {{ block.settings.subtitle_color }}; }
                    .block-{{ block.id }} .star_product_price{ color: {{ block.settings.price_color }}; }
                    .block-{{ block.id }} .star_product_compare_price{ color: {{ block.settings.compare_price_color }}; }
                    .block-{{ block.id }} .discount_tag_wrapper{ width: {{section.settings.discount_badge_width_d}}px; }
                    .block-{{ block.id }} .discount_tag_wrapper .discount_tag_text, .block-{{ block.id }} .discount_tag_wrapper .discount_tag_text span{ color: {{ section.settings.discount_color }}; }


                    .block-{{ block.id }} .button_1{
                        {% if section.settings.btn_text_color != blank %}color: {{ section.settings.btn_text_color }};{% endif %}
                        {% if section.settings.btn_bg_color != blank %}background-color: {{ section.settings.btn_bg_color }};{% endif %}
                        {% if section.settings.btn_border_color != blank %}
                            border: 1px solid {{ section.settings.btn_border_color }};
                        {% else %}
                            border: none;
                        {% endif %}
                    }
                    .block-{{ block.id }} .button_1:hover{
                        {% if section.settings.btn_text_color_hover != blank %}color: {{ section.settings.btn_text_color_hover }};{% endif %}
                        {% if section.settings.btn_bg_color_hover != blank %}background-color: {{ section.settings.btn_bg_color_hover }};{% endif %}
                        {% if section.settings.btn_border_color_hover != blank %}border: 1px solid {{ section.settings.btn_border_color_hover }};{% endif %}
                        {% if section.settings.btn_bg_hover_opacity > 0 %}
                        opacity: {{ section.settings.btn_bg_hover_opacity | divided_by: 100.0 }};
                        {% endif %}
                    }

                    @media screen and (max-width: 749px){
                        .block-{{ block.id }}{ background: unset; }
                        .block-{{ block.id }} .star-product-info-wrapper, .block-{{ block.id }} .star-product-image-wrapper img.star-image{ background: {{ section.settings.info_background }}; }
                        .block-{{ block.id }} .discount_tag_wrapper{ width: {{ section.settings.discount_badge_width_m }}px; }
                    }
                </style>
            </div>
        {% endfor %}
        </div>
    </div>
{% endif %}
{% schema %}
{
    "name": "Giving back product",
    "settings": [
      {
        "type":"color",
        "id":"section_background",
        "label":"Section background color"
      },
      {
        "type":"color_background",
        "id":"info_background",
        "label":"Product card Background color"
      },
      {
        "type": "text",
        "id": "section_id",
        "label": "Section ID"
      },
      {
        "type": "checkbox",
        "id": "image_linked",
        "label": "Is Image linked to PDP?"
      },
      {
        "type": "checkbox",
        "id": "title_linked",
        "label": "Is Title linked to PDP?"
      },
      {
        "type": "header",
        "content": "Discount badge"
      },
      {
        "type": "checkbox",
        "id": "show_discount_tag",
        "label": "Show Discount Badge"
      },
      {
        "type": "image_picker",
        "id": "discount_badge_image",
        "label": "Badge background image"
      },
      {
        "type": "range",
        "id": "discount_badge_width_d",
        "label": "Badge image width(Desktop)",
        "min": 50,
        "max": 100,
        "step": 2,
        "unit": "px",
        "default": 80
      },
      {
        "type": "range",
        "id": "discount_badge_width_m",
        "label": "Badge image width(Mobile)",
        "min": 30,
        "max": 80,
        "step": 2,
        "unit": "px",
        "default": 50
      },
      {
        "type": "color",
        "id": "discount_color",
        "label": "Discount tag text color"
      },
      {
        "id":"discount_badge_type",
        "type":"select",
        "label":"Discount badge type",
        "options": [
            { "value": "absolute", "label": "Absolute" },
            { "value": "percentage", "label": "Percentage" },
            { "value": "save", "label": "Save amount" }
        ]
      },
      {
        "type": "text",
        "id": "discount_text",
        "label": "Discount text"
      },
      {
        "type": "checkbox",
        "id": "show_quantity",
        "label": "Show quantity box"
      },
      {
        "type": "header",
        "content": "Buttons"
      },
      {
        "type": "text",
        "id": "atc_btn_text",
        "label": "Add to cart button text"
      },
      {
        "type": "color",
        "id": "btn_bg_color",
        "label": "Background color"
      },
      {
        "type": "color",
        "id": "btn_text_color",
        "label": "Text color"
      },
      {
        "type": "color",
        "id": "btn_border_color",
        "label": "Border color"
      },
      {
        "type": "color",
        "id": "btn_bg_color_hover",
        "label": "Background color(Hover)"
      },
      {
        "type": "range",
        "id": "btn_bg_hover_opacity",
        "label": "Background color opacity(Hover)",
        "min": 0,
        "max": 100,
        "step": 10,
        "unit": "%",
        "default": 20
      },
      {
        "type": "color",
        "id": "btn_text_color_hover",
        "label": "Text color(Hover)"
      }
    ],
    "blocks": [
        {
            "type": "product",
            "name": "Product",
            "settings": [
                {
                    "id":"product",
                    "type":"product",
                    "label":"Choose product"
                },
                {
                    "type": "text",
                    "id": "product_variant_id",
                    "label": "Variant ID"
                },
                {
                    "type": "text",
                    "id": "non_member_variant_id",
                    "label": "Non-member variant ID"
                },
                {
                    "type": "header",
                    "content": "Product image"
                },
                {
                    "type": "image_picker",
                    "id": "product_image",
                    "label": "Image"
                },
                {
                    "type": "checkbox",
                    "id": "show_hover_image",
                    "label": "Show hover image?"
                },
                {
                    "type": "image_picker",
                    "id": "hover_product_image",
                    "label": "Hover Image",
                    "info": "If empty, will use the first product image"
                },
                {
                    "id": "image_alignment",
                    "type": "select",
                    "label": "Image alignment",
                    "options": [
                        { "value": "left", "label": "Left" },
                        { "value": "right", "label": "Right" }
                    ]
                },
                {
                    "type": "header",
                    "content": "Discount badge"
                },
                {
                    "id": "discount_text",
                    "type": "text",
                    "label": "Discount tag text",
                    "info": "Highlight the discount price by wrapping it in `span` html tag."
                },
                {
                    "type": "header",
                    "content": "Product Information"
                },
                {
                    "type": "header",
                    "content": "Labels"
                },
                {
                    "type": "text",
                    "id": "tag_1",
                    "label": "Label 1 text"
                },
                {
                    "type": "color",
                    "id": "tag_1_color",
                    "label": "Label 1 color"
                },
                {
                    "type": "text",
                    "id": "tag_2",
                    "label": "Label 2 text"
                },
                {
                    "type": "color",
                    "id": "tag_2_color",
                    "label": "Label 2 color"
                },
                {
                    "type": "header",
                    "content": "Title"
                },
                {
                    "type": "richtext",
                    "id": "title",
                    "label": "Text"
                },
                {
                    "type": "color",
                    "id": "title_color",
                    "label": "Text color"
                },
                {
                    "type": "header",
                    "content": "Description"
                },
                {
                    "type": "richtext",
                    "id": "description",
                    "label": "Text"
                },
                {
                    "type": "color",
                    "id": "description_color",
                    "label": "Text color",
                    "default": "#757575"
                },
                {
                    "type": "header",
                    "content": "Subtitle"
                },
                {
                    "type": "richtext",
                    "id": "subtitle",
                    "label": "Text"
                },
                {
                    "type": "color",
                    "id": "subtitle_color",
                    "label": "Text color"
                },
                {
                    "type": "header",
                    "content": "Price"
                },
                {
                    "type": "text",
                    "id": "price",
                    "label": "Text"
                },
                {
                    "type": "color",
                    "id": "price_color",
                    "label": "Text color"
                },
                {
                    "type": "header",
                    "content": "Compare price"
                },
                {
                    "type": "text",
                    "id": "compare_price",
                    "label": "Text"
                },
                {
                    "type": "color",
                    "id": "compare_price_color",
                    "label": "Text color",
                    "default": "#757575"
                },
                {
                    "type": "textarea",
                    "id": "custom_price",
                    "label": "Custom price text",
                    "info": "For compare price, wrap the price in `span` tag"
                },
                {
                    "type": "checkbox",
                    "id": "show_vat_label",
                    "label": "Show VAT label"
                },
                {
                    "type": "text",
                    "id": "vat_label_text",
                    "label": "VAT label text"
                },
                {
                    "type": "checkbox",
                    "id": "show_manual_options",
                    "label": "Show manual product options"
                },
                {
                    "type": "text",
                    "id": "option_title",
                    "label": "Option title"
                },
                {
                    "type": "header",
                    "content": "Product Option 1"
                },
                {
                    "id":"option_1_product",
                    "type":"product",
                    "label":"Choose product"
                },
                {
                    "type": "text",
                    "id": "option_1_text",
                    "label": "Option 1 text"
                },
                {
                    "type": "text",
                    "id": "option_1_product_title",
                    "label": "Option 1 product title"
                },
                {
                    "type": "image_picker",
                    "id": "option_1_product_image",
                    "label": "Option 1 product image"
                },
                {
                    "type": "text",
                    "id": "option_1_variant_id",
                    "label": "Option 1 variant ID"
                },
                {
                    "type": "text",
                    "id": "option_1_non_member_variant_id",
                    "label": "Option 1 Non-member variant ID"
                },
                {
                    "type": "url",
                    "id": "option_1_url",
                    "label": "Option 1 redirection URL"
                },
                {
                    "type": "textarea",
                    "id": "option_1_custom_price",
                    "label": "Option 1 Custom price text"
                },
                {
                    "type": "checkbox",
                    "id": "option_1_active",
                    "label": "Active option?"
                },
                {
                    "type": "header",
                    "content": "Product Option 2"
                },
                {
                    "id":"option_2_product",
                    "type":"product",
                    "label":"Choose product"
                },
                {
                    "type": "text",
                    "id": "option_2_text",
                    "label": "Option 2 text"
                },
                {
                    "type": "text",
                    "id": "option_2_product_title",
                    "label": "Option 2 product title"
                },
                {
                    "type": "image_picker",
                    "id": "option_2_product_image",
                    "label": "Option 2 product image"
                },
                {
                    "type": "text",
                    "id": "option_2_variant_id",
                    "label": "Option 2 variant ID"
                },
                {
                    "type": "text",
                    "id": "option_2_non_member_variant_id",
                    "label": "Option 2 Non-member variant ID"
                },
                {
                    "type": "url",
                    "id": "option_2_url",
                    "label": "Option 2 redirection URL"
                },
                {
                    "type": "textarea",
                    "id": "option_2_custom_price",
                    "label": "Option 2 Custom price text"
                },
                {
                    "type": "checkbox",
                    "id": "option_2_active",
                    "label": "Active option?"
                },
                {
                    "type": "color",
                    "id": "active_option_bg",
                    "label": "Active option color",
                    "default": "#002055"
                },
                {
                    "type": "checkbox",
                    "id": "show_details_btn",
                    "label": "Show details button"
                },
                {
                    "type": "text",
                    "id": "details_btn_text",
                    "label": "Details button text"
                }
            ]
        }
    ],
    "presets": [
        {
            "name": "Giving back single product",
            "category":"Custom Sections"
        }
    ]
}
{% endschema %}
