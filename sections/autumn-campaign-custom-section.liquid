<section id="{{ section.settings.section_id }}" class="section-{{ section.id }} autumn-custom-section">
    <div class="star-page-container">
        <div class="autumn-custom-section-inner">
            <div class="sec-header">
                {% if section.settings.title != blank %}
                    <div class="title">{{ section.settings.title }}</div>
                {% endif %}
                {% if section.settings.content != blank %}
                    <div class="content">{{ section.settings.content }}</div>
                {% endif %}
            </div>

            {% if section.blocks.size > 0 %}
                <div class="autumn-section-blocks">
                    {% for block in section.blocks %}
                        <div class="autumn-section-block">
                            <div class="autumn-section-block-inner">
                                {% if block.settings.icon != blank %}
                                    <div class="img_wrap">
                                        <img src="{{ block.settings.icon | img_url: '500x' }}" alt="">
                                    </div>
                                {% endif %}
                                <div class="text-content">
                                {% if block.settings.title != blank %}
                                    <div class="block-title">{{ block.settings.title }}</div>
                                {% endif %}
                                {% if block.settings.content != blank %}
                                    <div class="block-content">{{ block.settings.content }}</div>
                                {% endif %}
                                </div>
                            </div>
                        </div>
                    {% endfor %}
                </div>
            {% endif %}

            {% if section.settings.btn_text != blank %}
                <a href="{{ section.settings.btn_url }}" class="btn">{{ section.settings.btn_text }}</a>
            {% endif %}
            <style>
                .section-{{ section.id }}{ padding: {{ section.settings.section_top_space }}px 0 {{ section.settings.section_bottom_space }}px 0; }
                .section-{{ section.id }} .autumn-custom-section-inner{
                    {% if section.settings.section_bg_image != blank %}background-image: url({{ section.settings.section_bg_image | img_url: 'master' }});{% endif %}
                }
                @media screen and (max-width: 749px){
                    .section-{{ section.id }}{ padding: {{ section.settings.section_top_space_m }}px 0 {{ section.settings.section_bottom_space_m }}px 0; }
                    .section-{{ section.id }} .autumn-custom-section-inner{
                        {% if section.settings.section_bg_image_m != blank %}background-image: url({{ section.settings.section_bg_image_m | img_url: 'master' }});{% endif %}
                    }
                }
            </style>
        </div>
    </div>
</section>

{% schema %}
{
  "name": "Custom section",
  "settings": [
    {
      "type": "text",
      "id": "section_id",
      "label": "Section ID"
    },
    {
        "type": "image_picker",
        "id": "section_bg_image",
        "label": "Section background image"
    },
    {
        "type": "image_picker",
        "id": "section_bg_image_m",
        "label": "Section background image mobile"
    },
      {
        "type": "text",
        "id": "title",
        "label": "Title"
      },
      {
        "type": "textarea",
        "id": "content",
        "label": "Content"
      },
      {
        "type": "text",
        "id": "btn_text",
        "label": "Button text"
      },
      {
        "type": "url",
        "id": "btn_url",
        "label": "Button URL"
      },
      {
        "type": "header",
        "content": "Section spacing"
      },
      {
        "type": "range",
        "id": "section_top_space",
        "label": "Top space(Desktop)",
        "min": 0,
        "max": 150,
        "step": 5,
        "unit": "px",
        "default": 120
      },
      {
        "type": "range",
        "id": "section_bottom_space",
        "label": "Bottom space(Desktop)",
        "min": 0,
        "max": 150,
        "step": 5,
        "unit": "px",
        "default": 40
      },
      {
        "type": "range",
        "id": "section_top_space_m",
        "label": "Top space(Mobile)",
        "min": 0,
        "max": 80,
        "step": 5,
        "unit": "px",
        "default": 40
      },
      {
        "type": "range",
        "id": "section_bottom_space_m",
        "label": "Bottom space(Mobile)",
        "min": 0,
        "max": 80,
        "step": 5,
        "unit": "px",
        "default": 40
      }
  ],
  "blocks": [
    {
      "type": "block",
      "name": "Block",
      "settings": [
        {
            "type": "image_picker",
            "id": "icon",
            "label": "Icon"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Title"
        },
        {
          "type": "textarea",
          "id": "content",
          "label": "Content"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Custom section - Autumn LP",
      "settings": {}
    }
  ]
}
{% endschema %}