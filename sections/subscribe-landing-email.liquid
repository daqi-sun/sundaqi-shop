<section class="subscribe">
  <div class="subscribe-wenan">
    <span class="subscribe-title">{{ section.settings.subscribe_title }}</span>
    <span class="subscribe-text">{{ section.settings.subscribe_subtitle }}</span>
  </div>
  <div class="subscribe-form">
    {%- assign formId = 'ContactFooter_' | append: section.id -%}
    <div class="subscribe-form-one-title">{{ section.settings.email_title }}</div>

    {% form 'customer', id: formId, class: 'subscribe-shopify-form' %}
      <input id="subscription-submit-hidden" type="submit" style="display: none">

      {% comment %} 邮箱 {% endcomment %}
      <input
        class="subscribe-form-email"
        type="text"
        id="subscription-email"
        name="contact[email]"
        placeholder="{{ section.settings.email_placeholder }}"
      >
      <input type="hidden" name="contact[tags]" value="landing">
    {% endform %}

    {% comment %} 邮箱异常文本容器 {% endcomment %}
    <div id="subscription-email-error" class="subscribe-phone-err" style="display: none"></div>

    <div id="subscription-email-opt-in-box" class="subscribe-check-box">
      <input
        id="subscription-email-opt-in"
        type="checkbox"
        class="subscribe-checkbox"
        onchange=""
        {%- if section.settings.email_opt_in -%}
          checked
        {%- endif -%}
      >
      <label class="email-title">{{ section.settings.email_consent }}</label>
    </div>

    <button id="subscription-submit-button" class="subscribe-btn" type="button">
      {{ section.settings.submit_btn_text }}
    </button>
  </div>
</section>

<style>
  .subscribe-wenan {
    width: 100%;
  }
  .subscribe-title {
    width: 570px;
    font-size: 40px;
    font-weight: 500;
    font-family: 'Helvetica Neue ForEco';
    display: block;
    text-align: center;
    margin: auto;
    margin-top: 68px;
  }
  .subscribe-text {
    width: 574px;
    height: 56px;
    font-family: 'Helvetica Neue ForEco';
    font-weight: 400;
    line-height: 28px;
    display: block;
    margin: auto;
    margin-top: 22px;
    text-align: center;
    font-size: 20px;
  }
  .subscribe-form {
    width: 474px;
    margin: auto;
    display: flex;
    flex-direction: column;
    margin-top: 40px;
    margin-bottom: 90px;
  }
  .subscribeSelect {
    position: relative;
  }
  .subscribe-form-one-title {
    font-family: 'Helvetica Neue ForEco';
    font-weight: 500;
    font-size: 26px;
    line-height: 31.2px;
    margin-bottom: 27px;
  }
  .subscribe-shopify-form {
    width: 100%;
  }
  .subscribe-form-email {
    width: 100%;
    border-radius: 4px;
  }
  .subscribe-form-email[type='text']:focus {
    border: 1px solid #1598fd;
    outline: none;
  }
  .subscribe-check-box {
    margin-top: 10px;
    white-space: nowrap;
  }
  .email-title {
    display: inline-block;
    margin-left: 14px;
    color: #000000;
    font-size: 16px;
    font-family: 'Helvetica Neue ForEco';
    white-space: normal;
  }
  .subscribe-checkbox {
    margin-top: 2px;
    display: inline-block;
    -webkit-appearance: none;
    -moz-appearance: none;
    outline: none;
    width: 18px;
    height: 18px;
    background: #ffffff;
    position: relative;
    transition: background 0.1s;
    padding: 0;
    border: 1px solid #000000;
    vertical-align: top;
  }
  .subscribe-checkbox[type='checkbox']:focus {
    border: 1px solid #000000;
    outline: none;
  }
  .subscribe-checkbox:checked {
    background: #ffffff;
  }
  .subscribe-checkbox:checked::after {
    content: '';
    height: 6px;
    width: 10px;
    border: #000000 solid 1px;
    position: absolute;
    top: 3px;
    left: 3px;
    border-top: none;
    border-right: none;
    transform: rotate(-45deg);
  }
  .subscribe-form-two-title {
    font-family: 'Helvetica Neue ForEco';
    font-weight: 500;
    font-size: 26px;
    line-height: 31.2px;
    margin-bottom: 27px;
    white-space: nowrap;
    margin-top: 41px;
  }
  .subscribe-form-phone {
    border-radius: 4px;
    width: 100%;
    padding-left: 44px;
  }
  .subscribe-form-phone[type='text']:focus {
    border: 1px solid #1598fd;
    outline: none;
  }
  .subscribe-phone-err {
    width: 100%;
    font-family: 'Helvetica Neue ForEco';
    font-weight: 500;
    font-size: 16px;
    white-space: nowrap;
    margin-top: 27px;
    text-align: center;
    color: red;
  }
  .subscribe-phone-err > p {
    color: #e64943;
  }
  .subscribe-btn {
    width: 323px;
    height: 50px;
    border-radius: 10px;
    background-color: #3f68e0;
    font-family: 'Helvetica Neue ForEco';
    font-size: 22.34px;
    text-align: center;
    line-break: 25.78px;
    color: #ffffff;
    font-weight: 500;
    border: 0px;
    margin: 10px auto 0;
  }
  button:focus {
    outline: 0px auto -webkit-focus-ring-color !important;
  }
  .subscribe-checkbox-phone {
    margin-top: 20px;
    white-space: nowrap;
  }
  .phone-title {
    display: inline-block;
    white-space: normal;
    margin-left: 14px;
    color: #000000;
    font-size: 16px;
    font-family: 'Helvetica Neue ForEco';
  }
  .subscribe-checkbox-phone-input {
    margin-top: 2px;
    display: inline-block;
    vertical-align: top;
    -webkit-appearance: none;
    -moz-appearance: none;
    outline: none;
    width: 18px;
    height: 18px;
    background: #ffffff;
    position: relative;
    transition: background 0.1s;
    padding: 0;
    border: 1px solid #000000;
  }
  .subscribe-checkbox-phone-input[type='checkbox']:focus {
    border: 1px solid #000000;
    outline: none;
  }
  .subscribe-checkbox-phone-input:checked {
    background: #ffffff;
  }
  .subscribe-checkbox-phone-input:checked::after {
    content: '';
    height: 6px;
    width: 10px;
    border: #000000 solid 1px;
    position: absolute;
    top: 3px;
    left: 3px;
    border-top: none;
    border-right: none;
    transform: rotate(-45deg);
  }
  @media (max-width: 749px) {
    .subscribe-title {
      font-size: 24px;
      width: 80%;
    }
    .subscribe-text {
      width: 260px;
      font-size: 14px;
      margin-top: 17px;
      line-height: 20px;
      height: auto;
    }
    .subscribe-form {
      width: 330px;
    }
    .subscribe-form-two-title {
      white-space: normal;
    }
    .subscribe-form {
      margin-top: 48px;
    }
    .subscribe-form-one-title {
      font-size: 20px;
    }
    .subscribe-form-one-title {
      font-size: 20px;
      margin-bottom: 17px;
    }
    .subscribe-form-email {
      width: 335px;
      height: 50px;
    }
    .subscribe-check-box {
      margin-top: 12px;
    }
    .email-title {
      font-size: 12px;
      margin-left: 7px;
    }
    .subscribe-checkbox:checked::after {
      content: '';
      height: 6px;
      width: 10px;
      border: #000000 solid 1px;
      position: absolute;
      top: 3px;
      left: 3px;
      border-top: none;
      border-right: none;
      transform: rotate(-45deg);
    }
    .subscribe-form-two-title {
      margin-top: 31px;
      margin-bottom: 12px;
      font-size: 20px;
    }
    .subscribeSelect {
      margin-top: 12px;
    }
    .subscribe-form-phone {
      width: 335px;
      height: 50px;
    }
    .subscribe-phone-err {
      font-size: 12px;
      margin-top: 12px;
      margin-bottom: 5px;
    }
    .subscribe-btn {
      width: 335px;
    }
    .subscribe-checkbox-phone {
      margin-top: 19px;
    }
    .phone-title {
      font-size: 12px;
      margin-left: 9px;
    }
    .subscribe-checkbox-phone-input {
      width: 85px;
      height: 13px;
    }
    .subscribe-checkbox-phone-input:checked::after {
      content: '';
      height: 4px;
      width: 6px;
      top: 2px;
      left: 2px;
    }
    .subscribe-phone-err > p {
      color: #e64943;
    }
    .subscribe-btn {
      width: 323px;
      height: 50px;
      border-radius: 10px;
      background-color: #3f68e0;
      font-family: 'Helvetica Neue ForEco';
      font-size: 22.34px;
      text-align: center;
      line-break: 25.78px;
      color: #ffffff;
      margin-top: 10px;
      font-weight: 500;
      border: 0px;
    }
    button:focus {
      outline: 0px auto -webkit-focus-ring-color !important;
    }
    .subscribe-checkbox-phone {
      display: flex;
      margin-top: 20px;
    }
    .subscribe-checkbox-phone-input {
      -webkit-appearance: none;
      -moz-appearance: none;
      outline: none;
      width: 115px;
      height: 18px;
      background: #ffffff;
      position: relative;
      transition: background 0.1s;
      padding: 0;
      border: 1px solid #000000;
    }
    .subscribe-checkbox-phone-input[type='checkbox']:focus {
      border: 1px solid #000000;
      outline: none;
    }
    .subscribe-checkbox-phone-input:checked {
      background: #ffffff;
    }
    .subscribe-checkbox-phone-input:checked::after {
      content: '';
      height: 6px;
      width: 10px;
      border: #000000 solid 1px;
      position: absolute;
      top: 3px;
      left: 3px;
      border-top: none;
      border-right: none;
      transform: rotate(-45deg);
    }
  }
</style>
<script>
  // footer section settings will pass to below js file
  window.subscribeLandingSettingJsons = {{ section.settings | json }};
</script>
<script src="{{ 'subscription-form-common.js' |  asset_url }}" defer></script>
<script src="{{ 'shopify-object-api.js' |  asset_url }}" defer></script>
<script src="{{ "subscribe-landing-email.js" | asset_url }}" defer></script>

{% schema %}
{
  "name": "Subscribe Landing Email",
  "settings": [
    {
      "type": "header",
      "content": "Subscription Form API Settings"
    },
    {
      "type": "text",
      "id": "contact_list_id",
      "label": "EDM Contact List ID"
    },
    {
      "type": "text",
      "id": "single_1_id",
      "label": "Single 1 ID"
    },
    {
      "type": "text",
      "id": "single_1_value",
      "label": "Single 1 Value",
      "info": "Please enter a single number for the value. e.g. 1 or 2 or 3"
    },
    {
      "type": "radio",
      "id": "single_1_overwrite",
      "label": "Single 1 Overwrite",
      "options": [
        {
          "value": "true",
          "label": "true"
        },
        {
          "value": "false",
          "label": "false"
        }
      ],
      "default": "false"
    },
    {
      "type": "text",
      "id": "single_2_id",
      "label": "Single 2 ID"
    },
    {
      "type": "text",
      "id": "single_2_value",
      "label": "Single 2 Value",
      "info": "Please enter a single number for the value. e.g. 1 or 2 or 3"
    },
    {
      "type": "radio",
      "id": "single_2_overwrite",
      "label": "Single 2 Overwrite",
      "options": [
        {
          "value": "true",
          "label": "true"
        },
        {
          "value": "false",
          "label": "false"
        }
      ],
      "default": "false"
    },
    {
      "type": "text",
      "id": "single_3_id",
      "label": "Single 3 ID"
    },
    {
      "type": "text",
      "id": "single_3_value",
      "label": "Single 3 Value",
      "info": "Please enter a single number for the value. e.g. 1 or 2 or 3"
    },
    {
      "type": "radio",
      "id": "single_3_overwrite",
      "label": "Single 3 Overwrite",
      "options": [
        {
          "value": "true",
          "label": "true"
        },
        {
          "value": "false",
          "label": "false"
        }
      ],
      "default": "false"
    },
    {
      "type": "text",
      "id": "single_4_id",
      "label": "Single 4 ID"
    },
    {
      "type": "text",
      "id": "single_4_value",
      "label": "Single 4 Value",
      "info": "Please enter a single number for the value. e.g. 1 or 2 or 3"
    },
    {
      "type": "radio",
      "id": "single_4_overwrite",
      "label": "Single 4 Overwrite",
      "options": [
        {
          "value": "true",
          "label": "true"
        },
        {
          "value": "false",
          "label": "false"
        }
      ],
      "default": "false"
    },
    {
      "type": "text",
      "id": "subscription_text_1_id",
      "label": "Text 1 ID"
    },
    {
      "type": "text",
      "id": "subscription_text_1_value",
      "label": "Text 1 Value"
    },
    {
      "type": "radio",
      "id": "subscription_text_1_overwrite",
      "label": "Text 1 Overwrite",
      "options": [
        {
          "value": "true",
          "label": "true"
        },
        {
          "value": "false",
          "label": "false"
        }
      ],
      "default": "false"
    },
    {
      "type": "text",
      "id": "subscription_text_2_id",
      "label": "Text 2 ID"
    },
    {
      "type": "text",
      "id": "subscription_text_2_value",
      "label": "Text 2 Value"
    },
    {
      "type": "radio",
      "id": "subscription_text_2_overwrite",
      "label": "Text 2 Overwrite",
      "options": [
        {
          "value": "true",
          "label": "true"
        },
        {
          "value": "false",
          "label": "false"
        }
      ],
      "default": "false"
    },
    {
      "type": "text",
      "id": "multiple_1_id",
      "label": "Multiple 1 ID"
    },
    {
      "type": "text",
      "id": "multiple_1_value",
      "label": "Multiple 1 Value",
      "info": "Please enter a set of number with comma to seperate. e.g. 1, 2, 3"
    },
    {
      "type": "radio",
      "id": "multiple_1_overwrite",
      "label": "Multiple 1 Overwrite",
      "options": [
        {
          "value": "true",
          "label": "true"
        },
        {
          "value": "false",
          "label": "false"
        }
      ],
      "default": "false"
    },
    {
      "type": "text",
      "id": "multiple_2_id",
      "label": "Multiple 2 ID"
    },
    {
      "type": "text",
      "id": "multiple_2_value",
      "label": "Multiple 2 Value",
      "info": "Please enter a set of number with comma to seperate. e.g. 1, 2, 3"
    },
    {
      "type": "radio",
      "id": "multiple_2_overwrite",
      "label": "Multiple 2 Overwrite",
      "options": [
        {
          "value": "true",
          "label": "true"
        },
        {
          "value": "false",
          "label": "false"
        }
      ],
      "default": "false"
    },
    {
      "type": "text",
      "id": "multiple_3_id",
      "label": "Multiple 3 ID"
    },
    {
      "type": "text",
      "id": "multiple_3_value",
      "label": "Multiple 3 Value",
      "info": "Please enter a set of number with comma to seperate. e.g. 1, 2, 3"
    },
    {
      "type": "radio",
      "id": "multiple_3_overwrite",
      "label": "Multiple 3 Overwrite",
      "options": [
        {
          "value": "true",
          "label": "true"
        },
        {
          "value": "false",
          "label": "false"
        }
      ],
      "default": "false"
    },
    {
      "type": "text",
      "id": "multiple_4_id",
      "label": "Multiple 4 ID"
    },
    {
      "type": "text",
      "id": "multiple_4_value",
      "label": "Multiple 4 Value",
      "info": "Please enter a set of number with comma to seperate. e.g. 1, 2, 3"
    },
    {
      "type": "radio",
      "id": "multiple_4_overwrite",
      "label": "Multiple 4 Overwrite",
      "options": [
        {
          "value": "true",
          "label": "true"
        },
        {
          "value": "false",
          "label": "false"
        }
      ],
      "default": "false"
    },
    {
      "type": "text",
      "id": "multiple_5_id",
      "label": "Multiple 5 ID"
    },
    {
      "type": "text",
      "id": "multiple_5_value",
      "label": "Multiple 5 Value",
      "info": "Please enter a set of number with comma to seperate. e.g. 1, 2, 3"
    },
    {
      "type": "radio",
      "id": "multiple_5_overwrite",
      "label": "Multiple 5 Overwrite",
      "options": [
        {
          "value": "true",
          "label": "true"
        },
        {
          "value": "false",
          "label": "false"
        }
      ],
      "default": "false"
    },
    {
      "type": "header",
      "content": "UI Settings"
    },
    {
      "type": "text",
      "id": "subscribe_title",
      "label": "Title"
    },
    {
      "type": "text",
      "id": "subscribe_subtitle",
      "label": "Subtitle"
    },
    {
      "type": "text",
      "id": "email_title",
      "label": "Email title"
    },
    {
      "type": "text",
      "id": "email_placeholder",
      "label": "Email placeholder"
    },
    {
      "type": "text",
      "id": "email_consent",
      "label": "Email consent"
    },
    {
      "type": "checkbox",
      "id": "email_opt_in",
      "label": "Email Opt In",
      "info": "Email consent is selected by default"
    },
    {
      "type": "text",
      "id": "submit_btn_text",
      "label": "Submit button text"
    },
    {
      "type": "header",
      "content": "Hint Text"
    },
    {
      "type": "text",
      "id": "hint_email_empty",
      "label": "Hint Email Empty"
    },
    {
      "type": "text",
      "id": "hint_email_valid",
      "label": "Hint Email Validate"
    },
    {
      "type": "text",
      "id": "hint_email_opt_in",
      "label": "Hint Email Opt-In"
    },
    {
      "type": "text",
      "id": "subcribe_success_text",
      "label": "Subcribe Success Text"
    }
  ],
  "presets": [
    {
      "name": "Subscription Landing Email",
      "settings": {}
    }
  ]
}
{% endschema %}
