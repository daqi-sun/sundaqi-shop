{{ 'jquery.min.js' | asset_url | script_tag }}
<div id="{{ section.settings.section_id }}" class="section-{{ section.id }} {{ section.settings.section_class }} ef-story-line-a-wrapper ef-story_pc">
    <div class='ef-story-line-a'>
      <div class="ef-story-line-a-h">
        <span>{{ section.settings.title }}</span>
      </div>
      <div class="ef-story-line-a-box">
        <div class="ef-story-line-a-card">
          <div class="ef-story-line-a-l">
            <div class="ef-story-line-a-card-item">
              <div class="ef-story-line-a-card-msa">
                <div class="ef-story-line-a-card-msa-1">{{ section.settings.col_1_title }}</div>
              </div>
              <div class="{% if section.settings.col_1__popup != blank %}ef-story-line-a-popup{% endif %} ef-story-line-a-card-msd" data-index="0" data-win="{{ section.settings.col_1__popup }}">
                <span class="ef-story-line-a-card-msd1">
                  {{ section.settings.col_1_content }}
                </span>
              </div>
            </div>
          </div>
          <div class="ef-story-line-a-r">
            {% if section.settings.msline1 != blank %}
            <div class="ef-story-line-a-long ef-story-line-a-long1 ef-story-line-a-popup" data-index="1" data-win='{{ section.settings.msline1text }}'>
              <div class="ef-story-line-a-long-text">{{ section.settings.msline1 }}</div>
            </div>
            {% endif %}
            {% if section.settings.msline2 != blank %}
            <div class="ef-story-line-a-long ef-story-line-a-long2 ef-story-line-a-popup" data-index="2" data-win='{{ section.settings.msline2text }}'>
              <div class="ef-story-line-a-long-text">{{ section.settings.msline2 }}</div>
            </div>
            {% endif %}
            {% if section.settings.msline3 != blank %}
            <div class="ef-story-line-a-long ef-story-line-a-long3 ef-story-line-a-popup" data-index="3" data-win='{{ section.settings.msline3text }}'>
              <div class="ef-story-line-a-long-text">{{ section.settings.msline3 }}</div>
            </div>
            {% endif %}
            {% if section.settings.msline4 != blank %}
            <div class="ef-story-line-a-long ef-story-line-a-long4 ef-story-line-a-popup" data-index="4" data-win='{{ section.settings.msline4text }}'>
              <div class="ef-story-line-a-long-text">{{ section.settings.msline4 }}</div>
            </div>
            {% endif %}
            {% if section.settings.msline5 != blank %}
                <div class="ef-story-line-a-long ef-story-line-a-long5 ef-story-line-a-popup" data-index="5" data-win='{{ section.settings.msline5text }}'>
                    <div class="ef-story-line-a-long-text">{{ section.settings.msline5 }}</div>
                </div>
            {% endif %}
            {% if section.settings.msline6 != blank %}
              <div class="ef-story-line-a-long ef-story-line-a-long6 ef-story-line-a-popup" data-index="6" data-win='{{ section.settings.msline6text }}'>
                  <div class="ef-story-line-a-long-text">{{ section.settings.msline6 }}</div>
              </div>
            {% endif %}

            <div class="ef-story-line-a-card-item ef-story-line-openwin ef-story-line-a-card-2">
              <div class="ef-story-line-a-card-msa">
                <div class="ef-story-line-a-card-msa-1">{{ section.settings.col_2_title }}</div>
              </div>
            </div>
            <div class="ef-story-line-a-card-item ef-story-line-openwin ef-story-line-a-card-3">
              <div class="ef-story-line-a-card-msa">
                <div class="ef-story-line-a-card-msa-1">{{ section.settings.col_3_title }}</div>
              </div>
            </div>
            <div class="ef-story-line-a-card-item ef-story-line-openwin ef-story-line-a-card-4">
              <div class="ef-story-line-a-card-msa">
                <div class="ef-story-line-a-card-msa-1">{{ section.settings.col_4_title }}</div>
              </div>
            </div>
            <div class="ef-story-line-a-card-item ef-story-line-openwin ef-story-line-a-card-5">
              <div class="ef-story-line-a-card-msa">
                <div class="ef-story-line-a-card-msa-1">{{ section.settings.col_5_title }}</div>
              </div>
            </div>
            <div class="ef-story-line-a-card-item ef-story-line-openwin ef-story-line-a-card-6">
              <div class="ef-story-line-a-card-msa">
                <div class="ef-story-line-a-card-msa-1">{{ section.settings.col_6_title }}</div>
              </div>
            </div>
          </div>
        </div>
        <div class="ef-story-line-a-card ef-story-line-bottom">
            <div class="ef-story-line-bottom-box ef-story-line-bottom-box-1">
                <div class="ef-story-line-a-card-msa-1">{{ section.settings.col_7_title }}</div>
                {% if section.settings.msline7 != blank %}
                    <div class="ef-story-line-a-long7 ef-story-line-a-popup" data-index="7" data-win='{{ section.settings.msline7text }}'>
                        <div class="ef-story-line-a-long-text">{{ section.settings.msline7 }}</div>
                    </div>
                {% endif %}
            </div>
            <div class="ef-story-line-bottom-box ef-story-line-bottom-box-2">
                <div class="ef-story-line-a-card-msa-1">{{ section.settings.col_8_title }}</div>
                {% if section.settings.msline8 != blank %}
                  <div class="ef-story-line-a-long8 ef-story-line-a-popup" data-index="8" data-win='{{ section.settings.msline8text }}'>
                      <div class="ef-story-line-a-long-text">{{ section.settings.msline8 }}</div>
                  </div>
                {% endif %}
            </div>
        </div>
      </div>
      <div class="ef-story-line-a-win" data-win="wina">
        <div class="ef-story-line-a-win-in">
          <span class="ef-story-line-a-win-ms"></span>
          {% include 'icon-ef-close' %}
        </div>
      </div>
    </div>
    <div class="ef-story-line-more">{{ section.settings.more_text }}</div>
  </div>
  <div id="term_text" style="display: none;">{{ section.settings.story_terms_text }}</div>

  <style>
    .ef-story-line-a-wrapper {
      width: 100%;
      padding: 78px 57px 50px;
      max-width: 90%;
      margin: auto;
      position: relative;
    }
    .ef-story-line-a {
      position: relative;
      max-width: 1240px;
      padding: 55px 20px 28px;
      margin: 0 auto;
      border-radius: 8px;
      background: #FEFAE8;
      border: 0;
    }
    .ef-story-line-a-h {
      display: flex;
      justify-content: center;
      align-items: center;
      color: #084D24;
      text-align: center;
      font-family: Helvetica Neue ForEco;
      font-size: 40px;
      font-weight: 700;
      line-height: 1.1;
      padding: 0 20px;
    }
    .ef-story-line-a-h span {
      margin: 0 20px;
    }
    .ef-story-line-a-card {
      display: flex;
      height: auto;
      padding: 28px 45px 10px;
      border-radius: 10px;
      background: {{ section.settings.table_bg_color }};
      color: #fff;
    }
    .ef-story-line-a-box .ef-story-line-a-r {
      position: relative;
      display: flex;
      flex: 10;
      padding-top: 54px;
    }
    .ef-story-line-a-box .ef-story-line-a-card-item {
      position: relative;
      flex: 1;
      height: 177px;
      margin: 0 3px;
      border-radius: 8px;
      background: {{ section.settings.column_bg_color }};
      text-align: center;
    }
    .ef-story-line-a-box .ef-story-line-a-card-item.ef-story-line-a-card-4, .ef-story-line-a-box .ef-story-line-a-card-item.ef-story-line-a-card-5{ flex: 0 1 23.25%; }
    .ef-story-line-a-box .ef-story-line-a-card-item.ef-story-line-a-card-6{ flex: 0 1 13.9%; }
    .ef-story-line-a-box .ef-story-line-a-card-msa {
      position: absolute;
      top: -54px;
      left: 0;
      width: 100%;
      height: 54px;
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      justify-content: center;
    }
    .ef-story-line-a-card-msa-1 {
      width: 100%;
      color: black;
      text-align: center;
      font-family: Helvetica Neue ForEco;
      font-size: 20px;
      font-weight: 500;
      line-height: 22px;
      white-space: nowrap;
    }
    .ef-story-line-a-card-item.ef-story-line-a-card-item-active .ef-story-line-a-card-msa-1 {
      display: inline-block;
      width: 30px;
      height: 30px;
      line-height: 30px;
      background-color: #FFC24D;
      border-radius: 50%;
      color: #000;
    }
    .ef-story-line-a-box .ef-story-line-a-card-msb {
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 72px;
      border-radius: 0px 0px 10.658px 10.658px;
      background: rgba(255, 194, 77, 0.42);
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      justify-content: center;
    }
    .ef-story-line-a-box .ef-story-line-a-card-msb1 {
      color: #040D1C;
      text-align: center;
      font-family: Helvetica Neue ForEco;
      font-size: 17.706px;
      font-style: normal;
      line-height: 20.219px; /* 114.192% */
      text-decoration-line: underline;
      font-weight: 500;
    }
    .ef-story-line-a-box .ef-story-line-a-l {
      flex: 2;
      padding-top: 54px;
      position: relative;
    }
    .ef-story-line-a-box .ef-story-line-a-l .ef-story-line-a-card-item {
      display: flex;
      align-items: center;
    }
    .ef-story-line-a-box .ef-story-line-a-l .ef-story-line-a-card-msa {
      flex-wrap: initial;
      white-space: nowrap;
    }
    .ef-story-line-a-box .ef-story-line-a-l .ef-story-line-a-card-msa-1 {
      flex: 1;
    }
    .ef-story-line-a-box .ef-story-line-a-l .ef-story-line-a-card-msd {
      border-radius: 0px 10px 10px 0px;
      background: #FFC24D;
      color: #000;
      font-family: Helvetica Neue ForEco;
      font-size: 14px;
      font-style: normal;
      font-weight: 500;
      line-height: 1.2; /* 125% */
      text-align: left;
      padding: 24px 26px;
      text-decoration: underline;
    }
    .ef-story-line-a-box .ef-story-line-a-l .ef-story-line-a-card-msd1 {
      display: block;
    }
  </style>
  <style>
    .ef-story-line-more {
      color: #707070;
      text-align: center;
      font-family: Helvetica Neue ForEco;
      font-size: 16px;
      font-style: normal;
      font-weight: 400;
      line-height: normal;
      text-decoration-line: underline;
      margin-top: 10px;
      cursor: pointer;
    }
    .ef-story-line-a-long {
      position: absolute;
      top: 76px;
      left: 0;
      z-index: 8;
      width: 100%;
      height: 30px;
      border-radius: 6px;
      background: #FFC24D;
      color: #000;
      text-align: center;
      font-family: Helvetica Neue ForEco;
      font-size: 20px;
      font-style: normal;
      line-height: 11.504px; /* 57.518% */
      text-decoration-line: underline;
      line-height: 30px;
      cursor: pointer;
      font-weight: 500;
    }
    .ef-story-line-a-long1 {
      top: 66px;
      left: 3px;
      height: 53px;
      width: 85%;
      line-height: 53px;
      font-size: 20px;
    }
    .ef-story-line-a-long2 {
      top: 126px;
      left: 4px;
      width: 18%;
      height: 53px;
      line-height: 53px;
      text-align: left;
      padding: 5px 15px 5px 20px;
    }
    .ef-story-line-a-long3 {
      top: 126px;
      left: calc(18% + 12px);
      width: 18%;
      height: 53px;
      line-height: 53px;
      text-align: left;
      padding: 5px 15px 5px 20px;
    }
    .ef-story-line-a-long4 {
      top: 126px;
      left: calc(36% + 21px);
      width: 211px;
      height: 53px;
      line-height: 53px;
      padding: 0 5px;
    }
    .ef-story-line-a-long5 {
      top: 126px;
      left: calc(60% + 20px);
      width: 211px;
      height: 53px;
      line-height: 53px;
      padding: 0 34px;
    }
    .ef-story-line-a-long6 {
      top: 95px;
      left: calc(85% + 9px);
      width: 13.5%;
      height: 80px;
      line-height: 53px;
      font-size: 20px;
      color: #fff;
    }
    .ef-story-line-a-long7 {
      top: 126px;
      left: 76.4%;
      width: 18.7%;
      height: 53px;
      line-height: 53px;
    }
    .ef-story-line-a-long8 {
      top: 186px;
      left: 19.2%;
      width: 23.5%;
      height: 53px;
      line-height: 53px;
    }
    .ef-story-line-a-long-text {
      line-height: 1.2;
      display: flex;
      align-items: center;
      height: 100%;
      justify-content: center;
    }
  </style>
  <style>
    .ef-story_pc {
      display: block;
    }
    .ef-story_mobile {
      display: none;
    }
    .ef-story-line-a-popup {
      cursor: pointer;
    }
    .ef-story-line-a-win {
      position: absolute;
      top: 65%;
      left: 50%;
      z-index: 22;
      display: none;
      width: 820px;
      min-height: 60px;
    }
    .ef-story-line-a-win[data-index="5"], .ef-story-line-a-win[data-index="6"], .ef-story-line-a-win[data-index="7"], .ef-story-line-a-win[data-index="8"], .ef-story-line-a-win[data-index="1"], .ef-story-line-a-win[data-index="4"]{
        top: 59%;
        left: unset;
        right: 12%;
        transform: none;
    }
    .ef-story-line-a-win[data-index="3"], .ef-story-line-a-win[data-index="2"]{ top: 59%; left: 11.5%; }
    .ef-story-line-a-win[data-index="0"]{ top: 80%; left: 0; transform: none; }
    .ef-story-line-a-win-in-out {
      position: absolute;
      top: 50%;
      left: 50%;
      z-index: 22;
      width: 820px;
      min-height: 60px;
      transform: translate(-50%, -50%);
    }
    .ef-story-line-a-win.ef-story-line-a-win-active {
      display: block;
    }
    .ef-story-line-a-win-in-opacity {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background-color: #000;
      opacity: 0.7;
    }
    .ef-story-line-a-win-in {
      position: relative;
      border-radius: 3px;
      padding: 16px 24px 16px 20px;
      margin: 0 auto;
      border-radius: 8px;
      background: #D3D5D8E5;
    }
    .ef-story-line-a-win-close {
      position: absolute;
      top: 2px;
      right: 2px;
      cursor: pointer;
      font-size: 40px
    }
    .ef-story-line-a-win-ms, .ef-story-line-a-win-ms *{
      font-size: 18px;
      font-weight: 200;
      line-height: 1.2;
      font-family: 'Helvetica Neue ForEco';
    }
    .ef-story-line-a-win-ms strong{ font-weight: 500; }
    .ef-story-more-global-inner .ef-story-line-a-win-ms *{ font-size: 14px; font-weight: 300; }
    .ef-story-more-global-inner .ef-story-line-a-win-ms strong{ font-size: 16px; font-weight: 700; }
  </style>
  <style>
    @media screen and (max-width: 1023px) {
      .ef-story-line-a {
        padding: 10px 4px 0;
        background: none;
      }
      .ef-story-line-a-h {
        font-size: 20px;
        line-height: 22px;
      }
      .ef-story-line-a-card {
        padding: 4px 10px;
        margin-top: 12px;
        border-radius: 4px;
      }
      .ef-story-line-a-box .ef-story-line-a-l .ef-story-line-a-card-msd {
        border-radius: 2px;
        font-size: 12px;
        line-height: 16px;
      }
      .ef-story-line-a-box .ef-story-line-a-l .ef-story-line-a-card-mad-icon {
        width: 14px;
        height: 14px;
      }
      .ef-story-line-a-box .ef-story-line-a-r {
        padding-top: 30px;
      }
      .ef-story-line-a-box .ef-story-line-a-card-msa {
        top: -30px;
        height: 30px;
        flex-wrap: wrap-reverse;
        flex-direction: column;
        padding-bottom: 0 !important;
      }
      .ef-story-line-a-box .ef-story-line-a-l {
        padding-top: 30px;
        width: 70px;
        flex: 0 0 70px;
      }
      .ef-story-line-a-box .ef-story-line-a-card-item.ef-story-line-a-card-item-two {
        flex: 4;
      }
      .ef-story-line-a-long {
        top: 68px;
        font-size: 14px;
      }
      .ef-story-line-a-long2 {
        top: 100px;
        white-space: nowrap;
      }
      .ef-story-line-a-card {
        height: auto;
      }
      .ef-story-line-a-box .ef-story-line-a-card-item {
        height: 130px;
        border-radius: 2px;
        margin: 0 3px 0 0;
      }
      .ef-story-line-a-box .ef-story-line-a-r .ef-story-line-a-card-item { flex: unset; width: calc(33.33% - 16.66px); margin: 0 3px 0 0; }
      .ef-story-line-a-box .ef-story-line-a-r .ef-story-line-a-card-item.ef-story-line-a-card-2{ width: 24%; flex: 0 0 24%; }
      .ef-story-line-a-box .ef-story-line-a-r .ef-story-line-a-card-item.ef-story-line-a-card-3{ width: 18%; flex: 0 0 18%; }
      .ef-story-line-a-box .ef-story-line-a-r .ef-story-line-a-card-item.ef-story-line-a-card-4{ width: 25%; flex: 0 0 25%; }
      .ef-story-line-a-box .ef-story-line-a-r .ef-story-line-a-card-item.ef-story-line-a-card-5{ width: 17%; flex: 0 0 17%; }
      .ef-story-line-a-box .ef-story-line-a-r .ef-story-line-a-card-item.ef-story-line-a-card-6{ width: 19%; flex: 0 0 19%; }
      .ef-story-line-a-box .ef-story-line-a-r div.ef-story-line-a-card-last-item { width: 29px; }
      .ef-story-line-a-box .ef-story-line-a-card-msb {
        height: 48px;
        border-radius: 0px 0px 2.7px 2.7px;
      }
      .ef-story-line-a-box .ef-story-line-a-card-msb1 {
        font-size: 14px;
        line-height: 16px;
        font-weight: 500;
      }
      .ef-story-line-a-win-in-out {
        width: 280px;
      }
      .ef-story-line-a-card-item.ef-story-line-a-card-item-active .ef-story-line-a-card-msa-1 {
        width: 26px;
        height: 26px;
        line-height: 26px;
      }
    }
    @media screen and (max-width: 1023px) {
      .ef-story-line-a-wrapper {
        padding: 20px 15px 35px;
        max-width: 100%;
      }
      .ef-story-line-a {
        font-family: Helvetica Neue ForEco;
        font-size: 20px;
        font-weight: 500;
        padding: 0;
      }
      .ef-story-line-more {
        font-size: 12px;
        line-height: 1.2;
      }
      .ef-story-line-a-box .ef-story-line-a-l .ef-story-line-a-card-msd {
        padding: 8px 5px 16px;
      }
      .ef-story-line-a-box .ef-story-line-a-l .ef-story-line-a-card-msd svg{ width: 26px; height: 22px; }
      .ef-story-line-a-card-msa-1 {
        font-size: 11px;
        line-height: 38px;
      }
      .ef-story-line-a-card-msa-1 .flexbox{ display: flex; justify-content: space-between; padding: 0 5px; }
      .ef-story-line-a-card-msa-1 .flexbox.center{ justify-content: center; }
      .ef-story-line-a-long1, .ef-story-line-a-long2, .ef-story-line-a-long3, .ef-story-line-a-long4{ font-size: 12px; height: 33px; border-radius: 3px; }
      .ef-story-line-a-long2, .ef-story-line-a-long3, .ef-story-line-a-long4, .ef-story-line-a-long5{ height: 74px; }
      .ef-story-line-a-long2, .ef-story-line-a-long3, .ef-story-line-a-long4{ background: #fafafa !important; }
      .ef-story-line-a-long1 {
        top: 36px;
        left: 0;
        font-size: 14px;
        width: 87%;
      }
      .ef-story-line-a-long2 {
        top: 74px;
        width: 24%;
        left: 0px;
        padding: 0 2px;
      }
      .ef-story-line-a-long2 .ef-story-line-a-long-text{ font-size: 12px; }
      .ef-story-line-a-long3 {
        width: 18%;
        top: 74px;
        left: calc(24% + 3px);
        bottom: 0;
      }
      .ef-story-line-a-long4 {
        top: 74px;
        width: 25%;
        left: calc(42% + 7px);
        text-align: left;
      }
      .ef-story-line-a-long5 {
        top: 74px;
        width: 18%;
        left: calc(66% + 10px);
        padding: 0 5px;
        text-align: left;
      }
      .ef-story-line-a-long6 {
        top: 74px;
        width: 19%;
        left: calc(87% + 3px);
        padding: 0 14px;
        height: 74px;
        text-align: left;
      }

      .ef-story-line-a-card-msa .line{
        width: 36px;
        display: inline-block;
        height: 1px;
        background: #000;
        vertical-align: middle;
      }
      .ef-story-line-a-card-msa .line.line-1{ width: 24px; }
      .ef-story-line-a-long-text {
        white-space: break-spaces;
        font-size: 12px;
      }
      .ef-story-line-a-win {
        top: 58%;
        width: 280px;
      }
      .ef-story-line-a-win-in .ef-story-line-a-win-ms, .ef-story-line-a-win-in .ef-story-line-a-win-ms * {
        font-size: 12px !important;
        display: inline-block;
        line-height: 1.24;
      }
      .ef-story-line-a-win-ms strong{ font-size: 12px; }
      .ef-story-line-a-win-close {
        font-size: 20px;
        width: 20px;
        height: 20px;
      }
      .ef-story-line-a-win-in {
        padding: 10px 5px;
        border-radius: 3px;
      }
      .card-time-wrapper {
        display: inline-flex;
        justify-content: space-between;
      }
      .ef-story-line-a-card-start {
        width: 56px;
        display: flex;
        justify-content: space-between;
      }
      .ef-story-line-a-card-end {
        width: 45px;
        display: flex;
        justify-content: space-between;
      }
      .ef-story-line-a-win[data-index="1"], .ef-story-line-a-win[data-index="2"], .ef-story-line-a-win[data-index="4"], .ef-story-line-a-win[data-index="6"]{ top: 68%; right: 3%; left: unset; transform: none; }
      .ef-story-line-a-win[data-index="3"]{ top: 67%; }
      .ef-story-line-a-win[data-index="0"]{ top: 68%; left: 4%; }
      .ef-story-line-a-win[data-index="4"]{ top: 68%; right: 14%; }
      .ef-story-line-a-win[data-index="5"], .ef-story-line-a-win[data-index="7"], .ef-story-line-a-win[data-index="8"]{ right: 12%; top: 68%; }
    }
    .ef-story-more-global {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 99999;
        display: block;
      }
      .ef-story-more-global:before {
        content: "";
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,.5);
      }

      .ef-story-more-global-inner {
        position: absolute;
        top: 50%;
        left: 50%;
        width: 820px;
        max-height: 460px;
        padding: 34px 39px 24px;
        border-radius: 12px;
        text-align: center;
        transform: translate(-50%,-50%);
        z-index: 2;
        color: #FFF;
        font-family: Helvetica Neue ForEco;
        font-size: 16px;
        font-weight: 400;
        line-height: 22px;
        overflow-y: auto;
        background: #fff;
        text-align: left;
      }
      .ef-story-global-close {
        position: absolute;
        top: 16px;
        right: 16px;
        cursor: pointer;
        font-size: 40px;
      }

      @media screen and (max-width: 1023px) {
        .ef-story-more-global-inner {
          width: 280px;
          max-height: 290px;
          font-size: 14px;
          padding: 16px 12px;
        }
        .ef-story-global-close {
          font-size: 14px;
          width: 14px;
          height: 14px;
        }
        .ef-story-more-global-inner .ef-story-line-a-win-ms p {
          font-size: 12px !important;
        }
        .ef-story-more-global-inner .ef-story-line-a-win-ms strong{ font-size: 14px; }
        .ef-story-global-close{ top: 10px; right: 10px; }
      }

  </style>
  <script type="text/javascript">
  $(function(){
    var htmlText = $('#term_text').html();
    function initialGlobalPopup (text) {
      var tpl = `
        <div class="ef-story-more-global">
            <div class="ef-story-more-global-inner">
              <span class="ef-story-line-a-win-ms">${text}</span>
              <svg class="ef-story-global-close" width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                <circle cx="9" cy="9" r="8.25" stroke="#757575" stroke-width="1.5"></circle>
                <rect x="4.7574" y="5.46436" width="1" height="11" rx="0.5" transform="rotate(-45 4.7574 5.46436)" fill="#D8D8D8" stroke="#757575"></rect>
                <rect x="12.4852" y="4.70711" width="1" height="11" rx="0.5" transform="rotate(45 12.4852 4.70711)" fill="#D8D8D8" stroke="#757575"></rect>
              </svg>
            </div>
          </div>
      `;

      $('body').append(tpl);

      // 关闭弹窗
      $('.ef-story-more-global').on('click', '.ef-story-global-close', function() {
         $('.ef-story-more-global').remove();
      });
    };

    function initialModal($node, text, index){
      var tpl = `
          <div class="ef-story-line-a-win ef-story-line-a-win-active" data-win="wina" data-index="${index}">
            <div class="ef-story-line-a-win-in">
              <span class="ef-story-line-a-win-ms">${text}</span>
              <svg class="ef-story-line-a-win-close" xmlns="http://www.w3.org/2000/svg" width="41" height="40" viewBox="0 0 41 40" fill="none">
                <path d="M20.0736 36.1733C29.3121 36.1733 36.8014 28.8118 36.8014 19.7308C36.8014 10.6499 29.3121 3.28839 20.0736 3.28839C10.835 3.28839 3.3457 10.6499 3.3457 19.7308C3.3457 28.8118 10.835 36.1733 20.0736 36.1733Z" fill="#00000066"/>
                <path d="M25.0914 14.7981L15.0547 24.6636" stroke="white" stroke-width="1.11111" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M15.0547 14.7981L25.0914 24.6636" stroke="white" stroke-width="1.11111" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </div>
          </div>
      `;

      $node.append(tpl);

      // 关闭弹窗
      $('.ef-story_pc').on('click', '.ef-story-line-a-win-close', function() {
         $('.ef-story_pc .ef-story-line-a-win').remove()
      });
    };

    $('.ef-story-line-a').delegate('.ef-story-line-a-popup', 'click', function(evt) {
      var name = $(this).attr('data-win');
      var line_index = $(this).attr('data-index');

      if(/Mobile|iP(hone|od)|Android|BlackBerry|IEMobile|Silk/.test(navigator.userAgent)) {
        var width = $(this).width();
        var height = $(this).height()

        var position = $(this).position();
        var top = $(this).hasClass('ef-story-line-a-card-msb') ? position.top + height + 40 : position.top + height;
        var style = `top: ${top}px; right: 5%; transform: translateX(0%)`;

        if(name) {
          $('.ef-story_pc .ef-story-line-a-win').remove()
          initialModal($('.ef-story_pc'), name, line_index);
        }
      } else {
        if(name) {
          $('.ef-story_pc .ef-story-line-a-win').remove()
          if(line_index == 0) initialModal($('.ef-story-line-a-l'), name, line_index);
          else initialModal($('.ef-story_pc'), name, line_index);
        }
      }
    });

    $('.ef-story-line-more').on('click', function(){
      initialGlobalPopup(htmlText);
    });
  });
  </script>
  <style>
    .ef-story-line-a-card.ef-story-line-bottom{ margin-top: 0; padding-top: 0; gap: 15px; }
    .ef-story-line-bottom-box .ef-story-line-a-card-msa-1, .ef-story-line-bottom-box .ef-story-line-a-popup{
        background: #EFEFEF;
        font-size: 20px;
        color: #084D24;
        padding: 12px;
        width: 170px;
        border-radius: 8px;
    }
    .ef-story-line-bottom-box .ef-story-line-a-popup{
        margin-top: 4px;
        height: auto;
        color: #fff;
        text-decoration: underline;
        font-family: Helvetica Neue ForEco;
        font-weight: 500;
    }
    .ef-story-line-a-box .ef-story-line-a-l .ef-story-line-a-card-msd { background-color: {{ section.settings.bg_color1 | default: '#FFC24D'  }};}
    .page-container .ef-story-line-a-long1 { background-color: {{ section.settings.bg_color2 | default: 'rgba(255, 194, 77, 0.6)'  }};}
    .page-container .ef-story-line-a-long2 { background-color: {{ section.settings.bg_color3 | default: 'rgba(255, 194, 77, 0.6)'  }};}
    .page-container .ef-story-line-a-long3 { background-color: {{ section.settings.bg_color4 | default: 'rgba(255, 194, 77, 0.6)'  }};}
    .page-container .ef-story-line-a-long4 { background-color: {{ section.settings.bg_color5 | default: 'rgba(255, 194, 77, 0.6)'  }};}
    .page-container .ef-story-line-a-long5 { background-color: {{ section.settings.bg_color6 | default: 'rgba(255, 194, 77, 0.6)'  }};}
    .page-container .ef-story-line-a-long6 { background-color: {{ section.settings.bg_color7 | default: 'rgba(255, 194, 77, 0.6)'  }};}
    .page-container .ef-story-line-a-long7 { background-color: {{ section.settings.bg_color8 | default: 'rgba(255, 194, 77, 0.6)'  }};}
    .page-container .ef-story-line-a-long8 { background-color: {{ section.settings.bg_color9 | default: 'rgba(255, 194, 77, 0.6)'  }};}
    .summer-calendar-section{ background-color: {{ section.settings.bg_color }}; }
    .summer-calendar-section .ef-story_pc .ef-story-line-a{ background-image: url({{ section.settings.bg_image | img_url: 'master' }}); background-size: cover; background-repeat: no-repeat; }

    @media screen and (max-width: 1600px) {
        .summer-calendar-section .ef-story_pc{ background-size: 100% 100%; }
    }
    @media screen and (max-width: 765px){
        .ef-story-line-a-wrapper{ max-width: 100%; }
        .ef-story-line-a-wrapper{ padding: 28px 0px 20px 8px; }
        .summer-calendar-section{ background-image: url({{ section.settings.bg_image_m | img_url: 'master' }}); background-size: 100% 100%; background-repeat: no-repeat; background-color: #fafafa; }
        .summer-calendar-section .ef-story_pc .ef-story-line-a{ background: none; overflow-x: auto; }
        .summer-calendar-section .ef-story-line-a-box{ min-width: 420px; }
        .summer-calendar-section .ef-story_pc .ef-story-line-a::-webkit-scrollbar{ display: none; }
    }
    @media screen and (min-width: 1024px) and (max-width: 1400px){
      .ef-story-line-a-wrapper{ padding: 78px 10px 50px; }
      .ef-story-line-a-card{ padding-left: 10px; padding-right: 10px; }
      .ef-story-line-a-long2{ height: auto; width: 17%; padding: 5px; }
      .ef-story-line-a-long3{ width: 17%; }
      .ef-story-line-a-long4, .ef-story-line-a-long5{ width: 23%; left: calc(36% + 12px); }
      .ef-story-line-a-long5{ left: calc(60% + 12px); }
      .ef-story-line-a-long6{ left: calc(85% + 6px); }
    }
    @media screen and (max-width: 1023px){
      .ef-story-line-bottom-box .ef-story-line-a-card-msa-1, .ef-story-line-bottom-box .ef-story-line-a-popup{
        width: auto;
        font-size: 11px;
        line-height: 1;
        padding: 5px 2px;
        border-radius: 3px;
      }
      .ef-story-line-bottom-box .ef-story-line-a-card-msa-1{ background: #fff; }
    }
  </style>

  {% comment %} m8-c-campaign styles override {% endcomment %}
  <style>
    .m8-c-campaign .ef-story-line-a-box .ef-story-line-a-card-item {
      height: 240px;
    }
    .m8-c-campaign .ef-story-line-a-long5 {
      top: 237px;
      left: 62.2%;
      width: 37.4%;
    }
    .m8-c-campaign .ef-story-line-a-long2 {
      top: 118px;
      width: 61%;
    }
    .m8-c-campaign .ef-story-line-a-long3 {
      top: 177px;
      width: 42.1%;
      left: 19.3%;
    }
    .m8-c-campaign .ef-story-line-a-long1 {
      width: 99.2%;
      top: 60px;
      left: 4px;
    }
    .m8-c-campaign .ef-story-line-a-h {
      color: #000 !important;
    }
    .m8-c-campaign .ef-story-line-a-l,
    .m8-c-campaign .ef-story-line-a-card.ef-story-line-bottom {
      display: none;
    }
    @media screen and (max-width: 1023px) {
      .m8-c-campaign .ef-story-line-a-box .ef-story-line-a-card-item {
        width: calc(20% - 3px) !important;
        flex: 0 0 calc(20% - 3px) !important;
      }

      .m8-c-campaign .ef-story-line-a-long1, .m8-c-campaign .ef-story-line-a-long2, .m8-c-campaign .ef-story-line-a-long3, .m8-c-campaign .ef-story-line-a-long5 {
        height: 42px !important;
      }

      .m8-c-campaign .ef-story-line-a-long1 {
        top: 50px;
      }
      .m8-c-campaign .ef-story-line-a-long2 {
        top: 100px;
        width: 59%;
      }
      .m8-c-campaign .ef-story-line-a-long3 {
        top: 149px;
        width: 39%;
        left: 40%;
      }
      .m8-c-campaign .ef-story-line-a-long5 {
        top: 198px;
        left: 60%;
        width: 38.7%;
      }
      .m8-c-campaign .ef-story-line-a-box .ef-story-line-a-card-item {
        height: 228px;
      }
    }
    @media screen and (max-width: 765px) {
      .m8-c-campaign .ef-story-line-a-box {
        min-width: 100%!important;
      }
      .m8-c-campaign .ef-story-line-a-long1 {
        width: 98.4%;
        left: 2px;
      }
    }
  </style>

  {% schema %}
    {
      "name": "Calendar section",
      "class": "summer-calendar-section",
      "settings": [
        {
          "type": "text",
          "id": "section_id",
          "label": "Section ID"
        },
        {
          "type": "text",
          "id": "section_class",
          "label": "Section class",
          "info": "Use this class to add custom styles to this section"
        },
        {
            "type": "color",
            "id": "bg_color",
            "label": "Section Background color"
        },
        {
            "type": "image_picker",
            "id": "bg_image",
            "label": "Background image"
        },
        {
            "type": "image_picker",
            "id": "bg_image_m",
            "label": "Background image(Mobile)"
        },
        {
            "type": "color",
            "id": "table_bg_color",
            "label": "Table Background color"
        },
        {
            "type": "color",
            "id": "column_bg_color",
            "label": "Column Background color"
        },
        {
          "type": "textarea",
          "id": "title",
          "label": "Title"
        },
        {
          "type": "header",
          "content": "Desktop"
        },
        {
          "type": "text",
          "id": "col_1_title",
          "label": "Column 1 title"
        },
        {
          "type": "text",
          "id": "col_1_content",
          "label": "Column 1 content"
        },
        {
            "type": "richtext",
            "id": "col_1__popup",
            "label": "Column 1 popup content"
        },
        {
            "type": "text",
            "id": "col_2_title",
            "label": "Column 2 title"
        },
        {
            "type": "text",
            "id": "col_3_title",
            "label": "Column 3 title"
        },
        {
            "type": "text",
            "id": "col_4_title",
            "label": "Column 4 title"
        },
        {
            "type": "text",
            "id": "col_5_title",
            "label": "Column 5 title"
        },
        {
            "type": "text",
            "id": "col_6_title",
            "label": "Column 6 title"
        },
        {
            "type": "text",
            "id": "col_7_title",
            "label": "Column 7 title"
        },
        {
            "type": "text",
            "id": "col_8_title",
            "label": "Column 8 title"
        },
        {
            "type": "header",
            "content": "Popups(Desktop)"
        },
        {
          "type": "text",
          "id": "msline1",
          "label": "Popup line 1"
        },
        {
          "type": "textarea",
          "id": "msline1text",
          "label": "Popup line 1 content",
          "default": "<p>On both Black Friday and Cyber Mond</p>"
        },
        {
          "type": "text",
          "id": "msline2",
          "label": "Popup line 2"
        },
        {
          "type": "textarea",
          "id": "msline2text",
          "label": "Popup line 2 content",
          "default": "<p>Time to unlock your member-only ben</p>"
        },
        {
          "type": "text",
          "id": "msline3",
          "label": "Popup line 3"
        },
        {
          "type": "textarea",
          "id": "msline3text",
          "label": "Popup line 3 content",
          "default": "<p>Time to unlock your member-only ben</p>"
        },
        {
          "type": "text",
          "id": "msline4",
          "label": "Popup line 4"
        },
        {
          "type": "textarea",
          "id": "msline4text",
          "label": "Popup line 4 content",
          "default": "<p>Time to unlock your member-only ben</p>"
        },
        {
            "type": "text",
            "id": "msline5",
            "label": "Popup line 5"
        },
        {
            "type": "textarea",
            "id": "msline5text",
            "label": "Popup line 5 content",
            "default": "<p>Time to unlock your member-only ben</p>"
        },
        {
            "type": "text",
            "id": "msline6",
            "label": "Popup line 6"
        },
        {
            "type": "textarea",
            "id": "msline6text",
            "label": "Popup line 6 content",
            "default": "<p>Time to unlock your member-only ben</p>"
        },
        {
            "type": "text",
            "id": "msline7",
            "label": "Popup line 7"
        },
        {
            "type": "textarea",
            "id": "msline7text",
            "label": "Popup line 7 content",
            "default": "<p>Time to unlock your member-only ben</p>"
        },
        {
            "type": "text",
            "id": "msline8",
            "label": "Popup line 8"
        },
        {
            "type": "textarea",
            "id": "msline8text",
            "label": "Popup line 8 content",
            "default": "<p>Time to unlock your member-only ben</p>"
        },
        {
          "type": "text",
          "id": "more_text",
          "label": "more text",
          "default": "For more information, please check the Terms & Conditions."
        },
        {
          "type": "richtext",
          "id": "story_terms_text",
          "label": "terms and conditions text"
        },
        {
          "type": "color",
          "id": "bg_color1",
          "label": "Card 1 color",
          "default": "#FFC24D"
        },
        {
          "type": "color",
          "id": "bg_color2",
          "label": "Card 2 color",
          "default": "#ffc24d"
        },
        {
          "type": "color",
          "id": "bg_color3",
          "label": "Card 3 color",
          "default": "#ffc24d"
        },
        {
          "type": "color",
          "id": "bg_color4",
          "label": "Card 4 color",
          "default": "#ffc24d"
        },
        {
          "type": "color",
          "id": "bg_color5",
          "label": "Card 5 color",
          "default": "#ffc24d"
        },
        {
          "type": "color",
          "id": "bg_color6",
          "label": "Card 6 color",
          "default": "#ffc24d"
        },
        {
          "type": "color",
          "id": "bg_color7",
          "label": "Card 7 color",
          "default": "#ffc24d"
        },
        {
          "type": "color",
          "id": "bg_color8",
          "label": "Card 8 color",
          "default": "#ffc24d"
        },
        {
          "type": "color",
          "id": "bg_color9",
          "label": "Card 9 color",
          "default": "#ffc24d"
        }
      ],
      "presets": [
          {
              "name": "Summer sale - Calendar section",
              "category": "Custom Sections"
          }
      ]
    }
  {% endschema %}

