<div class="smart-living-steps__section background--dark-blue">
  <div class="smart-living-steps__container container--normal">
    <h2 class="smart-living-steps__heading sl__text--white sl__text--center">
      {{ section.settings.heading }}
      <span
        class="smart-living-steps__icon-question"
        data-toggle="modal"
        data-target="#rules_modal"
      >
        <span>?</span>
      </span>
    </h2>
    {% if section.settings.popup_heading != blank %}
      <div class="smart-living-steps__popup__container">
        <div
          class="modal fade"
          id="rules_modal"
          tabindex="-1"
          role="dialog"
          aria-labelledby="exampleModalLabel"
          aria-hidden="true"
        >
          <div class="full-height">
            <div class="modal-dialog modal-dialog-centered modal-lg w-100" role="document">
              <div class="modal-content">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <svg
                    width="20px"
                    height="20px"
                    viewBox="0 0 20 20"
                    version="1.1"
                    xmlns="http://www.w3.org/2000/svg"
                    xmlns:xlink="http://www.w3.org/1999/xlink"
                  >
                    <g id="tesasing" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                        <g id="Teasing-page-弹窗-rule" transform="translate(-1249.000000, -352.000000)">
                            <g id="编组-7" transform="translate(0.000000, 60.000000)">
                                <g id="编组-5" transform="translate(757.000000, 272.000000)">
                                    <g id="编组-20" transform="translate(492.000000, 20.000000)">
                                        <circle id="椭圆形" fill="#919191" cx="10" cy="10" r="10"></circle>
                                        <path d="M16.2761424,9.99999941 C16.2761424,10.243215 16.2500869,10.4516819 16.19797,10.6254069 C16.1458472,10.7991319 15.9923961,10.8859932 15.7375991,10.8859932 L10.8859932,10.8859932 L10.8859932,15.7549697 C10.8859932,15.9981849 10.7991337,16.1458489 10.6254087,16.1979665 C10.4516825,16.250084 10.2432155,16.2761424 10.0000006,16.2761424 C9.75678505,16.2761424 9.54831805,16.250084 9.37459309,16.1979665 C9.20086812,16.1458489 9.11400682,15.9981849 9.11400682,15.7549697 L9.11400682,10.8859932 L4.26240271,10.8859932 C4.00760593,10.8859932 3.85415105,10.7991319 3.8020335,10.6254069 C3.749916,10.4516819 3.72385763,10.243215 3.72385763,9.99999941 C3.72385763,9.75678445 3.749916,9.54831746 3.8020335,9.37459131 C3.85415105,9.20086634 4.00760593,9.11400682 4.26240271,9.11400682 L9.11400682,9.11400682 L9.11400682,4.26240087 C9.11400682,4.01918473 9.20086812,3.86862744 9.37459309,3.81071714 C9.54831805,3.75281277 9.75678505,3.72385763 10.0000006,3.72385763 C10.2432155,3.72385763 10.4516825,3.75281277 10.6254087,3.81071714 C10.7991337,3.86862744 10.8859932,4.01918473 10.8859932,4.26240087 L10.8859932,9.11400682 L15.7375991,9.11400682 C15.9923961,9.11400682 16.1458472,9.20086634 16.19797,9.37459131 C16.2500869,9.54831746 16.2761424,9.75678445 16.2761424,9.99999941 Z" id="Fill-1" fill="#FFFFFF" transform="translate(10.000000, 10.000000) rotate(-315.000000) translate(-10.000000, -10.000000) "></path>
                                    </g>
                                </g>
                            </g>
                        </g>
                    </g>
                  </svg>
                </button>
                <div class="modal-body">
                  <h5 class="modal-title text-center" id="exampleModalLabel">
                    {{ section.settings.popup_heading }}
                  </h5>
                  <div class="content">{{ section.settings.popup }}</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    {% endif %}
    <div class="smart-living-steps__step-container">
      {% for block in section.blocks %}
        <div class="smart-living-steps__step">
          <div class="smart-living-steps__step-heading">
            {% if block.settings.heading != blank %}
              <h3 class="smart-living-steps__step-heading-text sl__text--white">{{ block.settings.heading }}</h3>
            {% else %}
              <img
                src="{{ block.settings.heading_image | img_url: 'master' }}"
                alt=""
                class="smart-living-steps__step-heading-image"
              >
            {% endif %}
          </div>
          <div class="smart-living-steps__step-content">
            <p class="smart-living-steps__title sl__text--white sl__text--center">
              {{ block.settings.content }}
            </p>
          </div>
        </div>
      {% endfor %}
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Smart Living Steps",
  "max_blocks": 7,
  "settings": [
    {
      "type": "html",
      "id": "heading",
      "label": "Section Heading",
      "default": "Get your wish fulfilled by EcoFlow On the day May 11st, we will choose one random winner from each site and fulfill your wish!! (one of the smart devices that you’ve wished for)"
    },

    {
      "type": "text",
      "id": "popup_heading",
      "label": "Popup Title",
      "default": "Rules"
    },
    {
      "type": "richtext",
      "id": "popup",
      "label": "Popup Content"
    }
  ],
  "blocks": [
    {
      "type": "steps",
      "name": "Wishlist Steps",
      "settings": [
        {
          "type": "image_picker",
          "id": "heading_image",
          "label": "Heading Image"
        },
        {
          "type": "text",
          "id": "heading",
          "label": "Steps Heading",
          "default": "1",
          "placeholder": "Steps Heading"
        },
        {
          "type": "textarea",
          "id": "content",
          "label": "Content",
          "default": "Contents"
        }
      ]
    }
  ]
}
{% endschema %}
