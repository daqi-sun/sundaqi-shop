/*! {
  "project": {
    "version": "0.6.1-handy"
  },
  "front": {
    "version": "0.32.1"
  }
} */;(()=>{var np=Object.defineProperty;var op=(t,e,r)=>e in t?np(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var h=(t,e,r)=>(op(t,typeof e!="symbol"?e+"":e,r),r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=r(o);fetch(o.href,i)}})();const ip="__DISCOPE_CURRENT_CONTAINER__";let ze;typeof self<"u"?ze=self:typeof window<"u"?ze=window:typeof global<"u"?ze=global:ze=Function("return this")();function el(){return ze[ip]}function _r(t){let e=el();if(!e)throw new Error("Attempting to create a dependency in an undefined container");return e.singleton(t)}function ap(t){return e=>{let r=el();if(!r)throw new Error("Attempting to create a scope in an undefined container");return r.scope(t)(e)}}var rl={exports:{}},Ar=function(t){return t&&t.Math==Math&&t},O=Ar(typeof globalThis=="object"&&globalThis)||Ar(typeof window=="object"&&window)||Ar(typeof self=="object"&&self)||Ar(typeof ds=="object"&&ds)||function(){return this}()||Function("return this")(),_=function(t){try{return!!t()}catch{return!0}},sp=_,yn=!sp(function(){var t=function(){}.bind();return typeof t!="function"||t.hasOwnProperty("prototype")}),cp=yn,nl=Function.prototype,qa=nl.apply,za=nl.call,ol=typeof Reflect=="object"&&Reflect.apply||(cp?za.bind(qa):function(){return za.apply(qa,arguments)}),il=yn,al=Function.prototype,up=al.bind,Yo=al.call,lp=il&&up.bind(Yo,Yo),T=il?function(t){return t&&lp(t)}:function(t){return t&&function(){return Yo.apply(t,arguments)}},A=function(t){return typeof t=="function"},bn={},fp=_,it=!fp(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),dp=yn,Rr=Function.prototype.call,N=dp?Rr.bind(Rr):function(){return Rr.apply(Rr,arguments)},Bi={},sl={}.propertyIsEnumerable,cl=Object.getOwnPropertyDescriptor,pp=cl&&!sl.call({1:2},1);Bi.f=pp?function(e){var r=cl(this,e);return!!r&&r.enumerable}:sl;var Yt=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}},ul=T,hp=ul({}.toString),vp=ul("".slice),sr=function(t){return vp(hp(t),8,-1)},gp=T,mp=_,yp=sr,Dn=Object,bp=gp("".split),Ni=mp(function(){return!Dn("z").propertyIsEnumerable(0)})?function(t){return yp(t)=="String"?bp(t,""):Dn(t)}:Dn,Sp=TypeError,Oe=function(t){if(t==null)throw Sp("Can't call method on "+t);return t},$p=Ni,wp=Oe,cr=function(t){return $p(wp(t))},Ip=A,vt=function(t){return typeof t=="object"?t!==null:Ip(t)},wt={},Mn=wt,Fn=O,Tp=A,Wa=function(t){return Tp(t)?t:void 0},It=function(t,e){return arguments.length<2?Wa(Mn[t])||Wa(Fn[t]):Mn[t]&&Mn[t][e]||Fn[t]&&Fn[t][e]},Ep=T,gt=Ep({}.isPrototypeOf),Cp=It,Xt=Cp("navigator","userAgent")||"",ll=O,jn=Xt,Ga=ll.process,Ka=ll.Deno,Qa=Ga&&Ga.versions||Ka&&Ka.version,Ya=Qa&&Qa.v8,rt,Jr;Ya&&(rt=Ya.split("."),Jr=rt[0]>0&&rt[0]<4?1:+(rt[0]+rt[1]));!Jr&&jn&&(rt=jn.match(/Edge\/(\d+)/),(!rt||rt[1]>=74)&&(rt=jn.match(/Chrome\/(\d+)/),rt&&(Jr=+rt[1])));var ur=Jr,Xa=ur,Op=_,fl=!!Object.getOwnPropertySymbols&&!Op(function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&Xa&&Xa<41}),Pp=fl,dl=Pp&&!Symbol.sham&&typeof Symbol.iterator=="symbol",_p=It,Ap=A,Rp=gt,xp=dl,Lp=Object,pl=xp?function(t){return typeof t=="symbol"}:function(t){var e=_p("Symbol");return Ap(e)&&Rp(e.prototype,Lp(t))},Bp=String,lr=function(t){try{return Bp(t)}catch{return"Object"}},Np=A,kp=lr,Dp=TypeError,at=function(t){if(Np(t))return t;throw Dp(kp(t)+" is not a function")},Mp=at,ki=function(t,e){var r=t[e];return r==null?void 0:Mp(r)},Un=N,Vn=A,Hn=vt,Fp=TypeError,jp=function(t,e){var r,n;if(e==="string"&&Vn(r=t.toString)&&!Hn(n=Un(r,t))||Vn(r=t.valueOf)&&!Hn(n=Un(r,t))||e!=="string"&&Vn(r=t.toString)&&!Hn(n=Un(r,t)))return n;throw Fp("Can't convert object to primitive value")},Di={exports:{}},hl=!0,Ja=O,Up=Object.defineProperty,Vp=function(t,e){try{Up(Ja,t,{value:e,configurable:!0,writable:!0})}catch{Ja[t]=e}return e},Hp=O,qp=Vp,Za="__core-js_shared__",zp=Hp[Za]||qp(Za,{}),Mi=zp,ts=Mi;(Di.exports=function(t,e){return ts[t]||(ts[t]=e!==void 0?e:{})})("versions",[]).push({version:"3.24.1",mode:"pure",copyright:"\xA9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.24.1/LICENSE",source:"https://github.com/zloirock/core-js"});var Wp=Oe,Gp=Object,Pe=function(t){return Gp(Wp(t))},Kp=T,Qp=Pe,Yp=Kp({}.hasOwnProperty),Y=Object.hasOwn||function(e,r){return Yp(Qp(e),r)},Xp=T,Jp=0,Zp=Math.random(),th=Xp(1 .toString),vl=function(t){return"Symbol("+(t===void 0?"":t)+")_"+th(++Jp+Zp,36)},eh=O,rh=Di.exports,es=Y,nh=vl,rs=fl,gl=dl,oe=rh("wks"),Wt=eh.Symbol,ns=Wt&&Wt.for,oh=gl?Wt:Wt&&Wt.withoutSetter||nh,R=function(t){if(!es(oe,t)||!(rs||typeof oe[t]=="string")){var e="Symbol."+t;rs&&es(Wt,t)?oe[t]=Wt[t]:gl&&ns?oe[t]=ns(e):oe[t]=oh(e)}return oe[t]},ih=N,os=vt,is=pl,ah=ki,sh=jp,ch=R,uh=TypeError,lh=ch("toPrimitive"),fh=function(t,e){if(!os(t)||is(t))return t;var r=ah(t,lh),n;if(r){if(e===void 0&&(e="default"),n=ih(r,t,e),!os(n)||is(n))return n;throw uh("Can't convert object to primitive value")}return e===void 0&&(e="number"),sh(t,e)},dh=fh,ph=pl,Fi=function(t){var e=dh(t,"string");return ph(e)?e:e+""},hh=O,as=vt,Xo=hh.document,vh=as(Xo)&&as(Xo.createElement),ji=function(t){return vh?Xo.createElement(t):{}},gh=it,mh=_,yh=ji,ml=!gh&&!mh(function(){return Object.defineProperty(yh("div"),"a",{get:function(){return 7}}).a!=7}),bh=it,Sh=N,$h=Bi,wh=Yt,Ih=cr,Th=Fi,Eh=Y,Ch=ml,ss=Object.getOwnPropertyDescriptor;bn.f=bh?ss:function(e,r){if(e=Ih(e),r=Th(r),Ch)try{return ss(e,r)}catch{}if(Eh(e,r))return wh(!Sh($h.f,e,r),e[r])};var Oh=_,Ph=A,_h=/#|\.prototype\./,fr=function(t,e){var r=Rh[Ah(t)];return r==Lh?!0:r==xh?!1:Ph(e)?Oh(e):!!e},Ah=fr.normalize=function(t){return String(t).replace(_h,".").toLowerCase()},Rh=fr.data={},xh=fr.NATIVE="N",Lh=fr.POLYFILL="P",yl=fr,cs=T,Bh=at,Nh=yn,kh=cs(cs.bind),Jt=function(t,e){return Bh(t),e===void 0?t:Nh?kh(t,e):function(){return t.apply(e,arguments)}},Tt={},Dh=it,Mh=_,bl=Dh&&Mh(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),Fh=vt,jh=String,Uh=TypeError,X=function(t){if(Fh(t))return t;throw Uh(jh(t)+" is not an object")},Vh=it,Hh=ml,qh=bl,xr=X,us=Fi,zh=TypeError,qn=Object.defineProperty,Wh=Object.getOwnPropertyDescriptor,zn="enumerable",Wn="configurable",Gn="writable";Tt.f=Vh?qh?function(e,r,n){if(xr(e),r=us(r),xr(n),typeof e=="function"&&r==="prototype"&&"value"in n&&Gn in n&&!n[Gn]){var o=Wh(e,r);o&&o[Gn]&&(e[r]=n.value,n={configurable:Wn in n?n[Wn]:o[Wn],enumerable:zn in n?n[zn]:o[zn],writable:!1})}return qn(e,r,n)}:qn:function(e,r,n){if(xr(e),r=us(r),xr(n),Hh)try{return qn(e,r,n)}catch{}if("get"in n||"set"in n)throw zh("Accessors not supported");return"value"in n&&(e[r]=n.value),e};var Gh=it,Kh=Tt,Qh=Yt,Zt=Gh?function(t,e,r){return Kh.f(t,e,Qh(1,r))}:function(t,e,r){return t[e]=r,t},Lr=O,Yh=ol,Xh=T,Jh=A,Zh=bn.f,tv=yl,ie=wt,ev=Jt,ae=Zt,ls=Y,rv=function(t){var e=function(r,n,o){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(r);case 2:return new t(r,n)}return new t(r,n,o)}return Yh(t,this,arguments)};return e.prototype=t.prototype,e},C=function(t,e){var r=t.target,n=t.global,o=t.stat,i=t.proto,a=n?Lr:o?Lr[r]:(Lr[r]||{}).prototype,s=n?ie:ie[r]||ae(ie,r,{})[r],c=s.prototype,f,d,u,p,v,g,y,S,w;for(p in e)f=tv(n?p:r+(o?".":"#")+p,t.forced),d=!f&&a&&ls(a,p),g=s[p],d&&(t.dontCallGetSet?(w=Zh(a,p),y=w&&w.value):y=a[p]),v=d&&y?y:e[p],!(d&&typeof g==typeof v)&&(t.bind&&d?S=ev(v,Lr):t.wrap&&d?S=rv(v):i&&Jh(v)?S=Xh(v):S=v,(t.sham||v&&v.sham||g&&g.sham)&&ae(S,"sham",!0),ae(s,p,S),i&&(u=r+"Prototype",ls(ie,u)||ae(ie,u,{}),ae(ie[u],p,v),t.real&&c&&!c[p]&&ae(c,p,v)))},nv=C,ov=O;nv({global:!0},{globalThis:ov});(function(t){t.exports=O})(rl);var iv=rl.exports,av=iv;const fs=av;var ds=typeof fs<"u"?fs:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},sv=Di.exports,cv=vl,ps=sv("keys"),Ui=function(t){return ps[t]||(ps[t]=cv(t))},uv=_,lv=!uv(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),fv=Y,dv=A,pv=Pe,hv=Ui,vv=lv,hs=hv("IE_PROTO"),Jo=Object,gv=Jo.prototype,Vi=vv?Jo.getPrototypeOf:function(t){var e=pv(t);if(fv(e,hs))return e[hs];var r=e.constructor;return dv(r)&&e instanceof r?r.prototype:e instanceof Jo?gv:null},mv=A,yv=String,bv=TypeError,Sv=function(t){if(typeof t=="object"||mv(t))return t;throw bv("Can't set "+yv(t)+" as a prototype")},$v=T,wv=X,Iv=Sv,Tv=Object.setPrototypeOf||("__proto__"in{}?function(){var t=!1,e={},r;try{r=$v(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),r(e,[]),t=e instanceof Array}catch{}return function(o,i){return wv(o),Iv(i),t?r(o,i):o.__proto__=i,o}}():void 0),Sl={},Ev=Math.ceil,Cv=Math.floor,Ov=Math.trunc||function(e){var r=+e;return(r>0?Cv:Ev)(r)},Pv=Ov,Hi=function(t){var e=+t;return e!==e||e===0?0:Pv(e)},_v=Hi,Av=Math.max,Rv=Math.min,$l=function(t,e){var r=_v(t);return r<0?Av(r+e,0):Rv(r,e)},xv=Hi,Lv=Math.min,wl=function(t){return t>0?Lv(xv(t),9007199254740991):0},Bv=wl,_e=function(t){return Bv(t.length)},Nv=cr,kv=$l,Dv=_e,vs=function(t){return function(e,r,n){var o=Nv(e),i=Dv(o),a=kv(n,i),s;if(t&&r!=r){for(;i>a;)if(s=o[a++],s!=s)return!0}else for(;i>a;a++)if((t||a in o)&&o[a]===r)return t||a||0;return!t&&-1}},Il={includes:vs(!0),indexOf:vs(!1)},qi={},Mv=T,Kn=Y,Fv=cr,jv=Il.indexOf,Uv=qi,gs=Mv([].push),Tl=function(t,e){var r=Fv(t),n=0,o=[],i;for(i in r)!Kn(Uv,i)&&Kn(r,i)&&gs(o,i);for(;e.length>n;)Kn(r,i=e[n++])&&(~jv(o,i)||gs(o,i));return o},zi=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Vv=Tl,Hv=zi,qv=Hv.concat("length","prototype");Sl.f=Object.getOwnPropertyNames||function(e){return Vv(e,qv)};var Wi={};Wi.f=Object.getOwnPropertySymbols;var zv=It,Wv=T,Gv=Sl,Kv=Wi,Qv=X,Yv=Wv([].concat),Xv=zv("Reflect","ownKeys")||function(e){var r=Gv.f(Qv(e)),n=Kv.f;return n?Yv(r,n(e)):r},ms=Y,Jv=Xv,Zv=bn,tg=Tt,eg=function(t,e,r){for(var n=Jv(e),o=tg.f,i=Zv.f,a=0;a<n.length;a++){var s=n[a];!ms(t,s)&&!(r&&ms(r,s))&&o(t,s,i(e,s))}},El={},rg=Tl,ng=zi,Cl=Object.keys||function(e){return rg(e,ng)},og=it,ig=bl,ag=Tt,sg=X,cg=cr,ug=Cl;El.f=og&&!ig?Object.defineProperties:function(e,r){sg(e);for(var n=cg(r),o=ug(r),i=o.length,a=0,s;i>a;)ag.f(e,s=o[a++],n[s]);return e};var lg=It,Ol=lg("document","documentElement"),fg=X,dg=El,ys=zi,pg=qi,hg=Ol,vg=ji,gg=Ui,bs=">",Ss="<",Zo="prototype",ti="script",Pl=gg("IE_PROTO"),Qn=function(){},_l=function(t){return Ss+ti+bs+t+Ss+"/"+ti+bs},$s=function(t){t.write(_l("")),t.close();var e=t.parentWindow.Object;return t=null,e},mg=function(){var t=vg("iframe"),e="java"+ti+":",r;return t.style.display="none",hg.appendChild(t),t.src=String(e),r=t.contentWindow.document,r.open(),r.write(_l("document.F=Object")),r.close(),r.F},Br,Gr=function(){try{Br=new ActiveXObject("htmlfile")}catch{}Gr=typeof document<"u"?document.domain&&Br?$s(Br):mg():$s(Br);for(var t=ys.length;t--;)delete Gr[Zo][ys[t]];return Gr()};pg[Pl]=!0;var Sn=Object.create||function(e,r){var n;return e!==null?(Qn[Zo]=fg(e),n=new Qn,Qn[Zo]=null,n[Pl]=e):n=Gr(),r===void 0?n:dg.f(n,r)},yg=T,Al=Error,bg=yg("".replace),Sg=function(t){return String(Al(t).stack)}("zxcasd"),Rl=/\n\s*at [^:]*:[^\n]*/,$g=Rl.test(Sg),wg=function(t,e){if($g&&typeof t=="string"&&!Al.prepareStackTrace)for(;e--;)t=bg(t,Rl,"");return t},Ig=vt,Tg=Zt,Eg=function(t,e){Ig(e)&&"cause"in e&&Tg(t,"cause",e.cause)},Ae={},Cg=R,Og=Ae,Pg=Cg("iterator"),_g=Array.prototype,xl=function(t){return t!==void 0&&(Og.Array===t||_g[Pg]===t)},Ag=R,Rg=Ag("toStringTag"),Ll={};Ll[Rg]="z";var Gi=String(Ll)==="[object z]",xg=Gi,Lg=A,Kr=sr,Bg=R,Ng=Bg("toStringTag"),kg=Object,Dg=Kr(function(){return arguments}())=="Arguments",Mg=function(t,e){try{return t[e]}catch{}},Re=xg?Kr:function(t){var e,r,n;return t===void 0?"Undefined":t===null?"Null":typeof(r=Mg(e=kg(t),Ng))=="string"?r:Dg?Kr(e):(n=Kr(e))=="Object"&&Lg(e.callee)?"Arguments":n},Fg=Re,ws=ki,jg=Ae,Ug=R,Vg=Ug("iterator"),$n=function(t){if(t!=null)return ws(t,Vg)||ws(t,"@@iterator")||jg[Fg(t)]},Hg=N,qg=at,zg=X,Wg=lr,Gg=$n,Kg=TypeError,Ki=function(t,e){var r=arguments.length<2?Gg(t):e;if(qg(r))return zg(Hg(r,t));throw Kg(Wg(t)+" is not iterable")},Qg=N,Is=X,Yg=ki,Bl=function(t,e,r){var n,o;Is(t);try{if(n=Yg(t,"return"),!n){if(e==="throw")throw r;return r}n=Qg(n,t)}catch(i){o=!0,n=i}if(e==="throw")throw r;if(o)throw n;return Is(n),r},Xg=Jt,Jg=N,Zg=X,tm=lr,em=xl,rm=_e,Ts=gt,nm=Ki,om=$n,Es=Bl,im=TypeError,Qr=function(t,e){this.stopped=t,this.result=e},Cs=Qr.prototype,dr=function(t,e,r){var n=r&&r.that,o=!!(r&&r.AS_ENTRIES),i=!!(r&&r.IS_RECORD),a=!!(r&&r.IS_ITERATOR),s=!!(r&&r.INTERRUPTED),c=Xg(e,n),f,d,u,p,v,g,y,S=function(l){return f&&Es(f,"normal",l),new Qr(!0,l)},w=function(l){return o?(Zg(l),s?c(l[0],l[1],S):c(l[0],l[1])):s?c(l,S):c(l)};if(i)f=t.iterator;else if(a)f=t;else{if(d=om(t),!d)throw im(tm(t)+" is not iterable");if(em(d)){for(u=0,p=rm(t);p>u;u++)if(v=w(t[u]),v&&Ts(Cs,v))return v;return new Qr(!1)}f=nm(t,d)}for(g=i?t.next:f.next;!(y=Jg(g,f)).done;){try{v=w(y.value)}catch(l){Es(f,"throw",l)}if(typeof v=="object"&&v&&Ts(Cs,v))return v}return new Qr(!1)},am=Re,sm=String,st=function(t){if(am(t)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return sm(t)},cm=st,um=function(t,e){return t===void 0?arguments.length<2?"":e:cm(t)},lm=_,fm=Yt,dm=!lm(function(){var t=Error("a");return"stack"in t?(Object.defineProperty(t,"stack",fm(1,7)),t.stack!==7):!0}),pm=C,hm=gt,vm=Vi,Zr=Tv,gm=eg,Nl=Sn,Nr=Zt,Yn=Yt,mm=wg,ym=Eg,bm=dr,Sm=um,$m=R,wm=dm,Im=$m("toStringTag"),tn=Error,Tm=[].push,nr=function(e,r){var n=arguments.length>2?arguments[2]:void 0,o=hm(Xn,this),i;Zr?i=Zr(new tn,o?vm(this):Xn):(i=o?this:Nl(Xn),Nr(i,Im,"Error")),r!==void 0&&Nr(i,"message",Sm(r)),wm&&Nr(i,"stack",mm(i.stack,1)),ym(i,n);var a=[];return bm(e,Tm,{that:a}),Nr(i,"errors",a),i};Zr?Zr(nr,tn):gm(nr,tn,{name:!0});var Xn=nr.prototype=Nl(tn.prototype,{constructor:Yn(1,nr),message:Yn(1,""),name:Yn(1,"AggregateError")});pm({global:!0,constructor:!0,arity:2},{AggregateError:nr});var Em=T,Cm=A,ei=Mi,Om=Em(Function.toString);Cm(ei.inspectSource)||(ei.inspectSource=function(t){return Om(t)});var Qi=ei.inspectSource,Pm=O,_m=A,Am=Qi,Os=Pm.WeakMap,Rm=_m(Os)&&/native code/.test(Am(Os)),xm=Rm,kl=O,Jn=T,Lm=vt,Bm=Zt,Zn=Y,to=Mi,Nm=Ui,km=qi,Ps="Object already initialized",ri=kl.TypeError,Dm=kl.WeakMap,en,or,rn,Mm=function(t){return rn(t)?or(t):en(t,{})},Fm=function(t){return function(e){var r;if(!Lm(e)||(r=or(e)).type!==t)throw ri("Incompatible receiver, "+t+" required");return r}};if(xm||to.state){var Mt=to.state||(to.state=new Dm),jm=Jn(Mt.get),_s=Jn(Mt.has),Um=Jn(Mt.set);en=function(t,e){if(_s(Mt,t))throw new ri(Ps);return e.facade=t,Um(Mt,t,e),e},or=function(t){return jm(Mt,t)||{}},rn=function(t){return _s(Mt,t)}}else{var se=Nm("state");km[se]=!0,en=function(t,e){if(Zn(t,se))throw new ri(Ps);return e.facade=t,Bm(t,se,e),e},or=function(t){return Zn(t,se)?t[se]:{}},rn=function(t){return Zn(t,se)}}var pr={set:en,get:or,has:rn,enforce:Mm,getterFor:Fm},ni=it,Vm=Y,Dl=Function.prototype,Hm=ni&&Object.getOwnPropertyDescriptor,Yi=Vm(Dl,"name"),qm=Yi&&function(){}.name==="something",zm=Yi&&(!ni||ni&&Hm(Dl,"name").configurable),Ml={EXISTS:Yi,PROPER:qm,CONFIGURABLE:zm},Wm=Zt,xe=function(t,e,r,n){return n&&n.enumerable?t[e]=r:Wm(t,e,r),t},Gm=_,Km=A,Qm=Sn,As=Vi,Ym=xe,Xm=R,oi=Xm("iterator"),Fl=!1,bt,eo,ro;[].keys&&(ro=[].keys(),"next"in ro?(eo=As(As(ro)),eo!==Object.prototype&&(bt=eo)):Fl=!0);var Jm=bt==null||Gm(function(){var t={};return bt[oi].call(t)!==t});Jm?bt={}:bt=Qm(bt);Km(bt[oi])||Ym(bt,oi,function(){return this});var jl={IteratorPrototype:bt,BUGGY_SAFARI_ITERATORS:Fl},Zm=Gi,ty=Re,ey=Zm?{}.toString:function(){return"[object "+ty(this)+"]"},ry=Gi,ny=Tt.f,oy=Zt,iy=Y,ay=ey,sy=R,Rs=sy("toStringTag"),hr=function(t,e,r,n){if(t){var o=r?t:t.prototype;iy(o,Rs)||ny(o,Rs,{configurable:!0,value:e}),n&&!ry&&oy(o,"toString",ay)}},cy=jl.IteratorPrototype,uy=Sn,ly=Yt,fy=hr,dy=Ae,py=function(){return this},Ul=function(t,e,r,n){var o=e+" Iterator";return t.prototype=uy(cy,{next:ly(+!n,r)}),fy(t,o,!1,!0),dy[o]=py,t},hy=C,vy=N,gy=Ml,my=Ul,yy=Vi,by=hr,xs=xe,Sy=R,Ls=Ae,$y=jl,wy=gy.PROPER,kr=$y.BUGGY_SAFARI_ITERATORS,no=Sy("iterator"),Bs="keys",Dr="values",Ns="entries",Iy=function(){return this},Vl=function(t,e,r,n,o,i,a){my(r,e,n);var s=function(w){if(w===o&&p)return p;if(!kr&&w in d)return d[w];switch(w){case Bs:return function(){return new r(this,w)};case Dr:return function(){return new r(this,w)};case Ns:return function(){return new r(this,w)}}return function(){return new r(this)}},c=e+" Iterator",f=!1,d=t.prototype,u=d[no]||d["@@iterator"]||o&&d[o],p=!kr&&u||s(o),v=e=="Array"&&d.entries||u,g,y,S;if(v&&(g=yy(v.call(new t)),g!==Object.prototype&&g.next&&(by(g,c,!0,!0),Ls[c]=Iy)),wy&&o==Dr&&u&&u.name!==Dr&&(f=!0,p=function(){return vy(u,this)}),o)if(y={values:s(Dr),keys:i?p:s(Bs),entries:s(Ns)},a)for(S in y)(kr||f||!(S in d))&&xs(d,S,y[S]);else hy({target:e,proto:!0,forced:kr||f},y);return a&&d[no]!==p&&xs(d,no,p,{name:o}),Ls[e]=p,y},Ty=cr,ks=Ae,Hl=pr;Tt.f;var Ey=Vl,ql="Array Iterator",Cy=Hl.set,Oy=Hl.getterFor(ql);Ey(Array,"Array",function(t,e){Cy(this,{type:ql,target:Ty(t),index:0,kind:e})},function(){var t=Oy(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):r=="keys"?{value:n,done:!1}:r=="values"?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}},"values");ks.Arguments=ks.Array;var Py=sr,_y=O,Le=Py(_y.process)=="process",Ay=It,Ry=Tt,xy=R,Ly=it,Ds=xy("species"),By=function(t){var e=Ay(t),r=Ry.f;Ly&&e&&!e[Ds]&&r(e,Ds,{configurable:!0,get:function(){return this}})},Ny=gt,ky=TypeError,Xi=function(t,e){if(Ny(e,t))return t;throw ky("Incorrect invocation")},Dy=T,My=_,zl=A,Fy=Re,jy=It,Uy=Qi,Wl=function(){},Vy=[],Gl=jy("Reflect","construct"),Ji=/^\s*(?:class|function)\b/,Hy=Dy(Ji.exec),qy=!Ji.exec(Wl),Me=function(e){if(!zl(e))return!1;try{return Gl(Wl,Vy,e),!0}catch{return!1}},Kl=function(e){if(!zl(e))return!1;switch(Fy(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return qy||!!Hy(Ji,Uy(e))}catch{return!0}};Kl.sham=!0;var Ql=!Gl||My(function(){var t;return Me(Me.call)||!Me(Object)||!Me(function(){t=!0})||t})?Kl:Me,zy=Ql,Wy=lr,Gy=TypeError,Ky=function(t){if(zy(t))return t;throw Gy(Wy(t)+" is not a constructor")},Ms=X,Qy=Ky,Yy=R,Xy=Yy("species"),Yl=function(t,e){var r=Ms(t).constructor,n;return r===void 0||(n=Ms(r)[Xy])==null?e:Qy(n)},Jy=T,Zy=Jy([].slice),tb=TypeError,Zi=function(t,e){if(t<e)throw tb("Not enough arguments");return t},eb=Xt,Xl=/(?:ipad|iphone|ipod).*applewebkit/i.test(eb),j=O,rb=ol,nb=Jt,Fs=A,ob=Y,ib=_,js=Ol,ab=Zy,Us=ji,sb=Zi,cb=Xl,ub=Le,ii=j.setImmediate,ai=j.clearImmediate,lb=j.process,oo=j.Dispatch,fb=j.Function,Vs=j.MessageChannel,db=j.String,io=0,Ke={},Hs="onreadystatechange",ir,Ft,ao,so;try{ir=j.location}catch{}var ta=function(t){if(ob(Ke,t)){var e=Ke[t];delete Ke[t],e()}},co=function(t){return function(){ta(t)}},qs=function(t){ta(t.data)},zs=function(t){j.postMessage(db(t),ir.protocol+"//"+ir.host)};(!ii||!ai)&&(ii=function(e){sb(arguments.length,1);var r=Fs(e)?e:fb(e),n=ab(arguments,1);return Ke[++io]=function(){rb(r,void 0,n)},Ft(io),io},ai=function(e){delete Ke[e]},ub?Ft=function(t){lb.nextTick(co(t))}:oo&&oo.now?Ft=function(t){oo.now(co(t))}:Vs&&!cb?(ao=new Vs,so=ao.port2,ao.port1.onmessage=qs,Ft=nb(so.postMessage,so)):j.addEventListener&&Fs(j.postMessage)&&!j.importScripts&&ir&&ir.protocol!=="file:"&&!ib(zs)?(Ft=zs,j.addEventListener("message",qs,!1)):Hs in Us("script")?Ft=function(t){js.appendChild(Us("script"))[Hs]=function(){js.removeChild(this),ta(t)}}:Ft=function(t){setTimeout(co(t),0)});var Jl={set:ii,clear:ai},pb=Xt,hb=O,vb=/ipad|iphone|ipod/i.test(pb)&&hb.Pebble!==void 0,gb=Xt,mb=/web0s(?!.*chrome)/i.test(gb),Qt=O,Ws=Jt,yb=bn.f,uo=Jl.set,bb=Xl,Sb=vb,$b=mb,lo=Le,Gs=Qt.MutationObserver||Qt.WebKitMutationObserver,Ks=Qt.document,Qs=Qt.process,Mr=Qt.Promise,Ys=yb(Qt,"queueMicrotask"),Zl=Ys&&Ys.value,Fe,Vt,Qe,de,fo,po,Fr,Xs;Zl||(Fe=function(){var t,e;for(lo&&(t=Qs.domain)&&t.exit();Vt;){e=Vt.fn,Vt=Vt.next;try{e()}catch(r){throw Vt?de():Qe=void 0,r}}Qe=void 0,t&&t.enter()},!bb&&!lo&&!$b&&Gs&&Ks?(fo=!0,po=Ks.createTextNode(""),new Gs(Fe).observe(po,{characterData:!0}),de=function(){po.data=fo=!fo}):!Sb&&Mr&&Mr.resolve?(Fr=Mr.resolve(void 0),Fr.constructor=Mr,Xs=Ws(Fr.then,Fr),de=function(){Xs(Fe)}):lo?de=function(){Qs.nextTick(Fe)}:(uo=Ws(uo,Qt),de=function(){uo(Fe)}));var wb=Zl||function(t){var e={fn:t,next:void 0};Qe&&(Qe.next=e),Vt||(Vt=e,de()),Qe=e},Ib=O,Tb=function(t,e){var r=Ib.console;r&&r.error&&(arguments.length==1?r.error(t):r.error(t,e))},vr=function(t){try{return{error:!1,value:t()}}catch(e){return{error:!0,value:e}}},tf=function(){this.head=null,this.tail=null};tf.prototype={add:function(t){var e={item:t,next:null};this.head?this.tail.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return this.head=t.next,this.tail===t&&(this.tail=null),t.item}};var Eb=tf,Cb=O,Be=Cb.Promise,ef=typeof Deno=="object"&&Deno&&typeof Deno.version=="object",Ob=ef,Pb=Le,_b=!Ob&&!Pb&&typeof window=="object"&&typeof document=="object",Ab=O,Ye=Be,Rb=A,xb=yl,Lb=Qi,Bb=R,Nb=_b,kb=ef,ho=ur,Js=Ye&&Ye.prototype,Db=Bb("species"),si=!1,rf=Rb(Ab.PromiseRejectionEvent),Mb=xb("Promise",function(){var t=Lb(Ye),e=t!==String(Ye);if(!e&&ho===66||!(Js.catch&&Js.finally))return!0;if(!ho||ho<51||!/native code/.test(t)){var r=new Ye(function(i){i(1)}),n=function(i){i(function(){},function(){})},o=r.constructor={};if(o[Db]=n,si=r.then(function(){})instanceof n,!si)return!0}return!e&&(Nb||kb)&&!rf}),gr={CONSTRUCTOR:Mb,REJECTION_EVENT:rf,SUBCLASSING:si},Nt={},Zs=at,Fb=function(t){var e,r;this.promise=new t(function(n,o){if(e!==void 0||r!==void 0)throw TypeError("Bad Promise constructor");e=n,r=o}),this.resolve=Zs(e),this.reject=Zs(r)};Nt.f=function(t){return new Fb(t)};var jb=C,nn=Le,Lt=O,mr=N,Ub=xe,Vb=hr,Hb=By,qb=at,ci=A,zb=vt,Wb=Xi,Gb=Yl,nf=Jl.set,ea=wb,Kb=Tb,Qb=vr,Yb=Eb,of=pr,ui=Be,af=gr,sf=Nt,wn="Promise",cf=af.CONSTRUCTOR,Xb=af.REJECTION_EVENT,vo=of.getterFor(wn),Jb=of.set,Zb=ui&&ui.prototype,me=ui,go=Zb,uf=Lt.TypeError,li=Lt.document,ra=Lt.process,fi=sf.f,tS=fi,eS=!!(li&&li.createEvent&&Lt.dispatchEvent),lf="unhandledrejection",rS="rejectionhandled",tc=0,ff=1,nS=2,na=1,df=2,jr,ec,oS,pf=function(t){var e;return zb(t)&&ci(e=t.then)?e:!1},hf=function(t,e){var r=e.value,n=e.state==ff,o=n?t.ok:t.fail,i=t.resolve,a=t.reject,s=t.domain,c,f,d;try{o?(n||(e.rejection===df&&aS(e),e.rejection=na),o===!0?c=r:(s&&s.enter(),c=o(r),s&&(s.exit(),d=!0)),c===t.promise?a(uf("Promise-chain cycle")):(f=pf(c))?mr(f,c,i,a):i(c)):a(r)}catch(u){s&&!d&&s.exit(),a(u)}},vf=function(t,e){t.notified||(t.notified=!0,ea(function(){for(var r=t.reactions,n;n=r.get();)hf(n,t);t.notified=!1,e&&!t.rejection&&iS(t)}))},gf=function(t,e,r){var n,o;eS?(n=li.createEvent("Event"),n.promise=e,n.reason=r,n.initEvent(t,!1,!0),Lt.dispatchEvent(n)):n={promise:e,reason:r},!Xb&&(o=Lt["on"+t])?o(n):t===lf&&Kb("Unhandled promise rejection",r)},iS=function(t){mr(nf,Lt,function(){var e=t.facade,r=t.value,n=rc(t),o;if(n&&(o=Qb(function(){nn?ra.emit("unhandledRejection",r,e):gf(lf,e,r)}),t.rejection=nn||rc(t)?df:na,o.error))throw o.value})},rc=function(t){return t.rejection!==na&&!t.parent},aS=function(t){mr(nf,Lt,function(){var e=t.facade;nn?ra.emit("rejectionHandled",e):gf(rS,e,t.value)})},ye=function(t,e,r){return function(n){t(e,n,r)}},Se=function(t,e,r){t.done||(t.done=!0,r&&(t=r),t.value=e,t.state=nS,vf(t,!0))},di=function(t,e,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===e)throw uf("Promise can't be resolved itself");var n=pf(e);n?ea(function(){var o={done:!1};try{mr(n,e,ye(di,o,t),ye(Se,o,t))}catch(i){Se(o,i,t)}}):(t.value=e,t.state=ff,vf(t,!1))}catch(o){Se({done:!1},o,t)}}};cf&&(me=function(e){Wb(this,go),qb(e),mr(jr,this);var r=vo(this);try{e(ye(di,r),ye(Se,r))}catch(n){Se(r,n)}},go=me.prototype,jr=function(e){Jb(this,{type:wn,done:!1,notified:!1,parent:!1,reactions:new Yb,rejection:!1,state:tc,value:void 0})},jr.prototype=Ub(go,"then",function(e,r){var n=vo(this),o=fi(Gb(this,me));return n.parent=!0,o.ok=ci(e)?e:!0,o.fail=ci(r)&&r,o.domain=nn?ra.domain:void 0,n.state==tc?n.reactions.add(o):ea(function(){hf(o,n)}),o.promise}),ec=function(){var t=new jr,e=vo(t);this.promise=t,this.resolve=ye(di,e),this.reject=ye(Se,e)},sf.f=fi=function(t){return t===me||t===oS?new ec(t):tS(t)});jb({global:!0,constructor:!0,wrap:!0,forced:cf},{Promise:me});Vb(me,wn,!1,!0);Hb(wn);var sS=R,mf=sS("iterator"),yf=!1;try{var cS=0,nc={next:function(){return{done:!!cS++}},return:function(){yf=!0}};nc[mf]=function(){return this},Array.from(nc,function(){throw 2})}catch{}var uS=function(t,e){if(!e&&!yf)return!1;var r=!1;try{var n={};n[mf]=function(){return{next:function(){return{done:r=!0}}}},t(n)}catch{}return r},lS=Be,fS=uS,dS=gr.CONSTRUCTOR,bf=dS||!fS(function(t){lS.all(t).then(void 0,function(){})}),pS=C,hS=N,vS=at,gS=Nt,mS=vr,yS=dr,bS=bf;pS({target:"Promise",stat:!0,forced:bS},{all:function(e){var r=this,n=gS.f(r),o=n.resolve,i=n.reject,a=mS(function(){var s=vS(r.resolve),c=[],f=0,d=1;yS(e,function(u){var p=f++,v=!1;d++,hS(s,r,u).then(function(g){v||(v=!0,c[p]=g,--d||o(c))},i)}),--d||o(c)});return a.error&&i(a.value),n.promise}});var SS=C,$S=gr.CONSTRUCTOR,oc=Be;oc&&oc.prototype;SS({target:"Promise",proto:!0,forced:$S,real:!0},{catch:function(t){return this.then(void 0,t)}});var wS=C,IS=N,TS=at,ES=Nt,CS=vr,OS=dr,PS=bf;wS({target:"Promise",stat:!0,forced:PS},{race:function(e){var r=this,n=ES.f(r),o=n.reject,i=CS(function(){var a=TS(r.resolve);OS(e,function(s){IS(a,r,s).then(n.resolve,o)})});return i.error&&o(i.value),n.promise}});var _S=C,AS=N,RS=Nt,xS=gr.CONSTRUCTOR;_S({target:"Promise",stat:!0,forced:xS},{reject:function(e){var r=RS.f(this);return AS(r.reject,void 0,e),r.promise}});var LS=X,BS=vt,NS=Nt,Sf=function(t,e){if(LS(t),BS(e)&&e.constructor===t)return e;var r=NS.f(t),n=r.resolve;return n(e),r.promise},kS=C,DS=It,MS=hl,FS=Be,jS=gr.CONSTRUCTOR,US=Sf,VS=DS("Promise"),HS=!jS;kS({target:"Promise",stat:!0,forced:MS},{resolve:function(e){return US(HS&&this===VS?FS:this,e)}});var qS=C,zS=N,WS=at,GS=Nt,KS=vr,QS=dr;qS({target:"Promise",stat:!0},{allSettled:function(e){var r=this,n=GS.f(r),o=n.resolve,i=n.reject,a=KS(function(){var s=WS(r.resolve),c=[],f=0,d=1;QS(e,function(u){var p=f++,v=!1;d++,zS(s,r,u).then(function(g){v||(v=!0,c[p]={status:"fulfilled",value:g},--d||o(c))},function(g){v||(v=!0,c[p]={status:"rejected",reason:g},--d||o(c))})}),--d||o(c)});return a.error&&i(a.value),n.promise}});var YS=C,XS=N,JS=at,ZS=It,t$=Nt,e$=vr,r$=dr,ic="No one promise resolved";YS({target:"Promise",stat:!0},{any:function(e){var r=this,n=ZS("AggregateError"),o=t$.f(r),i=o.resolve,a=o.reject,s=e$(function(){var c=JS(r.resolve),f=[],d=0,u=1,p=!1;r$(e,function(v){var g=d++,y=!1;u++,XS(c,r,v).then(function(S){y||p||(p=!0,i(S))},function(S){y||p||(y=!0,f[g]=S,--u||a(new n(f,ic)))})}),--u||a(new n(f,ic))});return s.error&&a(s.value),o.promise}});var n$=C,pi=Be,o$=_,i$=It,a$=A,s$=Yl,ac=Sf,c$=pi&&pi.prototype,u$=!!pi&&o$(function(){c$.finally.call({then:function(){}},function(){})});n$({target:"Promise",proto:!0,real:!0,forced:u$},{finally:function(t){var e=s$(this,i$("Promise")),r=a$(t);return this.then(r?function(n){return ac(e,t()).then(function(){return n})}:t,r?function(n){return ac(e,t()).then(function(){throw n})}:t)}});var oa=T,l$=Hi,f$=st,d$=Oe,p$=oa("".charAt),sc=oa("".charCodeAt),h$=oa("".slice),cc=function(t){return function(e,r){var n=f$(d$(e)),o=l$(r),i=n.length,a,s;return o<0||o>=i?t?"":void 0:(a=sc(n,o),a<55296||a>56319||o+1===i||(s=sc(n,o+1))<56320||s>57343?t?p$(n,o):a:t?h$(n,o,o+2):(a-55296<<10)+(s-56320)+65536)}},$f={codeAt:cc(!1),charAt:cc(!0)},v$=$f.charAt,g$=st,wf=pr,m$=Vl,If="String Iterator",y$=wf.set,b$=wf.getterFor(If);m$(String,"String",function(t){y$(this,{type:If,string:g$(t),index:0})},function(){var e=b$(this),r=e.string,n=e.index,o;return n>=r.length?{value:void 0,done:!0}:(o=v$(r,n),e.index+=o.length,{value:o,done:!1})});var S$=wt,$$=S$.Promise,w$={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},I$=w$,T$=O,E$=Re,C$=Zt,uc=Ae,O$=R,lc=O$("toStringTag");for(var mo in I$){var fc=T$[mo],yo=fc&&fc.prototype;yo&&E$(yo)!==lc&&C$(yo,lc,mo),uc[mo]=uc.Array}var P$=$$,G=P$;class _${constructor({preorder:e,logger:r}){h(this,"preorder");h(this,"logger");this.preorder=e,this.logger=r}init(){if(!this.preorder.initialized)return;const e=this.preorder.productController;if(!e.isCorrectlyExposed()){this.logger.info("Plugin not initialized");return}e.getProductForms().some(r=>(r.addValidator(n=>{if(!this.isFormAffected(r.getFormElement()))return this.logger.info("skip validating for form"),!0;if(this.logger.info("validate this form, bitch"),"checkValidity"in n&&!n.checkValidity())return!1;const o=Array.from(n.querySelectorAll('fieldset[data-required="true"]'));let i=!1;return o.forEach(function(a){const s=a.querySelectorAll('[type="checkbox"]');if(s.length){let c=!1;s.forEach(function(f){f.checked&&(c=!0)}),c||(i=!0)}}),!i}),!0)),e.addMiddleware("onBeforeAddToCart",r=>{const n=r.productForm.getPreorderButton();if(!window.Shoppad||!window.Shoppad.apps||!window.Shoppad.apps.infiniteoptions||!window.Shoppad.apps.infiniteoptions.priceMod)return this.logger.info("shoppad global object not found"),r;const o=window.Shoppad.apps.infiniteoptions.priceMod,i=o.getVariantSubmissions();if(!i||!i.length)return this.logger.info("variants for submission not found"),r.quantity=0,r;const a=document.createEvent("Event");return a.initEvent("infinite_options_stub_click",!0,!0),n==null||n.dispatchEvent(a),new G((s,c)=>{const f=d=>{if(d){this.logger.info("error while add to cart add-price-product"),c(d);return}this.logger.info("add-price-product successfully added"),s(r)};o.addToCart(a,f,i)})}),this.logger.info("Plugin initialized")}isFormAffected(e){return Boolean(e.querySelector("#infiniteoptions-container"))}}class A${constructor({preorder:e,logger:r}){h(this,"preorder");h(this,"logger");this.preorder=e,this.logger=r}init(){if(!this.preorder.initialized)return;this.preorder.cartController.getCartForms().forEach(r=>{r.addMiddleware("onBeforeProcessCheckoutButton",async n=>{const o=typeof window.ol_checkout_ok!="function"||window.ol_checkout_ok();if(this.logger.info("check order logic method value =",o),!o)throw void 0;return n})}),this.logger.info("Plugin initialized")}}const dc="_YmqItemPrice";class R${constructor({preorder:e,logger:r}){h(this,"preorder");h(this,"logger");this.preorder=e,this.logger=r}init(){if(!this.preorder.initialized)return;const e=this.preorder.productController,r=this.preorder.cartController;if(!e.isCorrectlyExposed()){this.logger.info("plugin not exposed");return}e.getProductForms().forEach(n=>{n.addValidator(o=>this.isFormAffected(o)?this.validateForm(o):!0)}),e.addMiddleware("onBeforeAddToCart",n=>{const o=n.productForm.getFormElement();if(this.isFormAffected(o)){const i=this.getAddedPrice();n.properties[dc]=i.toFixed(2)}return n}),r.getCartForms().forEach(n=>{this.doesCartHaveItemsWithYMQOptions(r.cart)&&(r.onQuantityChange="updateCart"),n.addMiddleware("onBeforeProcessCheckoutButton",async o=>{var i;if(this.doesCartHaveItemsWithYMQOptions(r.cart)){const a=new CustomEvent("click",{bubbles:!0,cancelable:!0,detail:{skipPreorderHandling:!0}});throw(i=o.checkoutButton)==null||i.dispatchEvent(a),void 0}return o})}),this.logger.info("Plugin initialized")}validateForm(e){return this.logger.info("validating form",e),Array.from(document.querySelectorAll(".ymq-options-box[data-validate=required]")).every(o=>o.querySelector("input:not(:disabled):checked"))}getAddedPrice(){const e=document.querySelector("#ymq-addons-price [data-ymq-money]");return e&&Number(e.dataset.ymqMoney)||0}isFormAffected(e){return Boolean(e.querySelector(".ymq-box, [ymq-add-to-cart-tags]"))}doesCartHaveItemsWithYMQOptions(e){return e.getLineItems().some(r=>{var n;return(n=r.properties)==null?void 0:n[dc]})}}var x$=_,L$=R,B$=hl,N$=L$("iterator"),Tf=!x$(function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,r="";return t.pathname="c%20d",e.forEach(function(n,o){e.delete("b"),r+=o+n}),B$&&!t.toJSON||!e.sort||t.href!=="http://a/c%20d?a=1&c=3"||e.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!e[N$]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://\u0442\u0435\u0441\u0442").host!=="xn--e1aybc"||new URL("http://a#\u0431").hash!=="#%D0%B1"||r!=="a1c3"||new URL("http://x",void 0).host!=="x"}),k$=Tt,D$=function(t,e,r){return k$.f(t,e,r)},pc=it,M$=T,F$=N,j$=_,bo=Cl,U$=Wi,V$=Bi,H$=Pe,q$=Ni,ce=Object.assign,hc=Object.defineProperty,z$=M$([].concat),Ef=!ce||j$(function(){if(pc&&ce({b:1},ce(hc({},"a",{enumerable:!0,get:function(){hc(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var t={},e={},r=Symbol(),n="abcdefghijklmnopqrst";return t[r]=7,n.split("").forEach(function(o){e[o]=o}),ce({},t)[r]!=7||bo(ce({},e)).join("")!=n})?function(e,r){for(var n=H$(e),o=arguments.length,i=1,a=U$.f,s=V$.f;o>i;)for(var c=q$(arguments[i++]),f=a?z$(bo(c),a(c)):bo(c),d=f.length,u=0,p;d>u;)p=f[u++],(!pc||F$(s,c,p))&&(n[p]=c[p]);return n}:ce,W$=X,G$=Bl,K$=function(t,e,r,n){try{return n?e(W$(r)[0],r[1]):e(r)}catch(o){G$(t,"throw",o)}},Q$=Fi,Y$=Tt,X$=Yt,Cf=function(t,e,r){var n=Q$(e);n in t?Y$.f(t,n,X$(0,r)):t[n]=r},J$=Jt,Z$=N,tw=Pe,ew=K$,rw=xl,nw=Ql,ow=_e,vc=Cf,iw=Ki,aw=$n,gc=Array,sw=function(e){var r=tw(e),n=nw(this),o=arguments.length,i=o>1?arguments[1]:void 0,a=i!==void 0;a&&(i=J$(i,o>2?arguments[2]:void 0));var s=aw(r),c=0,f,d,u,p,v,g;if(s&&!(this===gc&&rw(s)))for(p=iw(r,s),v=p.next,d=n?new this:[];!(u=Z$(v,p)).done;c++)g=a?ew(p,i,[u.value,c],!0):u.value,vc(d,c,g);else for(f=ow(r),d=n?new this(f):gc(f);f>c;c++)g=a?i(r[c],c):r[c],vc(d,c,g);return d.length=c,d},mc=$l,cw=_e,uw=Cf,lw=Array,fw=Math.max,Of=function(t,e,r){for(var n=cw(t),o=mc(e,n),i=mc(r===void 0?n:r,n),a=lw(fw(i-o,0)),s=0;o<i;o++,s++)uw(a,s,t[o]);return a.length=s,a},te=T,So=2147483647,Xe=36,Pf=1,hi=26,dw=38,pw=700,hw=72,vw=128,gw="-",mw=/[^\0-\u007E]/,_f=/[.\u3002\uFF0E\uFF61]/g,yc="Overflow: input needs wider integers to process",$o=Xe-Pf,bc=RangeError,yw=te(_f.exec),be=Math.floor,wo=String.fromCharCode,Sc=te("".charCodeAt),Af=te([].join),At=te([].push),bw=te("".replace),Sw=te("".split),$w=te("".toLowerCase),ww=function(t){for(var e=[],r=0,n=t.length;r<n;){var o=Sc(t,r++);if(o>=55296&&o<=56319&&r<n){var i=Sc(t,r++);(i&64512)==56320?At(e,((o&1023)<<10)+(i&1023)+65536):(At(e,o),r--)}else At(e,o)}return e},$c=function(t){return t+22+75*(t<26)},Iw=function(t,e,r){var n=0;for(t=r?be(t/pw):t>>1,t+=be(t/e);t>$o*hi>>1;)t=be(t/$o),n+=Xe;return be(n+($o+1)*t/(t+dw))},Tw=function(t){var e=[];t=ww(t);var r=t.length,n=vw,o=0,i=hw,a,s;for(a=0;a<t.length;a++)s=t[a],s<128&&At(e,wo(s));var c=e.length,f=c;for(c&&At(e,gw);f<r;){var d=So;for(a=0;a<t.length;a++)s=t[a],s>=n&&s<d&&(d=s);var u=f+1;if(d-n>be((So-o)/u))throw bc(yc);for(o+=(d-n)*u,n=d,a=0;a<t.length;a++){if(s=t[a],s<n&&++o>So)throw bc(yc);if(s==n){for(var p=o,v=Xe;;){var g=v<=i?Pf:v>=i+hi?hi:v-i;if(p<g)break;var y=p-g,S=Xe-g;At(e,wo($c(g+y%S))),p=be(y/S),v+=Xe}At(e,wo($c(p))),i=Iw(o,u,f==c),o=0,f++}}o++,n++}return Af(e,"")},Ew=function(t){var e=[],r=Sw(bw($w(t),_f,"."),"."),n,o;for(n=0;n<r.length;n++)o=r[n],At(e,yw(mw,o)?"xn--"+Tw(o):o);return Af(e,".")},Cw=xe,Ow=function(t,e,r){for(var n in e)r&&r.unsafe&&t[n]?t[n]=e[n]:Cw(t,n,e[n],r);return t},wc=Of,Pw=Math.floor,vi=function(t,e){var r=t.length,n=Pw(r/2);return r<8?_w(t,e):Aw(t,vi(wc(t,0,n),e),vi(wc(t,n),e),e)},_w=function(t,e){for(var r=t.length,n=1,o,i;n<r;){for(i=n,o=t[n];i&&e(t[i-1],o)>0;)t[i]=t[--i];i!==n++&&(t[i]=o)}return t},Aw=function(t,e,r,n){for(var o=e.length,i=r.length,a=0,s=0;a<o||s<i;)t[a+s]=a<o&&s<i?n(e[a],r[s])<=0?e[a++]:r[s++]:a<o?e[a++]:r[s++];return t},Rf=vi,gi=C,$e=O,Ur=N,ht=T,Rw=it,xf=Tf,Lf=xe,xw=Ow,Lw=hr,Bw=Ul,ia=pr,Bf=Xi,Io=A,Nw=Y,kw=Jt,Dw=Re,Mw=X,Nf=vt,M=st,Fw=Sn,Ic=Yt,mi=Ki,jw=$n,ue=Zi,Uw=R,Vw=Rf,Hw=Uw("iterator"),yr="URLSearchParams",kf=yr+"Iterator",Df=ia.set,et=ia.getterFor(yr),qw=ia.getterFor(kf),zw=Object.getOwnPropertyDescriptor,aa=function(t){if(!Rw)return $e[t];var e=zw($e,t);return e&&e.value},Tc=aa("fetch"),on=aa("Request"),Je=aa("Headers"),To=on&&on.prototype,Ec=Je&&Je.prototype,Ww=$e.RegExp,Gw=$e.TypeError,Mf=$e.decodeURIComponent,Kw=$e.encodeURIComponent,Qw=ht("".charAt),Cc=ht([].join),qt=ht([].push),yi=ht("".replace),Yw=ht([].shift),Oc=ht([].splice),Pc=ht("".split),Xw=ht("".slice),Jw=/\+/g,_c=Array(4),Zw=function(t){return _c[t-1]||(_c[t-1]=Ww("((?:%[\\da-f]{2}){"+t+"})","gi"))},tI=function(t){try{return Mf(t)}catch{return t}},Ac=function(t){var e=yi(t,Jw," "),r=4;try{return Mf(e)}catch{for(;r;)e=yi(e,Zw(r--),tI);return e}},eI=/[!'()~]|%20/g,rI={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},nI=function(t){return rI[t]},Rc=function(t){return yi(Kw(t),eI,nI)},Eo=Bw(function(e,r){Df(this,{type:kf,iterator:mi(et(e).entries),kind:r})},"Iterator",function(){var e=qw(this),r=e.kind,n=e.iterator.next(),o=n.value;return n.done||(n.value=r==="keys"?o.key:r==="values"?o.value:[o.key,o.value]),n},!0),Ff=function(t){this.entries=[],this.url=null,t!==void 0&&(Nf(t)?this.parseObject(t):this.parseQuery(typeof t=="string"?Qw(t,0)==="?"?Xw(t,1):t:M(t)))};Ff.prototype={type:yr,bindURL:function(t){this.url=t,this.update()},parseObject:function(t){var e=jw(t),r,n,o,i,a,s,c;if(e)for(r=mi(t,e),n=r.next;!(o=Ur(n,r)).done;){if(i=mi(Mw(o.value)),a=i.next,(s=Ur(a,i)).done||(c=Ur(a,i)).done||!Ur(a,i).done)throw Gw("Expected sequence with length 2");qt(this.entries,{key:M(s.value),value:M(c.value)})}else for(var f in t)Nw(t,f)&&qt(this.entries,{key:f,value:M(t[f])})},parseQuery:function(t){if(t)for(var e=Pc(t,"&"),r=0,n,o;r<e.length;)n=e[r++],n.length&&(o=Pc(n,"="),qt(this.entries,{key:Ac(Yw(o)),value:Ac(Cc(o,"="))}))},serialize:function(){for(var t=this.entries,e=[],r=0,n;r<t.length;)n=t[r++],qt(e,Rc(n.key)+"="+Rc(n.value));return Cc(e,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var In=function(){Bf(this,ar);var e=arguments.length>0?arguments[0]:void 0;Df(this,new Ff(e))},ar=In.prototype;xw(ar,{append:function(e,r){ue(arguments.length,2);var n=et(this);qt(n.entries,{key:M(e),value:M(r)}),n.updateURL()},delete:function(t){ue(arguments.length,1);for(var e=et(this),r=e.entries,n=M(t),o=0;o<r.length;)r[o].key===n?Oc(r,o,1):o++;e.updateURL()},get:function(e){ue(arguments.length,1);for(var r=et(this).entries,n=M(e),o=0;o<r.length;o++)if(r[o].key===n)return r[o].value;return null},getAll:function(e){ue(arguments.length,1);for(var r=et(this).entries,n=M(e),o=[],i=0;i<r.length;i++)r[i].key===n&&qt(o,r[i].value);return o},has:function(e){ue(arguments.length,1);for(var r=et(this).entries,n=M(e),o=0;o<r.length;)if(r[o++].key===n)return!0;return!1},set:function(e,r){ue(arguments.length,1);for(var n=et(this),o=n.entries,i=!1,a=M(e),s=M(r),c=0,f;c<o.length;c++)f=o[c],f.key===a&&(i?Oc(o,c--,1):(i=!0,f.value=s));i||qt(o,{key:a,value:s}),n.updateURL()},sort:function(){var e=et(this);Vw(e.entries,function(r,n){return r.key>n.key?1:-1}),e.updateURL()},forEach:function(e){for(var r=et(this).entries,n=kw(e,arguments.length>1?arguments[1]:void 0),o=0,i;o<r.length;)i=r[o++],n(i.value,i.key,this)},keys:function(){return new Eo(this,"keys")},values:function(){return new Eo(this,"values")},entries:function(){return new Eo(this,"entries")}},{enumerable:!0});Lf(ar,Hw,ar.entries,{name:"entries"});Lf(ar,"toString",function(){return et(this).serialize()},{enumerable:!0});Lw(In,yr);gi({global:!0,constructor:!0,forced:!xf},{URLSearchParams:In});if(!xf&&Io(Je)){var oI=ht(Ec.has),iI=ht(Ec.set),xc=function(t){if(Nf(t)){var e=t.body,r;if(Dw(e)===yr)return r=t.headers?new Je(t.headers):new Je,oI(r,"content-type")||iI(r,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),Fw(t,{body:Ic(0,M(e)),headers:Ic(0,r)})}return t};if(Io(Tc)&&gi({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return Tc(e,arguments.length>1?xc(arguments[1]):{})}}),Io(on)){var Co=function(e){return Bf(this,To),new on(e,arguments.length>1?xc(arguments[1]):{})};To.constructor=Co,Co.prototype=To,gi({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:Co})}}var aI={URLSearchParams:In,getState:et},sI=C,sa=it,cI=Tf,ca=O,Lc=Jt,J=T,an=xe,H=D$,uI=Xi,bi=Y,ua=Ef,le=sw,tt=Of,lI=$f.codeAt,fI=Ew,yt=st,dI=hr,pI=Zi,jf=aI,Uf=pr,hI=Uf.set,sn=Uf.getterFor("URL"),vI=jf.URLSearchParams,gI=jf.getState,je=ca.URL,Si=ca.TypeError,cn=ca.parseInt,mI=Math.floor,Bc=Math.pow,W=J("".charAt),nt=J(/./.exec),We=J([].join),yI=J(1 .toString),bI=J([].pop),pe=J([].push),Nc=J("".replace),SI=J([].shift),$I=J("".split),Ze=J("".slice),un=J("".toLowerCase),wI=J([].unshift),II="Invalid authority",Oo="Invalid scheme",jt="Invalid host",kc="Invalid port",Vf=/[a-z]/i,TI=/[\d+-.a-z]/i,$i=/\d/,EI=/^0x/i,CI=/^[0-7]+$/,OI=/^\d+$/,Hf=/^[\da-f]+$/i,PI=/[\0\t\n\r #%/:<>?@[\\\]^|]/,_I=/[\0\t\n\r #/:<>?@[\\\]^|]/,AI=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,RI=/[\t\n\r]/g,q,xI=function(t){var e=$I(t,"."),r,n,o,i,a,s,c;if(e.length&&e[e.length-1]==""&&e.length--,r=e.length,r>4)return t;for(n=[],o=0;o<r;o++){if(i=e[o],i=="")return t;if(a=10,i.length>1&&W(i,0)=="0"&&(a=nt(EI,i)?16:8,i=Ze(i,a==8?1:2)),i==="")s=0;else{if(!nt(a==10?OI:a==8?CI:Hf,i))return t;s=cn(i,a)}pe(n,s)}for(o=0;o<r;o++)if(s=n[o],o==r-1){if(s>=Bc(256,5-r))return null}else if(s>255)return null;for(c=bI(n),o=0;o<n.length;o++)c+=n[o]*Bc(256,3-o);return c},LI=function(t){var e=[0,0,0,0,0,0,0,0],r=0,n=null,o=0,i,a,s,c,f,d,u,p=function(){return W(t,o)};if(p()==":"){if(W(t,1)!=":")return;o+=2,r++,n=r}for(;p();){if(r==8)return;if(p()==":"){if(n!==null)return;o++,r++,n=r;continue}for(i=a=0;a<4&&nt(Hf,p());)i=i*16+cn(p(),16),o++,a++;if(p()=="."){if(a==0||(o-=a,r>6))return;for(s=0;p();){if(c=null,s>0)if(p()=="."&&s<4)o++;else return;if(!nt($i,p()))return;for(;nt($i,p());){if(f=cn(p(),10),c===null)c=f;else{if(c==0)return;c=c*10+f}if(c>255)return;o++}e[r]=e[r]*256+c,s++,(s==2||s==4)&&r++}if(s!=4)return;break}else if(p()==":"){if(o++,!p())return}else if(p())return;e[r++]=i}if(n!==null)for(d=r-n,r=7;r!=0&&d>0;)u=e[r],e[r--]=e[n+d-1],e[n+--d]=u;else if(r!=8)return;return e},BI=function(t){for(var e=null,r=1,n=null,o=0,i=0;i<8;i++)t[i]!==0?(o>r&&(e=n,r=o),n=null,o=0):(n===null&&(n=i),++o);return o>r&&(e=n,r=o),e},Ue=function(t){var e,r,n,o;if(typeof t=="number"){for(e=[],r=0;r<4;r++)wI(e,t%256),t=mI(t/256);return We(e,".")}else if(typeof t=="object"){for(e="",n=BI(t),r=0;r<8;r++)o&&t[r]===0||(o&&(o=!1),n===r?(e+=r?":":"::",o=!0):(e+=yI(t[r],16),r<7&&(e+=":")));return"["+e+"]"}return t},Yr={},qf=ua({},Yr,{" ":1,'"':1,"<":1,">":1,"`":1}),zf=ua({},qf,{"#":1,"?":1,"{":1,"}":1}),Po=ua({},zf,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Ot=function(t,e){var r=lI(t,0);return r>32&&r<127&&!bi(e,t)?t:encodeURIComponent(t)},Vr={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Ge=function(t,e){var r;return t.length==2&&nt(Vf,W(t,0))&&((r=W(t,1))==":"||!e&&r=="|")},Dc=function(t){var e;return t.length>1&&Ge(Ze(t,0,2))&&(t.length==2||(e=W(t,2))==="/"||e==="\\"||e==="?"||e==="#")},NI=function(t){return t==="."||un(t)==="%2e"},kI=function(t){return t=un(t),t===".."||t==="%2e."||t===".%2e"||t==="%2e%2e"},_o={},Mc={},Ao={},Fc={},jc={},Ro={},Uc={},Vc={},Hr={},qr={},xo={},Lo={},Bo={},No={},Hc={},ko={},fe={},ft={},qc={},Ut={},mt={},la=function(t,e,r){var n=yt(t),o,i,a;if(e){if(i=this.parse(n),i)throw Si(i);this.searchParams=null}else{if(r!==void 0&&(o=new la(r,!0)),i=this.parse(n,null,o),i)throw Si(i);a=gI(new vI),a.bindURL(this),this.searchParams=a}};la.prototype={type:"URL",parse:function(t,e,r){var n=this,o=e||_o,i=0,a="",s=!1,c=!1,f=!1,d,u,p,v;for(t=yt(t),e||(n.scheme="",n.username="",n.password="",n.host=null,n.port=null,n.path=[],n.query=null,n.fragment=null,n.cannotBeABaseURL=!1,t=Nc(t,AI,"")),t=Nc(t,RI,""),d=le(t);i<=d.length;){switch(u=d[i],o){case _o:if(u&&nt(Vf,u))a+=un(u),o=Mc;else{if(e)return Oo;o=Ao;continue}break;case Mc:if(u&&(nt(TI,u)||u=="+"||u=="-"||u=="."))a+=un(u);else if(u==":"){if(e&&(n.isSpecial()!=bi(Vr,a)||a=="file"&&(n.includesCredentials()||n.port!==null)||n.scheme=="file"&&!n.host))return;if(n.scheme=a,e){n.isSpecial()&&Vr[n.scheme]==n.port&&(n.port=null);return}a="",n.scheme=="file"?o=No:n.isSpecial()&&r&&r.scheme==n.scheme?o=Fc:n.isSpecial()?o=Vc:d[i+1]=="/"?(o=jc,i++):(n.cannotBeABaseURL=!0,pe(n.path,""),o=qc)}else{if(e)return Oo;a="",o=Ao,i=0;continue}break;case Ao:if(!r||r.cannotBeABaseURL&&u!="#")return Oo;if(r.cannotBeABaseURL&&u=="#"){n.scheme=r.scheme,n.path=tt(r.path),n.query=r.query,n.fragment="",n.cannotBeABaseURL=!0,o=mt;break}o=r.scheme=="file"?No:Ro;continue;case Fc:if(u=="/"&&d[i+1]=="/")o=Hr,i++;else{o=Ro;continue}break;case jc:if(u=="/"){o=qr;break}else{o=ft;continue}case Ro:if(n.scheme=r.scheme,u==q)n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=tt(r.path),n.query=r.query;else if(u=="/"||u=="\\"&&n.isSpecial())o=Uc;else if(u=="?")n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=tt(r.path),n.query="",o=Ut;else if(u=="#")n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=tt(r.path),n.query=r.query,n.fragment="",o=mt;else{n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=tt(r.path),n.path.length--,o=ft;continue}break;case Uc:if(n.isSpecial()&&(u=="/"||u=="\\"))o=Hr;else if(u=="/")o=qr;else{n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,o=ft;continue}break;case Vc:if(o=Hr,u!="/"||W(a,i+1)!="/")continue;i++;break;case Hr:if(u!="/"&&u!="\\"){o=qr;continue}break;case qr:if(u=="@"){s&&(a="%40"+a),s=!0,p=le(a);for(var g=0;g<p.length;g++){var y=p[g];if(y==":"&&!f){f=!0;continue}var S=Ot(y,Po);f?n.password+=S:n.username+=S}a=""}else if(u==q||u=="/"||u=="?"||u=="#"||u=="\\"&&n.isSpecial()){if(s&&a=="")return II;i-=le(a).length+1,a="",o=xo}else a+=u;break;case xo:case Lo:if(e&&n.scheme=="file"){o=ko;continue}else if(u==":"&&!c){if(a=="")return jt;if(v=n.parseHost(a),v)return v;if(a="",o=Bo,e==Lo)return}else if(u==q||u=="/"||u=="?"||u=="#"||u=="\\"&&n.isSpecial()){if(n.isSpecial()&&a=="")return jt;if(e&&a==""&&(n.includesCredentials()||n.port!==null))return;if(v=n.parseHost(a),v)return v;if(a="",o=fe,e)return;continue}else u=="["?c=!0:u=="]"&&(c=!1),a+=u;break;case Bo:if(nt($i,u))a+=u;else if(u==q||u=="/"||u=="?"||u=="#"||u=="\\"&&n.isSpecial()||e){if(a!=""){var w=cn(a,10);if(w>65535)return kc;n.port=n.isSpecial()&&w===Vr[n.scheme]?null:w,a=""}if(e)return;o=fe;continue}else return kc;break;case No:if(n.scheme="file",u=="/"||u=="\\")o=Hc;else if(r&&r.scheme=="file")if(u==q)n.host=r.host,n.path=tt(r.path),n.query=r.query;else if(u=="?")n.host=r.host,n.path=tt(r.path),n.query="",o=Ut;else if(u=="#")n.host=r.host,n.path=tt(r.path),n.query=r.query,n.fragment="",o=mt;else{Dc(We(tt(d,i),""))||(n.host=r.host,n.path=tt(r.path),n.shortenPath()),o=ft;continue}else{o=ft;continue}break;case Hc:if(u=="/"||u=="\\"){o=ko;break}r&&r.scheme=="file"&&!Dc(We(tt(d,i),""))&&(Ge(r.path[0],!0)?pe(n.path,r.path[0]):n.host=r.host),o=ft;continue;case ko:if(u==q||u=="/"||u=="\\"||u=="?"||u=="#"){if(!e&&Ge(a))o=ft;else if(a==""){if(n.host="",e)return;o=fe}else{if(v=n.parseHost(a),v)return v;if(n.host=="localhost"&&(n.host=""),e)return;a="",o=fe}continue}else a+=u;break;case fe:if(n.isSpecial()){if(o=ft,u!="/"&&u!="\\")continue}else if(!e&&u=="?")n.query="",o=Ut;else if(!e&&u=="#")n.fragment="",o=mt;else if(u!=q&&(o=ft,u!="/"))continue;break;case ft:if(u==q||u=="/"||u=="\\"&&n.isSpecial()||!e&&(u=="?"||u=="#")){if(kI(a)?(n.shortenPath(),u!="/"&&!(u=="\\"&&n.isSpecial())&&pe(n.path,"")):NI(a)?u!="/"&&!(u=="\\"&&n.isSpecial())&&pe(n.path,""):(n.scheme=="file"&&!n.path.length&&Ge(a)&&(n.host&&(n.host=""),a=W(a,0)+":"),pe(n.path,a)),a="",n.scheme=="file"&&(u==q||u=="?"||u=="#"))for(;n.path.length>1&&n.path[0]==="";)SI(n.path);u=="?"?(n.query="",o=Ut):u=="#"&&(n.fragment="",o=mt)}else a+=Ot(u,zf);break;case qc:u=="?"?(n.query="",o=Ut):u=="#"?(n.fragment="",o=mt):u!=q&&(n.path[0]+=Ot(u,Yr));break;case Ut:!e&&u=="#"?(n.fragment="",o=mt):u!=q&&(u=="'"&&n.isSpecial()?n.query+="%27":u=="#"?n.query+="%23":n.query+=Ot(u,Yr));break;case mt:u!=q&&(n.fragment+=Ot(u,qf));break}i++}},parseHost:function(t){var e,r,n;if(W(t,0)=="["){if(W(t,t.length-1)!="]"||(e=LI(Ze(t,1,-1)),!e))return jt;this.host=e}else if(this.isSpecial()){if(t=fI(t),nt(PI,t)||(e=xI(t),e===null))return jt;this.host=e}else{if(nt(_I,t))return jt;for(e="",r=le(t),n=0;n<r.length;n++)e+=Ot(r[n],Yr);this.host=e}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||this.scheme=="file"},includesCredentials:function(){return this.username!=""||this.password!=""},isSpecial:function(){return bi(Vr,this.scheme)},shortenPath:function(){var t=this.path,e=t.length;e&&(this.scheme!="file"||e!=1||!Ge(t[0],!0))&&t.length--},serialize:function(){var t=this,e=t.scheme,r=t.username,n=t.password,o=t.host,i=t.port,a=t.path,s=t.query,c=t.fragment,f=e+":";return o!==null?(f+="//",t.includesCredentials()&&(f+=r+(n?":"+n:"")+"@"),f+=Ue(o),i!==null&&(f+=":"+i)):e=="file"&&(f+="//"),f+=t.cannotBeABaseURL?a[0]:a.length?"/"+We(a,"/"):"",s!==null&&(f+="?"+s),c!==null&&(f+="#"+c),f},setHref:function(t){var e=this.parse(t);if(e)throw Si(e);this.searchParams.update()},getOrigin:function(){var t=this.scheme,e=this.port;if(t=="blob")try{return new we(t.path[0]).origin}catch{return"null"}return t=="file"||!this.isSpecial()?"null":t+"://"+Ue(this.host)+(e!==null?":"+e:"")},getProtocol:function(){return this.scheme+":"},setProtocol:function(t){this.parse(yt(t)+":",_o)},getUsername:function(){return this.username},setUsername:function(t){var e=le(yt(t));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var r=0;r<e.length;r++)this.username+=Ot(e[r],Po)}},getPassword:function(){return this.password},setPassword:function(t){var e=le(yt(t));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var r=0;r<e.length;r++)this.password+=Ot(e[r],Po)}},getHost:function(){var t=this.host,e=this.port;return t===null?"":e===null?Ue(t):Ue(t)+":"+e},setHost:function(t){this.cannotBeABaseURL||this.parse(t,xo)},getHostname:function(){var t=this.host;return t===null?"":Ue(t)},setHostname:function(t){this.cannotBeABaseURL||this.parse(t,Lo)},getPort:function(){var t=this.port;return t===null?"":yt(t)},setPort:function(t){this.cannotHaveUsernamePasswordPort()||(t=yt(t),t==""?this.port=null:this.parse(t,Bo))},getPathname:function(){var t=this.path;return this.cannotBeABaseURL?t[0]:t.length?"/"+We(t,"/"):""},setPathname:function(t){this.cannotBeABaseURL||(this.path=[],this.parse(t,fe))},getSearch:function(){var t=this.query;return t?"?"+t:""},setSearch:function(t){t=yt(t),t==""?this.query=null:(W(t,0)=="?"&&(t=Ze(t,1)),this.query="",this.parse(t,Ut)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var t=this.fragment;return t?"#"+t:""},setHash:function(t){if(t=yt(t),t==""){this.fragment=null;return}W(t,0)=="#"&&(t=Ze(t,1)),this.fragment="",this.parse(t,mt)},update:function(){this.query=this.searchParams.serialize()||null}};var we=function(e){var r=uI(this,k),n=pI(arguments.length,1)>1?arguments[1]:void 0,o=hI(r,new la(e,!1,n));sa||(r.href=o.serialize(),r.origin=o.getOrigin(),r.protocol=o.getProtocol(),r.username=o.getUsername(),r.password=o.getPassword(),r.host=o.getHost(),r.hostname=o.getHostname(),r.port=o.getPort(),r.pathname=o.getPathname(),r.search=o.getSearch(),r.searchParams=o.getSearchParams(),r.hash=o.getHash())},k=we.prototype,z=function(t,e){return{get:function(){return sn(this)[t]()},set:e&&function(r){return sn(this)[e](r)},configurable:!0,enumerable:!0}};sa&&(H(k,"href",z("serialize","setHref")),H(k,"origin",z("getOrigin")),H(k,"protocol",z("getProtocol","setProtocol")),H(k,"username",z("getUsername","setUsername")),H(k,"password",z("getPassword","setPassword")),H(k,"host",z("getHost","setHost")),H(k,"hostname",z("getHostname","setHostname")),H(k,"port",z("getPort","setPort")),H(k,"pathname",z("getPathname","setPathname")),H(k,"search",z("getSearch","setSearch")),H(k,"searchParams",z("getSearchParams")),H(k,"hash",z("getHash","setHash")));an(k,"toJSON",function(){return sn(this).serialize()},{enumerable:!0});an(k,"toString",function(){return sn(this).serialize()},{enumerable:!0});if(je){var zc=je.createObjectURL,Wc=je.revokeObjectURL;zc&&an(we,"createObjectURL",Lc(zc,je)),Wc&&an(we,"revokeObjectURL",Lc(Wc,je))}dI(we,"URL");sI({global:!0,constructor:!0,forced:!cI,sham:!sa},{URL:we});var DI=wt,MI=DI.URL,FI=MI,jI=FI,UI=C,Gc=Ef;UI({target:"Object",stat:!0,arity:2,forced:Object.assign!==Gc},{assign:Gc});var VI=wt,HI=VI.Object.assign,qI=HI,ln=qI;const Gt=typeof window<"u"?window:{},Ne=t=>{const e=t.length,r=new Array(e);for(let n=0;n<e;n++)r[n]=t[n];return r},I=(t,e,r)=>{const n=t.length;if(n!==void 0&&t.nodeType===void 0)for(let o=0;o<n;o++)e.call(r,t[o],o,t);else e.call(r,t,0,t);return t},Tn=(t,...e)=>(e.forEach(r=>{for(let n in r)t[n]=r[n]}),t),Kc=t=>t.filter((e,r)=>t.indexOf(e)===r);var zI=at,WI=Pe,GI=Ni,KI=_e,QI=TypeError,Qc=function(t){return function(e,r,n,o){zI(r);var i=WI(e),a=GI(i),s=KI(i),c=t?s-1:0,f=t?-1:1;if(n<2)for(;;){if(c in a){o=a[c],c+=f;break}if(c+=f,t?c<0:s<=c)throw QI("Reduce of empty array with no initial value")}for(;t?c>=0:s>c;c+=f)c in a&&(o=r(o,a[c],c,i));return o}},Wf={left:Qc(!1),right:Qc(!0)},YI=_,fa=function(t,e){var r=[][t];return!!r&&YI(function(){r.call(null,e||function(){return 1},1)})},XI=C,JI=Wf.left,ZI=fa,Yc=ur,tT=Le,eT=ZI("reduce"),rT=!tT&&Yc>79&&Yc<83;XI({target:"Array",proto:!0,forced:!eT||rT},{reduce:function(e){var r=arguments.length;return JI(this,e,r,r>1?arguments[1]:void 0)}});var nT=wt,kt=function(t){return nT[t+"Prototype"]},oT=kt,iT=oT("Array").reduce,aT=gt,sT=iT,Do=Array.prototype,cT=function(t){var e=t.reduce;return t===Do||aT(Do,t)&&e===Do.reduce?sT:e},uT=cT,ct=uT,lT=C,fT=Wf.right,dT=fa,Xc=ur,pT=Le,hT=dT("reduceRight"),vT=!pT&&Xc>79&&Xc<83;lT({target:"Array",proto:!0,forced:!hT||vT},{reduceRight:function(e){return fT(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}});var gT=kt,mT=gT("Array").reduceRight,yT=gt,bT=mT,Mo=Array.prototype,ST=function(t){var e=t.reduceRight;return t===Mo||yT(Mo,t)&&e===Mo.reduceRight?bT:e},$T=ST,wT=$T,IT=sr,TT=Array.isArray||function(e){return IT(e)=="Array"},ET=C,CT=T,OT=TT,PT=CT([].reverse),Jc=[1,2];ET({target:"Array",proto:!0,forced:String(Jc)===String(Jc.reverse())},{reverse:function(){return OT(this)&&(this.length=this.length),PT(this)}});var _T=kt,AT=_T("Array").reverse,RT=gt,xT=AT,Fo=Array.prototype,LT=function(t){var e=t.reverse;return t===Fo||RT(Fo,t)&&e===Fo.reverse?xT:e},BT=LT,br=BT;let Zc=!1;const NT=/^\s*<(\w+|!)[^>]*>/,kT=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,DT=/^[.#]?[\w-]*$/,MT=function(e,r=document){let n;if(!e)n=document.querySelectorAll(null);else{if(e instanceof zt)return e;typeof e!="string"?n=e.nodeType||e===window?[e]:e:NT.test(e)?n=FT(e):(r=typeof r=="string"?document.querySelector(r):r.length?r[0]:r,n=Kf(e,r))}return jT(n)},B=MT,Gf=function(t){const e=[];return I(this,r=>I(Kf(t,r),n=>{e.indexOf(n)===-1&&e.push(n)})),B(e)},ee=(()=>{const t=typeof Element<"u"?Element.prototype:Gt,e=t.matches||t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return(r,n)=>e.call(r,n)})(),Kf=(t,e)=>{if(DT.test(t)){if(t[0]==="#"){const n=(e.getElementById?e:document).getElementById(t.slice(1));return n?[n]:[]}return t[0]==="."?e.getElementsByClassName(t.slice(1)):e.getElementsByTagName(t)}return e.querySelectorAll(t)},FT=t=>{if(kT.test(t))return[document.createElement(RegExp.$1)];const e=[],r=document.createElement("div"),n=r.childNodes;r.innerHTML=t;for(let o=0,i=n.length;o<i;o++)e.push(n[o]);return e},jT=t=>(Zc||(zt.prototype=B.fn,zt.prototype.constructor=zt,Zc=!0),new zt(t)),zt=function(e){let r=0;const n=e.length;for(;r<n;)this[r]=e[r++];this.length=n},UT=Object.freeze(Object.defineProperty({__proto__:null,$:B,find:Gf,matches:ee,DOMtastic:zt},Symbol.toStringTag,{value:"Module"})),ut=Array.prototype,VT=ut.every,HT=function(t,e){const r=typeof t=="function"?t:n=>ee(n,t);return B(ut.filter.call(this,r,e))},Qf=function(t,e){return I(this,t,e)},qT=Qf,zT=ut.indexOf,WT=ut.map,GT=ut.pop,KT=ut.push,QT=ct(ut),YT=wT(ut),XT=function(){var t;return B(br(t=Ne(this)).call(t))},JT=ut.shift,ZT=ut.some,tE=ut.unshift,eE=Object.freeze(Object.defineProperty({__proto__:null,every:VT,filter:HT,forEach:Qf,each:qT,indexOf:zT,map:WT,pop:GT,push:KT,reduce:QT,reduceRight:YT,reverse:XT,shift:JT,some:ZT,unshift:tE},Symbol.toStringTag,{value:"Module"}));function tu(t){class e{constructor(){zt.call(this,B(...arguments))}}return Tn(e.prototype,t),e}var En=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`,rE=T,nE=Oe,oE=st,iE=En,eu=rE("".replace),fn="["+iE+"]",aE=RegExp("^"+fn+fn+"*"),sE=RegExp(fn+fn+"*$"),jo=function(t){return function(e){var r=oE(nE(e));return t&1&&(r=eu(r,aE,"")),t&2&&(r=eu(r,sE,"")),r}},da={start:jo(1),end:jo(2),trim:jo(3)},Yf=O,cE=_,uE=T,lE=st,fE=da.trim,dE=En,pE=uE("".charAt),dn=Yf.parseFloat,ru=Yf.Symbol,nu=ru&&ru.iterator,hE=1/dn(dE+"-0")!==-1/0||nu&&!cE(function(){dn(Object(nu))}),vE=hE?function(e){var r=fE(lE(e)),n=dn(r);return n===0&&pE(r,0)=="-"?-0:n}:dn,gE=C,ou=vE;gE({global:!0,forced:parseFloat!=ou},{parseFloat:ou});var mE=wt,yE=mE.parseFloat,bE=yE,L=bE;const SE=t=>!isNaN(L(t))&&isFinite(t),iu=t=>t.replace(/-([\da-z])/gi,(e,r)=>r.toUpperCase()),$E=t=>t.replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase(),wE=function(t,e){let r,n,o;if(typeof t=="string"){if(t=iu(t),typeof e>"u"){let i=this.nodeType?this:this[0];return i?(o=i.style[t],SE(o)?L(o):o):void 0}r={},r[t]=e}else{r=t;for(n in r)o=r[n],delete r[n],r[iu(n)]=o}return I(this,i=>{for(n in r)r[n]||r[n]===0?i.style[n]=r[n]:i.style.removeProperty($E(n))}),this},IE=Object.freeze(Object.defineProperty({__proto__:null,css:wE},Symbol.toStringTag,{value:"Module"})),Cn=Array.prototype.forEach,pa=function(t){if(this instanceof Node)if(typeof t=="string")this.insertAdjacentHTML("beforeend",t);else if(t instanceof Node)this.appendChild(t);else{const e=t instanceof NodeList?Ne(t):t;Cn.call(e,this.appendChild.bind(this))}else Sr(this,pa,t);return this},wi=function(t){if(this instanceof Node)if(typeof t=="string")this.insertAdjacentHTML("afterbegin",t);else if(t instanceof Node)this.insertBefore(t,this.firstChild);else{let e=t instanceof NodeList?Ne(t):t;Cn.call(br(e).call(e),wi.bind(this))}else Sr(this,wi,t);return this},pn=function(t){if(this instanceof Node)if(typeof t=="string")this.insertAdjacentHTML("beforebegin",t);else if(t instanceof Node)this.parentNode.insertBefore(t,this);else{const e=t instanceof NodeList?Ne(t):t;Cn.call(e,pn.bind(this))}else Sr(this,pn,t);return this},Ii=function(t){if(this instanceof Node)if(typeof t=="string")this.insertAdjacentHTML("afterend",t);else if(t instanceof Node)this.parentNode.insertBefore(t,this.nextSibling);else{const e=t instanceof NodeList?Ne(t):t;Cn.call(br(e).call(e),Ii.bind(this))}else Sr(this,Ii,t);return this},TE=function(){return B(ha(this))},ha=t=>typeof t=="string"?t:t instanceof Node?t.cloneNode(!0):"length"in t?[].map.call(t,e=>e.cloneNode(!0)):t,Sr=(t,e,r)=>{let n=t.length;for(;n--;){const o=n===0?r:ha(r);e.call(t[n],o)}},EE=Object.freeze(Object.defineProperty({__proto__:null,append:pa,prepend:wi,before:pn,after:Ii,clone:TE,_clone:ha,_each:Sr},Symbol.toStringTag,{value:"Module"})),CE=function(t,e){if(typeof t=="string"&&typeof e>"u"){const r=this.nodeType?this:this[0];return r?r.getAttribute(t):void 0}return I(this,r=>{if(typeof t=="object")for(let n in t)r.setAttribute(n,t[n]);else r.setAttribute(t,e)})},OE=function(t){return I(this,e=>e.removeAttribute(t))},PE=Object.freeze(Object.defineProperty({__proto__:null,attr:CE,removeAttr:OE},Symbol.toStringTag,{value:"Module"})),_E=function(t){return t&&t.length&&I(t.split(" "),va.bind(this,"add")),this},AE=function(t){return t&&t.length&&I(t.split(" "),va.bind(this,"remove")),this},RE=function(t,e){if(t&&t.length){const r=typeof e=="boolean"?e?"add":"remove":"toggle";I(t.split(" "),va.bind(this,r))}return this},xE=function(t){return(this.nodeType?[this]:this).some(e=>e.classList.contains(t))},va=function(t,e){return I(this,r=>r.classList[t](e))},LE=Object.freeze(Object.defineProperty({__proto__:null,addClass:_E,removeClass:AE,toggleClass:RE,hasClass:xE},Symbol.toStringTag,{value:"Module"})),Xf=(t,e)=>!t||!e||t===e?!1:t.contains?t.contains(e):t.compareDocumentPosition?!(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_DISCONNECTED):!1,BE=Object.freeze(Object.defineProperty({__proto__:null,contains:Xf},Symbol.toStringTag,{value:"Module"})),Jf=typeof document<"u"&&"dataset"in document.documentElement,Ve=Jf?"dataset":"__DOMTASTIC_DATA__",au=t=>t.replace(/-+(.)?/g,(e,r)=>r?r.toUpperCase():""),NE=function(t,e){if(typeof t=="string"&&typeof e>"u"){const r=this.nodeType?this:this[0];return r&&Ve in r?r[Ve][au(t)]:void 0}return I(this,r=>{Jf||(r[Ve]=r[Ve]||{}),r[Ve][au(t)]=e})},kE=function(t,e){if(typeof t=="string"&&typeof e>"u"){const r=this.nodeType?this:this[0];return r&&r?r[t]:void 0}return I(this,r=>r[t]=e)},DE=Object.freeze(Object.defineProperty({__proto__:null,data:NE,prop:kE},Symbol.toStringTag,{value:"Module"})),ME=function(t){const e=typeof t=="string"?B(t):t;return pa.call(e,this),this},FE=function(){return I(this,t=>t.innerHTML="")},jE=function(){return I(this,t=>{t.parentNode&&t.parentNode.removeChild(t)})},UE=function(){return pn.apply(this,arguments).remove()},VE=function(t){return t===void 0?this[0].textContent:I(this,e=>e.textContent=""+t)},HE=function(t){return t===void 0?this.length>0?this[0].value:void 0:I(this,e=>e.value=t)},qE=Object.freeze(Object.defineProperty({__proto__:null,appendTo:ME,empty:FE,remove:jE,replaceWith:UE,text:VE,val:HE},Symbol.toStringTag,{value:"Module"})),zE=function(t){if(t===void 0){const e=this.nodeType?this:this[0];return e?e.innerHTML:void 0}return I(this,e=>e.innerHTML=t)},WE=Object.freeze(Object.defineProperty({__proto__:null,html:zE},Symbol.toStringTag,{value:"Module"})),Zf=(()=>{const t=function(e,r){const n=[];return I(this,o=>{for(;o&&o!==r;){if(ee(o,e)){n.push(o);break}o=o.parentElement}}),B(Kc(n))};return typeof Element>"u"||!Element.prototype.closest?t:function(e,r){if(r)return t.call(this,e,r);{const n=[];return I(this,o=>{const i=o.closest(e);i&&n.push(i)}),B(Kc(n))}}})(),GE=Object.freeze(Object.defineProperty({__proto__:null,closest:Zf},Symbol.toStringTag,{value:"Module"})),ga=function(t,e,r,n,o){typeof e=="function"&&(r=e,e=null);let i,a,s;return t.split(" ").forEach(c=>{i=c.split("."),c=i[0]||null,a=i[1]||null,s=td(r),I(this,f=>{if(e&&(s=ed.bind(f,e,s)),o){const d=s;s=u=>{ma.call(f,t,e,r,n),d.call(f,u)}}f.addEventListener(c,s,n||!1),ya(f).push({eventName:c,handler:r,eventListener:s,selector:e,namespace:a})})},this),this},ma=function(t="",e,r,n){typeof e=="function"&&(r=e,e=null);let o,i,a;return t.split(" ").forEach(s=>(o=s.split("."),s=o[0]||null,i=o[1]||null,I(this,c=>{a=ya(c),I(a.filter(f=>(!s||f.eventName===s)&&(!i||f.namespace===i)&&(!r||f.handler===r)&&(!e||f.selector===e)),f=>{c.removeEventListener(f.eventName,f.eventListener,n||!1),a.splice(a.indexOf(f),1)}),(!s&&!i&&!e&&!r||a.length===0)&&Ei(c)})),this),this},KE=function(t,e,r,n){return ga.call(this,t,e,r,n,1)},tr="__domtastic_event__";let QE=1,hn={},Ti=[];const ya=t=>{t[tr]||(t[tr]=Ti.length===0?++QE:Ti.pop());const e=t[tr];return hn[e]||(hn[e]=[])},Ei=t=>{const e=t[tr];hn[e]&&(hn[e]=null,t[tr]=null,Ti.push(e))},td=t=>function(e){return t.call(this,JE(e))},su={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"},YE=()=>!0,XE=()=>!1,JE=t=>{if(!t.isDefaultPrevented||t.stopImmediatePropagation||t.stopPropagation){for(const e in su)(function(r,n,o){t[r]=function(){return this[n]=YE,o&&o.apply(this,arguments)},t[n]=XE})(e,su[e],t[e]);t._preventDefault&&t.preventDefault()}return t},ed=function(t,e,r){const n=r._target||r.target,o=Zf.call([n],t,this)[0];o&&o!==this&&(o===n||!(r.isPropagationStopped&&r.isPropagationStopped()))&&e.call(o,r)},ZE=ga,tC=ma,eC=Object.freeze(Object.defineProperty({__proto__:null,on:ga,off:ma,one:KE,getHandlers:ya,clearHandlers:Ei,proxyHandler:td,delegateHandler:ed,bind:ZE,unbind:tC},Symbol.toStringTag,{value:"Module"})),rC=/^(mouse(down|up|over|out|enter|leave|move)|contextmenu|(dbl)?click)$/,nC=/^key(down|press|up)$/,rd=function(t,e,{bubbles:r=!0,cancelable:n=!0,preventDefault:o=!1}={}){const i=oC(t),a=new i(t,{bubbles:r,cancelable:n,preventDefault:o,detail:e});return a._preventDefault=o,I(this,s=>{!r||uC||aC(s)?nd(s,a):sC(s,t,{bubbles:r,cancelable:n,preventDefault:o,detail:e})})},oC=t=>lC?rC.test(t)?MouseEvent:nC.test(t)?KeyboardEvent:CustomEvent:CustomEvent,iC=function(t,e){this[0]&&rd.call(this[0],t,e,{bubbles:!1,preventDefault:!0})},aC=t=>t===window||t===document?!0:Xf(t.ownerDocument.documentElement,t),sC=(t,e,r={})=>{r.bubbles=!1;const n=new CustomEvent(e,r);n._target=t;do nd(t,n);while(t=t.parentNode)},cC=["blur","focus","select","submit"],nd=(t,e)=>{cC.indexOf(e.type)!==-1&&typeof t[e.type]=="function"&&!e._preventDefault&&!e.cancelable?t[e.type]():t.dispatchEvent(e)};(()=>{const t=function(e,r={bubbles:!1,cancelable:!1,detail:void 0}){let n=document.createEvent("CustomEvent");return n.initCustomEvent(e,r.bubbles,r.cancelable,r.detail),n};t.prototype=Gt.CustomEvent&&Gt.CustomEvent.prototype,Gt.CustomEvent=t})();const uC=(()=>{let t=!1;const e=Gt.document;if(e){const r=e.createElement("div"),n=r.cloneNode();r.appendChild(n),r.addEventListener("e",function(){t=!0}),n.dispatchEvent(new CustomEvent("e",{bubbles:!0}))}return t})(),lC=(()=>{try{new MouseEvent("click")}catch{return!1}return!0})(),fC=Object.freeze(Object.defineProperty({__proto__:null,trigger:rd,triggerHandler:iC},Symbol.toStringTag,{value:"Module"})),dC=function(t){return/complete|loaded|interactive/.test(document.readyState)&&document.body?t():document.addEventListener("DOMContentLoaded",t,!1),this},pC=Object.freeze(Object.defineProperty({__proto__:null,ready:dC},Symbol.toStringTag,{value:"Module"})),hC=Gt.$,vC=function(){return Gt.$=hC,this},gC=Object.freeze(Object.defineProperty({__proto__:null,noConflict:vC},Symbol.toStringTag,{value:"Module"})),mC=function(t){const e=[];return I(this,r=>{r.children&&I(r.children,n=>{(!t||t&&ee(n,t))&&e.push(n)})}),B(e)},yC=function(t){return I(B(t),e=>{[].indexOf.call(this,e)===-1&&[].push.call(this,e)}),this},bC=function(){const t=[];return I(this,e=>t.push.apply(t,Ne(e.childNodes))),B(t)},SC=function(t){return ba.call(this,t,t+1)},$C=function(){return ba.call(this,0,1)},wC=function(t){return this[t]},IC=function(t){const e=[];return I(this,r=>{(!t||t&&ee(r.parentNode,t))&&e.push(r.parentNode)}),B(e)},TC=function(t){const e=[];return I(this,r=>I(r.parentNode.children,n=>{n!==r&&(!t||t&&ee(n,t))&&e.push(n)})),B(e)},ba=function(t,e){return B([].slice.apply(this,arguments))},EC=Object.freeze(Object.defineProperty({__proto__:null,children:mC,concat:yC,contents:bC,eq:SC,first:$C,get:wC,parent:IC,siblings:TC,slice:ba},Symbol.toStringTag,{value:"Module"})),CC=t=>typeof t=="function",OC=Array.isArray,PC=Object.freeze(Object.defineProperty({__proto__:null,isFunction:CC,isArray:OC},Symbol.toStringTag,{value:"Module"})),Sa={};let $t={};typeof UT<"u"&&($t=B,$t.matches=ee,Sa.find=Gf);Tn($t,BE,gC,PC);Tn(Sa,eE,IE,PE,EE,LE,DE,qE,WE,eC,fC,pC,GE,EC);$t.fn=Sa;$t.version="__VERSION__";$t.extend=Tn;typeof tu<"u"&&($t.BaseClass=tu($t.fn));const b=$t;var _C=vt,AC=sr,RC=R,xC=RC("match"),LC=function(t){var e;return _C(t)&&((e=t[xC])!==void 0?!!e:AC(t)=="RegExp")},BC=LC,NC=TypeError,od=function(t){if(BC(t))throw NC("The method doesn't accept regular expressions");return t},kC=R,DC=kC("match"),id=function(t){var e=/./;try{"/./"[t](e)}catch{try{return e[DC]=!1,"/./"[t](e)}catch{}}return!1},MC=C,ad=T,FC=wl,cu=st,jC=od,UC=Oe,VC=id,uu=ad("".endsWith),HC=ad("".slice),qC=Math.min,zC=VC("endsWith");MC({target:"String",proto:!0,forced:!zC},{endsWith:function(e){var r=cu(UC(this));jC(e);var n=arguments.length>1?arguments[1]:void 0,o=r.length,i=n===void 0?o:qC(FC(n),o),a=cu(e);return uu?uu(r,a,i):HC(r,i-a.length,i)===a}});var WC=kt;WC("String").endsWith;function Uo(t="Attempting to access a property of an object that hasn't been initialized yet"){return new Proxy({},{get(){throw new Error(t)},set(){throw new Error(t)}})}class GC{constructor(e){h(this,"products");this.products=e}findAll(){return this.getArray()}findById(e){return this.getArray().find(r=>r.shopifyId==e)}getArray(){return this.products}}class KC{constructor(e){h(this,"variants");this.variants=e}findAll(){return this.getArray()}findById(e){return this.getArray().find(r=>r.shopifyId==e)}getArray(){return this.variants}}class QC{constructor(e){h(this,"products");this.products=e}findAll(){return this.getArray()}findById(e){return this.getArray().forEach(r=>r.id==e)}getArray(){return this.products}}class sd{constructor(e,r){h(this,"apiVariant");h(this,"settings");h(this,"product");this.apiVariant=e,this.settings=r}getId(){return this.apiVariant.id}getProduct(){return this.product}setProduct(e){e.addVariant(this),this.product=e}getSettings(){return this.settings}isTuned(e=!1){return Boolean(this.settings&&this.settings.enabled&&(!e||!this.settings.schedule||On(this.settings.startsOn,this.settings.endsOn)))}getStock(){const e=this.apiVariant;if(this.apiVariant.inventory_management!=null){const r=e.inventory_quantity;return r>0?r:0}return 1/0}}/*!
 * Serialize all form data into an array
 * (c) 2018 Chris Ferdinandi, MIT License, https://gomakethings.com
 * @param  {Node}   form The form to serialize
 * @return {String}      The serialized form data
 */function YC(t){const e=[];for(let r=0;r<t.elements.length;r++){const n=t.elements[r];if(!(!n.name||n.disabled||n.type==="file"||n.type==="reset"||n.type==="submit"||n.type==="button"))if(n.type==="select-multiple")for(let o=0;o<n.options.length;o++)!n.options[o].selected||e.push({name:n.name,value:n.options[o].value});else(n.type!=="checkbox"&&n.type!=="radio"||n.checked)&&e.push({name:n.name,value:n.value})}return e}/*!
 * Check if two objects or arrays are equal
 * (c) 2017 Chris Ferdinandi, MIT License, https://gomakethings.com
 * @param  {Object|Array}  value  The first object or array to compare
 * @param  {Object|Array}  other  The second object or array to compare
 * @return {Boolean}              Returns true if they're equal
 */function cd(t,e){const r=Object.prototype.toString.call(t);if(r!==Object.prototype.toString.call(e)||["[object Array]","[object Object]"].indexOf(r)<0)return!1;const n=r==="[object Array]"?t.length:Object.keys(t).length,o=r==="[object Array]"?e.length:Object.keys(e).length;if(n!==o)return!1;const i=function(a,s){const c=Object.prototype.toString.call(a);if(["[object Array]","[object Object]"].indexOf(c)>=0){if(!cd(a,s))return!1}else{if(c!==Object.prototype.toString.call(s))return!1;if(c==="[object Function]"){if(a.toString()!==s.toString())return!1}else if(a!==s)return!1}};if(r==="[object Array]"){for(let a=0;a<n;a++)if(i(t[a],e[a])===!1)return!1}else for(const a in t)if(t.hasOwnProperty(a)&&i(t[a],e[a])===!1)return!1;return!0}function dt(t,e,r){t.style.setProperty(e,r,"important")}function XC(t,e){var r;return window.getComputedStyle?(r=window.getComputedStyle(t)[e])!=null?r:void 0:""}function JC(t){return t.offsetWidth>0&&t.offsetHeight>0&&b(t).css("display")!="none"}function U(t,e){const r=Array.from(b(document).find(t)),n=e.tagName.toLowerCase()==="form";return r.filter(o=>n&&b(o).closest("form")[0]===e||!n&&b.contains(e,o))}function vn(t){return Array.from(new Set(t))}function On(t,e,r=new Date){const n=new Date(r);return!(t&&n<new Date(t)||e&&n>new Date(e))}function lu(t){const e=t instanceof sd||t instanceof ud?t.getSettings():t;return e&&e.enabled&&(!e.schedule||On(e.startsOn,e.endsOn))}function ZC(){return window.matchMedia("only screen and (max-width: 760px)").matches}class ud{constructor(e,r){h(this,"apiProduct");h(this,"settings");h(this,"variants");this.apiProduct=e,this.settings=r,this.variants=[]}getId(){return this.apiProduct.id}getHandle(){return this.apiProduct.handle}getVariants(){return this.variants}addVariant(e){this.variants.push(e)}getSettings(){return this.settings}isTuned(e=!1){return Boolean(this.settings&&this.settings.enabled&&(!e||!this.settings.schedule||On(this.settings.startsOn,this.settings.endsOn)))}}class tO{constructor(e,r,n){h(this,"apiRepository");h(this,"productSettingsRepository");h(this,"variantSettingsRepository");this.apiRepository=e,this.productSettingsRepository=r,this.variantSettingsRepository=n}findAll(){const e=[];return this.apiRepository.findAll().forEach(r=>{const n=this.productSettingsRepository.findById(r.id),o=new ud(r,n);r.variants.forEach(i=>{const a=this.variantSettingsRepository.findById(i.id);new sd(i,a).setProduct(o)}),e.push(o)}),e}hasTuned(){return this.findAll().some(e=>e.isTuned())}findById(e){return this.findAll().forEach(r=>r.getId()==e)}findByHandle(e){return this.findAll().find(r=>r.getHandle()==e)}findByVariantId(e){return this.findAll().find(r=>r.getVariants().some(n=>n.getId()==e))}}class eO{constructor(e){h(this,"productRepository");this.productRepository=e}findAll(){var e;return ct(e=this.productRepository.findAll()).call(e,(r,n)=>r.concat(n.getVariants()),[])}hasTuned(){return this.findAll().some(e=>e.isTuned())}findById(e){return this.findAll().find(r=>r.getId()==e)}findByProductId(e){return this.findAll().filter(r=>{var n;return((n=r.getProduct())==null?void 0:n.getId())===e})}}class rO{getQuantity(){return 0}getPreordersQuantiuty(){return 0}}var nO=C,oO=Il.includes,iO=_,aO=iO(function(){return!Array(1).includes()});nO({target:"Array",proto:!0,forced:aO},{includes:function(e){return oO(this,e,arguments.length>1?arguments[1]:void 0)}});var sO=kt,cO=sO("Array").includes,uO=C,lO=T,fO=od,dO=Oe,fu=st,pO=id,hO=lO("".indexOf);uO({target:"String",proto:!0,forced:!pO("includes")},{includes:function(e){return!!~hO(fu(dO(this)),fu(fO(e)),arguments.length>1?arguments[1]:void 0)}});var vO=kt,gO=vO("String").includes,du=gt,mO=cO,yO=gO,Vo=Array.prototype,Ho=String.prototype,bO=function(t){var e=t.includes;return t===Vo||du(Vo,t)&&e===Vo.includes?mO:typeof t=="string"||t===Ho||du(Ho,t)&&e===Ho.includes?yO:e},SO=bO,Pn=SO;function Ci(t,e,r){var n;const o=[t.preorderLabel,t.initial_payment_label];return e.forEach(i=>{o.push(i.shop.preorderLabel,i.shop.initial_payment_label)}),ct(n=Object.keys(r||{})).call(n,(i,a)=>(Pn(o).call(o,a)||(i[a]=r[a]),i),{})}class $O{constructor(e,r,n){h(this,"apiCart");h(this,"shopSettings");h(this,"locales");this.apiCart=e,this.shopSettings=r,this.locales=n}getQuantity(e,r){var n;const o=this.filterLineItems(e,r);return o.length?ct(n=o.map(i=>i.variant_id==e&&i.quantity||0)).call(n,(i,a)=>i+a,0):0}getPreordersQuantity(e,r){const n=this.shopSettings.preorderLabel;let o=0;return this.filterLineItems(e,r).forEach(i=>{const a=i.properties||{};a[n]&&(o=Number(a[n]))}),o}getLineItem(e,r){const n=this.filterLineItems(e,r);if(n.length)return n[0]}filterLineItems(e,r){return r=r&&Ci(this.shopSettings,this.locales,r),this.apiCart.items.filter(n=>{const o=e==n.variant_id;if(!r)return o;const i=n.properties||{};return o&&cd(r,Ci(this.shopSettings,this.locales,i))})}}class Kt{constructor(e={items:[]},r,n){h(this,"apiCart");h(this,"shopSettings");h(this,"locales");this.apiCart=e,this.shopSettings=r,this.locales=n}getNote(){return this.apiCart.note}getLineItems(){return this.apiCart.items}addLineItem(e){this.apiCart.items.push(e)}getApiCart(){return this.apiCart}products(){return new rO}variants(){return new $O(this.apiCart,this.shopSettings,this.locales)}copyExcept(e){const r=[];return this.getLineItems().forEach(n=>{n!=e&&r.push(n)}),new Kt({items:r},this.shopSettings,this.locales)}copyUpdate(e=[],r){const n=this.getLineItems().map((o,i)=>({...o,quantity:e[i]}));return new Kt({items:n,note:r},this.shopSettings,this.locales)}copyEmpty(){return new Kt({items:[]},this.shopSettings,this.locales)}hasPartiallyPaidItems(){const e=this.shopSettings.initial_payment_label;return this.apiCart.items.some(r=>r.properties&&r.properties[e]!=null)}}class $a{constructor(e){h(this,"cart");this.cart=e}calculate(e){const r=e.getStock(),n=this.cart.variants().getQuantity(e.getId()),o=e.getProduct(),i=o==null?void 0:o.getSettings(),a=e.getSettings(),s=i?lu(i):!1;if(a?lu(a):!1){let d=r,u=a.quantityLimit;if(isFinite(d)||(d=0),n>d){const p=n-d;u=u>p?u-p:0,d=0}else d-=n;return{total:d+u,stock:d,preorders:u}}if(s){let d=r;isFinite(d)||(d=0),d=d>n?d-n:0;let u=i.quantityLimit;const p=this.cart.getLineItems().map(g=>({variant:o.getVariants().find(S=>g.variant_id==S.getId()),lineItem:g})).filter(g=>g.lineItem.product_id==o.getId()&&g.variant&&!g.variant.isTuned()),v=ct(p).call(p,(g,y)=>{var w;const S=((w=y.variant)==null?void 0:w.getStock())||0;return g.set(y.variant.getId(),isFinite(S)?S:0),g},new Map);return p.forEach(g=>{const{variant:y,lineItem:S}=g,w=S.quantity||0;let l=v.get(y.getId())||0;w>l?(u-=w-l,l=0):l-=w,v.set(y.getId(),l)}),{total:d+u,stock:d,preorders:u}}const f=r>n?r-n:0;return{total:f,stock:f,preorders:0}}}const wO=[".shopify-section"],IO=['form[action$="/cart/add"]','form[action$="/cart/add/"]','form[action$="/cart/add.js"]'],TO=[".btn.add-to-cart",".button--addToCart",".addtocart",".product-menu-buttons-addtocart .product-menu-button",".product-menu-button.product-menu-button-atc",'.add-to-cart [type="button"]',"button.product-submit",".btn",'[type="submit"] span span',".addtocart","div.submit button","button[id^=AddToCart]",".gf_add-to-cart",'[type="submit"]'],EO=['[name="quantity"]'],CO=[".selection-wrapper.variant.radio.js",".swatch",".variant-input input","[data-option-name] [data-value]","[data-product-option]"],OO=['[id*="-product-template-"].OptionSelector.Popover .Popover__Value',".product-section .variant-wrapper select","variant-radios"],PO=['[name="id"]','[name="id[]"]'],_O=['[data-shopify="payment-button"]'],AO=['form[action$="/cart"]','form[action$="/cart/"]',".handy-preorder--page-cart #MainContent"],RO=['[name="update"]'],xO=['[name="checkout"]',".checkout-button.button.alt.wc-forward"],LO=["[data-quantity-select]",".cart-item-column:not(.cart-item-column-mobile) .quantity-input",'input[name="quantity"]',"input[data-cart-item-quantity]","input[data-cart-item-input-quantity]",'[name^="updates["]'],BO=[],NO=['[name="note"]'],kO=[".card-wrapper",".product-card",".product.grid__item",".product-item",".grid-product",".card","#CollectionSection .grid__item, [data-section-type=featured-products-section] .grid__item",".collectionBlock",".ProductItem",".product-list-item",".pt-product",".product-grid-item",".product-each-con",".card--default",".product-block"],DO=[".product-card__image-with-placeholder-wrapper",".product-card__image-wrapper",".product__image-wrapper",".product-item__image-container",".product-item__image-wrapper",".grid-product__image-wrapper",".grid-link__image",".card__image-wrapper",".product-item-image",".product-image",".grid-product__image-mask",".collectionBlock-image",".ProductItem__ImageWrapper",".product-list-item-thumbnail a",".grid-product__content",".pt-image-box",".lazyload__image-wrapper",".product-grid-image--centered",".product-each",".card__img--container",".image-label-wrap",".card--product .card__inner",".card__media"],MO=["a"];class FO{resolveAll(e=document.body){return Array.from(b(e).find(wO.join(",")))}}const ld=['form[action="/cart"] [type="submit"][name="update"]','form[action="/cart"].cart-form [type="submit"][name="update"]','form[action^="/cart"] [name="update"]'];class jO{constructor(e){h(this,"config");this.config=e}resolveAll(){if(this.config.cartFormSelector)return Array.from(b(this.config.cartFormSelector));const e=Array.from(b(AO.join(",")));return Array.from(b(ld.join(","))).forEach(n=>{const o=b(n).closest("form");!o.length||e.indexOf(o[0])==-1&&e.push(o[0])}),e}}const fd=['form[action="/cart/add"] [type="submit"]','form[action="/cart/add"] #addToCartCopy',"form .tt-btn.tt-btn--cart",'form[action="/cart/add"] [type="submit"].bold_clone','form[action="/cart/add"] .btn-addtocart','form[action="/cart/add"] button[data-product-add]','form[action="/cart/add"] .ProductForm__AddToCart','form[action="/cart/add"] #add','form[action^="/cart/add"] [type="submit"]','form[action="/cart/add"] .product-form-inline-atc-button','form[action="/cart/add"] #add-to-cart','form[action="/cart/add"] [name="add"]','form[action="/cart/add"] #product-add-to-cart'];class UO{constructor(e){h(this,"config");this.config=e}resolveAll(){if(this.config.productFormSelector)return Array.from(b(this.config.productFormSelector));const e=Array.from(b(IO.join(",")));return Array.from(b(fd.join(","))).forEach(n=>{const o=b(n).closest("form");!o.length||e.indexOf(o[0])==-1&&e.push(o[0])}),e}}class VO{constructor(e){h(this,"config");this.config=e}resolveAll(){const e=this.config.productCardSelector?this.config.productCardSelector:kO.join(","),r=b(e);return Array.from(r)}}class HO{constructor(e){h(this,"config");this.config=e}resolve(e){if(this.config.addToCartButtonSelector)return U(this.config.addToCartButtonSelector,e)[0];const r=Array.from(b(e).find(TO.join(",")));if(r.length)return r[0];const n=U(fd.join(","),e);if(n.length)return n[0]}}const qO=['select[id|="product-select-__PID__-option"]','select[id|="product-select-option"]','select[id|="productSelect-option"]','select[id|="ProductSelect-option"]','select[id|="ProductSelect"]','input[id|="ProductSelect-option"]','select[id|="product-variants-option"]','select[id|="sca-qv-product-selected-option"]','select[id|="product-variants-__PID__-option"]','select[id|="variant-listbox-option"]','select[id|="product-selectors-option"]','select[id|="product-select-__PID__product-option"]','select[id|="id-option"]','select[id|="SingleOptionSelector"]','select[id|="single-option-__PID__"]','select[id|="productSelect-product-template-option"]','select[id|="product-select-__PID__"]','select[id|="ProductSelect-product-template-option"]','select[id^="ProductSelect-product-template"]','select[id|="productSelect-"]','select[id="Color"]','input[id^="ProductSelect-option-"]','input[id^="swatch-"]','select[id^="product-select-"]','form[action="/cart/add"] select[name^="properties"]','form[action="/cart/add"] .form-field-select','form[action="/cart/add.js"] li[data-text]','form[action="/cart/add"] .btn-cart','form[action="/cart/add"] .option-select-input','form[action="/cart/add"] .single-option-selector','form[action="/cart/add"] .variant__button-label'];class zO{constructor(e){h(this,"config");this.config=e}resolveAll(e){if(this.config.globalCustomVariantInputSelector||this.config.customVariantInputSelector){const i=this.config.globalCustomVariantInputSelector?Array.from(b(this.config.globalCustomVariantInputSelector)):[],a=this.config.customVariantInputSelector?U(this.config.customVariantInputSelector,e):[];return vn([...a,...i])}if(this.config.customVariantInputSelector)return U(this.config.customVariantInputSelector,e);const r=Array.from(b(e).find(CO.join(","))),n=Array.from(b(OO.join(","))),o=U(qO.join(","),e);return vn([...r,...n,...o])}}class WO{constructor(e){}resolve(e){const r=b(e).find(_O.join(","));return r.length?r[0]:null}}class GO{constructor(e){}resolve(e){const r=b(e).find(EO.join(","));return r.length?r[0]:null}}class KO{constructor(e){h(this,"config");this.config=e}resolve(e){return this.config.variantSelector?U(this.config.variantSelector,e)[0]:b(e).find(PO.join(","))[0]}}const QO=['form[action="/cart"] [type="submit"][name="checkout"]','form[action="/cart"] .checkout-button.button.alt.wc-forward','form[action="/cart"].cart-form [type="submit"][name="checkout"]','form[action^="/cart"] [type="submit"][name="checkout"]'];class YO{constructor(e){h(this,"config");this.config=e}resolveAll(e){if(this.config.checkoutButtonSelector)return U(this.config.checkoutButtonSelector,e);const r=Array.from(b(e).find(xO.join(","))),n=U(QO.join(","),e);return vn(r.concat(n))}}class XO{constructor(e){h(this,"config");this.config=e}resolveAll(e){if(this.config.updateButtonSelector)return U(this.config.updateButtonSelector,e);const r=Array.from(b(e).find(RO.join(","))),n=U(ld.join(","),e);return vn(r.concat(n))}}const JO=['form[action^="/cart"]:not(.ajaxcart) [name^="updates["]','form[action="/cart"].cart-form [name^="updates["]','form[action^="/cart"] [name^="updates["]','form[action="/cart"] .cart-item-column:not(.cart-item-column-mobile) .quantity-input','form[action="/cart"] [name^="updates["]'];class ZO{constructor(e){h(this,"config");this.config=e}resolveAll(e){if(this.config.updateInputSelector)return U(this.config.updateInputSelector,e);for(const r of LO){const n=Array.from(b(e).find(r));if(n.length)return n}for(const r of JO){const n=U(r,e);if(n.length)return n}return[]}}class tP{constructor(e){h(this,"config");this.config=e}resolve(e){const r=b(e);if(this.config.noteInputSelector)return r.find(this.config.noteInputSelector).get(0);const n=r.find(NO.join(","));if(n.length)return n[0]}}class eP{constructor(e){h(this,"config");this.config=e}resolve(e){if(this.config.preorderBadgeContainerSelector)return b(e).find(this.config.preorderBadgeContainerSelector)[0];const r=b(e).find(DO.join(","));return r.length?r[0]:null}}class rP{constructor(e){h(this,"config");this.config=e}resolve(e){const r=b(e).find(MO.join(","));if(r.length)return r[0];if(e.tagName==="A")return e}}class nP{constructor(e){h(this,"config");this.config=e}resolveAll(e){if(this.config.quantityCaptionSelector)return U(this.config.quantityCaptionSelector,e);for(const r of BO){const n=Array.from(b(e).find(r));if(n.length)return n}return[]}}class oP{constructor(e){h(this,"config");this.config=e}sections(){return new FO}productForms(){return new UO(this.config)}addToCartButton(){return new HO(this.config)}customVariantInputs(){return new zO(this.config)}dynamicCheckout(){return new WO(this.config)}quantityInput(){return new GO(this.config)}variantInput(){return new KO(this.config)}cartForms(){return new jO(this.config)}checkoutButtons(){return new YO(this.config)}updateButtons(){return new XO(this.config)}updateInputs(){return new ZO(this.config)}quantityCaptions(){return new nP(this.config)}noteInputs(){return new tP(this.config)}productCards(){return new VO(this.config)}preorderBadgeContainer(){return new eP(this.config)}productLink(){return new rP(this.config)}}class dd{constructor(e,r){h(this,"variantRepository");h(this,"shopSettings");this.variantRepository=e,this.shopSettings=r}getInitialPaymentSum(e){if(!e.properties)return;const r=this.getInitialPaymentPercent(e),n=e.properties[this.shopSettings.preorderLabel];if(!(!n||r==null))return(e.final_price||0)*Number(r)*Number(n)/100}getInitialPaymentPercent(e){const r=e.variant_id?this.variantRepository.findById(e.variant_id):void 0,n=r==null?void 0:r.getProduct();if(!r)return;const o=r.getSettings(),i=n&&n.getSettings();return o&&o.initial_payment_percent||i&&i.initial_payment_percent}}var iP=wt,aP=iP.URLSearchParams,sP=aP,cP=sP,pd=O,uP=_,lP=T,fP=st,dP=da.trim,pu=En,er=pd.parseInt,hu=pd.Symbol,vu=hu&&hu.iterator,hd=/^[+-]?0x/i,pP=lP(hd.exec),hP=er(pu+"08")!==8||er(pu+"0x16")!==22||vu&&!uP(function(){er(Object(vu))}),vP=hP?function(e,r){var n=dP(fP(e));return er(n,r>>>0||(pP(hd,n)?16:10))}:er,gP=C,gu=vP;gP({global:!0,forced:parseInt!=gu},{parseInt:gu});var mP=wt,yP=mP.parseInt,bP=yP,St=bP;var SP=Ml.PROPER,$P=_,mu=En,yu="\u200B\x85\u180E",wP=function(t){return $P(function(){return!!mu[t]()||yu[t]()!==yu||SP&&mu[t].name!==t})},IP=C,TP=da.trim,EP=wP;IP({target:"String",proto:!0,forced:EP("trim")},{trim:function(){return TP(this)}});var CP=kt,OP=CP("String").trim,PP=gt,_P=OP,qo=String.prototype,AP=function(t){var e=t.trim;return typeof t=="string"||t===qo||PP(qo,t)&&e===qo.trim?_P:e},RP=AP,wa=RP,bu=lr,xP=TypeError,LP=function(t,e){if(!delete t[e])throw xP("Cannot delete property "+bu(e)+" of "+bu(t))},BP=Xt,Su=BP.match(/firefox\/(\d+)/i),NP=!!Su&&+Su[1],kP=Xt,DP=/MSIE|Trident/.test(kP),MP=Xt,$u=MP.match(/AppleWebKit\/(\d+)\./),FP=!!$u&&+$u[1],jP=C,vd=T,UP=at,VP=Pe,HP=_e,qP=LP,wu=st,Ia=_,zP=Rf,WP=fa,Iu=NP,GP=DP,Tu=ur,Eu=FP,Rt=[],Cu=vd(Rt.sort),KP=vd(Rt.push),QP=Ia(function(){Rt.sort(void 0)}),YP=Ia(function(){Rt.sort(null)}),XP=WP("sort"),gd=!Ia(function(){if(Tu)return Tu<70;if(!(Iu&&Iu>3)){if(GP)return!0;if(Eu)return Eu<603;var t="",e,r,n,o;for(e=65;e<76;e++){switch(r=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(o=0;o<47;o++)Rt.push({k:r+o,v:n})}for(Rt.sort(function(i,a){return a.v-i.v}),o=0;o<Rt.length;o++)r=Rt[o].k.charAt(0),t.charAt(t.length-1)!==r&&(t+=r);return t!=="DGBEFHACIJK"}}),JP=QP||!YP||!XP||!gd,ZP=function(t){return function(e,r){return r===void 0?-1:e===void 0?1:t!==void 0?+t(e,r)||0:wu(e)>wu(r)?1:-1}};jP({target:"Array",proto:!0,forced:JP},{sort:function(e){e!==void 0&&UP(e);var r=VP(this);if(gd)return e===void 0?Cu(r):Cu(r,e);var n=[],o=HP(r),i,a;for(a=0;a<o;a++)a in r&&KP(n,r[a]);for(zP(n,ZP(e)),i=n.length,a=0;a<i;)r[a]=n[a++];for(;a<o;)qP(r,a++);return r}});var t0=kt,e0=t0("Array").sort,r0=gt,n0=e0,zo=Array.prototype,o0=function(t){var e=t.sort;return t===zo||r0(zo,t)&&e===zo.sort?n0:e},i0=o0,md=i0;/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.16.1
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var $r=typeof window<"u"&&typeof document<"u"&&typeof navigator<"u",a0=function(){for(var t=["Edge","Trident","Firefox"],e=0;e<t.length;e+=1)if($r&&navigator.userAgent.indexOf(t[e])>=0)return 1;return 0}();function s0(t){var e=!1;return function(){e||(e=!0,G.resolve().then(function(){e=!1,t()}))}}function c0(t){var e=!1;return function(){e||(e=!0,setTimeout(function(){e=!1,t()},a0))}}var u0=$r&&G,l0=u0?s0:c0;function yd(t){var e={};return t&&e.toString.call(t)==="[object Function]"}function re(t,e){if(t.nodeType!==1)return[];var r=t.ownerDocument.defaultView,n=r.getComputedStyle(t,null);return e?n[e]:n}function Ta(t){return t.nodeName==="HTML"?t:t.parentNode||t.host}function wr(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=re(t),r=e.overflow,n=e.overflowX,o=e.overflowY;return/(auto|scroll|overlay)/.test(r+o+n)?t:wr(Ta(t))}function bd(t){return t&&t.referenceNode?t.referenceNode:t}var Ou=$r&&!!(window.MSInputMethodContext&&document.documentMode),Pu=$r&&/MSIE 10/.test(navigator.userAgent);function ke(t){return t===11?Ou:t===10?Pu:Ou||Pu}function Ie(t){if(!t)return document.documentElement;for(var e=ke(10)?document.body:null,r=t.offsetParent||null;r===e&&t.nextElementSibling;)r=(t=t.nextElementSibling).offsetParent;var n=r&&r.nodeName;return!n||n==="BODY"||n==="HTML"?t?t.ownerDocument.documentElement:document.documentElement:["TH","TD","TABLE"].indexOf(r.nodeName)!==-1&&re(r,"position")==="static"?Ie(r):r}function f0(t){var e=t.nodeName;return e==="BODY"?!1:e==="HTML"||Ie(t.firstElementChild)===t}function Oi(t){return t.parentNode!==null?Oi(t.parentNode):t}function gn(t,e){if(!t||!t.nodeType||!e||!e.nodeType)return document.documentElement;var r=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,n=r?t:e,o=r?e:t,i=document.createRange();i.setStart(n,0),i.setEnd(o,0);var a=i.commonAncestorContainer;if(t!==a&&e!==a||n.contains(o))return f0(a)?a:Ie(a);var s=Oi(t);return s.host?gn(s.host,e):gn(t,Oi(e).host)}function Te(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"top",r=e==="top"?"scrollTop":"scrollLeft",n=t.nodeName;if(n==="BODY"||n==="HTML"){var o=t.ownerDocument.documentElement,i=t.ownerDocument.scrollingElement||o;return i[r]}return t[r]}function d0(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=Te(e,"top"),o=Te(e,"left"),i=r?-1:1;return t.top+=n*i,t.bottom+=n*i,t.left+=o*i,t.right+=o*i,t}function _u(t,e){var r=e==="x"?"Left":"Top",n=r==="Left"?"Right":"Bottom";return L(t["border"+r+"Width"])+L(t["border"+n+"Width"])}function Au(t,e,r,n){return Math.max(e["offset"+t],e["scroll"+t],r["client"+t],r["offset"+t],r["scroll"+t],ke(10)?St(r["offset"+t])+St(n["margin"+(t==="Height"?"Top":"Left")])+St(n["margin"+(t==="Height"?"Bottom":"Right")]):0)}function Sd(t){var e=t.body,r=t.documentElement,n=ke(10)&&getComputedStyle(r);return{height:Au("Height",e,r,n),width:Au("Width",e,r,n)}}var p0=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},h0=function(){function t(e,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),Ee=function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t},K=ln||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};function Bt(t){return K({},t,{right:t.left+t.width,bottom:t.top+t.height})}function Pi(t){var e={};try{if(ke(10)){e=t.getBoundingClientRect();var r=Te(t,"top"),n=Te(t,"left");e.top+=r,e.left+=n,e.bottom+=r,e.right+=n}else e=t.getBoundingClientRect()}catch{}var o={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},i=t.nodeName==="HTML"?Sd(t.ownerDocument):{},a=i.width||t.clientWidth||o.width,s=i.height||t.clientHeight||o.height,c=t.offsetWidth-a,f=t.offsetHeight-s;if(c||f){var d=re(t);c-=_u(d,"x"),f-=_u(d,"y"),o.width-=c,o.height-=f}return Bt(o)}function Ea(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=ke(10),o=e.nodeName==="HTML",i=Pi(t),a=Pi(e),s=wr(t),c=re(e),f=L(c.borderTopWidth),d=L(c.borderLeftWidth);r&&o&&(a.top=Math.max(a.top,0),a.left=Math.max(a.left,0));var u=Bt({top:i.top-a.top-f,left:i.left-a.left-d,width:i.width,height:i.height});if(u.marginTop=0,u.marginLeft=0,!n&&o){var p=L(c.marginTop),v=L(c.marginLeft);u.top-=f-p,u.bottom-=f-p,u.left-=d-v,u.right-=d-v,u.marginTop=p,u.marginLeft=v}return(n&&!r?e.contains(s):e===s&&s.nodeName!=="BODY")&&(u=d0(u,e)),u}function v0(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=t.ownerDocument.documentElement,n=Ea(t,r),o=Math.max(r.clientWidth,window.innerWidth||0),i=Math.max(r.clientHeight,window.innerHeight||0),a=e?0:Te(r),s=e?0:Te(r,"left"),c={top:a-n.top+n.marginTop,left:s-n.left+n.marginLeft,width:o,height:i};return Bt(c)}function $d(t){var e=t.nodeName;if(e==="BODY"||e==="HTML")return!1;if(re(t,"position")==="fixed")return!0;var r=Ta(t);return r?$d(r):!1}function wd(t){if(!t||!t.parentElement||ke())return document.documentElement;for(var e=t.parentElement;e&&re(e,"transform")==="none";)e=e.parentElement;return e||document.documentElement}function Ca(t,e,r,n){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,i={top:0,left:0},a=o?wd(t):gn(t,bd(e));if(n==="viewport")i=v0(a,o);else{var s=void 0;n==="scrollParent"?(s=wr(Ta(e)),s.nodeName==="BODY"&&(s=t.ownerDocument.documentElement)):n==="window"?s=t.ownerDocument.documentElement:s=n;var c=Ea(s,a,o);if(s.nodeName==="HTML"&&!$d(a)){var f=Sd(t.ownerDocument),d=f.height,u=f.width;i.top+=c.top-c.marginTop,i.bottom=d+c.top,i.left+=c.left-c.marginLeft,i.right=u+c.left}else i=c}r=r||0;var p=typeof r=="number";return i.left+=p?r:r.left||0,i.top+=p?r:r.top||0,i.right-=p?r:r.right||0,i.bottom-=p?r:r.bottom||0,i}function g0(t){var e=t.width,r=t.height;return e*r}function Id(t,e,r,n,o){var i,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0;if(t.indexOf("auto")===-1)return t;var s=Ca(r,n,a,o),c={top:{width:s.width,height:e.top-s.top},right:{width:s.right-e.right,height:s.height},bottom:{width:s.width,height:s.bottom-e.bottom},left:{width:e.left-s.left,height:s.height}},f=md(i=Object.keys(c).map(function(v){return K({key:v},c[v],{area:g0(c[v])})})).call(i,function(v,g){return g.area-v.area}),d=f.filter(function(v){var g=v.width,y=v.height;return g>=r.clientWidth&&y>=r.clientHeight}),u=d.length>0?d[0].key:f[0].key,p=t.split("-")[1];return u+(p?"-"+p:"")}function Td(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,o=n?wd(e):gn(e,bd(r));return Ea(r,o,n)}function Ed(t){var e=t.ownerDocument.defaultView,r=e.getComputedStyle(t),n=L(r.marginTop||0)+L(r.marginBottom||0),o=L(r.marginLeft||0)+L(r.marginRight||0),i={width:t.offsetWidth+o,height:t.offsetHeight+n};return i}function mn(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(r){return e[r]})}function Cd(t,e,r){r=r.split("-")[0];var n=Ed(t),o={width:n.width,height:n.height},i=["right","left"].indexOf(r)!==-1,a=i?"top":"left",s=i?"left":"top",c=i?"height":"width",f=i?"width":"height";return o[a]=e[a]+e[c]/2-n[c]/2,r===s?o[s]=e[s]-n[f]:o[s]=e[mn(s)],o}function Ir(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function m0(t,e,r){if(Array.prototype.findIndex)return t.findIndex(function(o){return o[e]===r});var n=Ir(t,function(o){return o[e]===r});return t.indexOf(n)}function Od(t,e,r){var n=r===void 0?t:t.slice(0,m0(t,"name",r));return n.forEach(function(o){o.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var i=o.function||o.fn;o.enabled&&yd(i)&&(e.offsets.popper=Bt(e.offsets.popper),e.offsets.reference=Bt(e.offsets.reference),e=i(e,o))}),e}function y0(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=Td(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=Id(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=Cd(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=Od(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}function Pd(t,e){return t.some(function(r){var n=r.name,o=r.enabled;return o&&n===e})}function Oa(t){for(var e=[!1,"ms","Webkit","Moz","O"],r=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<e.length;n++){var o=e[n],i=o?""+o+r:t;if(typeof document.body.style[i]<"u")return i}return null}function b0(){return this.state.isDestroyed=!0,Pd(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[Oa("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function _d(t){var e=t.ownerDocument;return e?e.defaultView:window}function Ad(t,e,r,n){var o=t.nodeName==="BODY",i=o?t.ownerDocument.defaultView:t;i.addEventListener(e,r,{passive:!0}),o||Ad(wr(i.parentNode),e,r,n),n.push(i)}function S0(t,e,r,n){r.updateBound=n,_d(t).addEventListener("resize",r.updateBound,{passive:!0});var o=wr(t);return Ad(o,"scroll",r.updateBound,r.scrollParents),r.scrollElement=o,r.eventsEnabled=!0,r}function $0(){this.state.eventsEnabled||(this.state=S0(this.reference,this.options,this.state,this.scheduleUpdate))}function w0(t,e){return _d(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach(function(r){r.removeEventListener("scroll",e.updateBound)}),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e}function I0(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=w0(this.reference,this.state))}function Pa(t){return t!==""&&!isNaN(L(t))&&isFinite(t)}function _i(t,e){Object.keys(e).forEach(function(r){var n="";["width","height","top","right","bottom","left"].indexOf(r)!==-1&&Pa(e[r])&&(n="px"),t.style[r]=e[r]+n})}function T0(t,e){Object.keys(e).forEach(function(r){var n=e[r];n!==!1?t.setAttribute(r,e[r]):t.removeAttribute(r)})}function E0(t){return _i(t.instance.popper,t.styles),T0(t.instance.popper,t.attributes),t.arrowElement&&Object.keys(t.arrowStyles).length&&_i(t.arrowElement,t.arrowStyles),t}function C0(t,e,r,n,o){var i=Td(o,e,t,r.positionFixed),a=Id(r.placement,i,e,t,r.modifiers.flip.boundariesElement,r.modifiers.flip.padding);return e.setAttribute("x-placement",a),_i(e,{position:r.positionFixed?"fixed":"absolute"}),r}function O0(t,e){var r=t.offsets,n=r.popper,o=r.reference,i=Math.round,a=Math.floor,s=function(w){return w},c=i(o.width),f=i(n.width),d=["left","right"].indexOf(t.placement)!==-1,u=t.placement.indexOf("-")!==-1,p=c%2===f%2,v=c%2===1&&f%2===1,g=e?d||u||p?i:a:s,y=e?i:s;return{left:g(v&&!u&&e?n.left-1:n.left),top:y(n.top),bottom:y(n.bottom),right:g(n.right)}}var P0=$r&&/Firefox/i.test(navigator.userAgent);function _0(t,e){var r=e.x,n=e.y,o=t.offsets.popper,i=Ir(t.instance.modifiers,function(x){return x.name==="applyStyle"}).gpuAcceleration;i!==void 0&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=i!==void 0?i:e.gpuAcceleration,s=Ie(t.instance.popper),c=Pi(s),f={position:o.position},d=O0(t,window.devicePixelRatio<2||!P0),u=r==="bottom"?"top":"bottom",p=n==="right"?"left":"right",v=Oa("transform"),g=void 0,y=void 0;if(u==="bottom"?s.nodeName==="HTML"?y=-s.clientHeight+d.bottom:y=-c.height+d.bottom:y=d.top,p==="right"?s.nodeName==="HTML"?g=-s.clientWidth+d.right:g=-c.width+d.right:g=d.left,a&&v)f[v]="translate3d("+g+"px, "+y+"px, 0)",f[u]=0,f[p]=0,f.willChange="transform";else{var S=u==="bottom"?-1:1,w=p==="right"?-1:1;f[u]=y*S,f[p]=g*w,f.willChange=u+", "+p}var l={"x-placement":t.placement};return t.attributes=K({},l,t.attributes),t.styles=K({},f,t.styles),t.arrowStyles=K({},t.offsets.arrow,t.arrowStyles),t}function Rd(t,e,r){var n=Ir(t,function(s){var c=s.name;return c===e}),o=!!n&&t.some(function(s){return s.name===r&&s.enabled&&s.order<n.order});if(!o){var i="`"+e+"`",a="`"+r+"`";console.warn(a+" modifier is required by "+i+" modifier in order to work, be sure to include it before "+i+"!")}return o}function A0(t,e){var r;if(!Rd(t.instance.modifiers,"arrow","keepTogether"))return t;var n=e.element;if(typeof n=="string"){if(n=t.instance.popper.querySelector(n),!n)return t}else if(!t.instance.popper.contains(n))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var o=t.placement.split("-")[0],i=t.offsets,a=i.popper,s=i.reference,c=["left","right"].indexOf(o)!==-1,f=c?"height":"width",d=c?"Top":"Left",u=d.toLowerCase(),p=c?"left":"top",v=c?"bottom":"right",g=Ed(n)[f];s[v]-g<a[u]&&(t.offsets.popper[u]-=a[u]-(s[v]-g)),s[u]+g>a[v]&&(t.offsets.popper[u]+=s[u]+g-a[v]),t.offsets.popper=Bt(t.offsets.popper);var y=s[u]+s[f]/2-g/2,S=re(t.instance.popper),w=L(S["margin"+d]),l=L(S["border"+d+"Width"]),x=y-t.offsets.popper[u]-w-l;return x=Math.max(Math.min(a[f]-g,x),0),t.arrowElement=n,t.offsets.arrow=(r={},Ee(r,u,Math.round(x)),Ee(r,p,""),r),t}function R0(t){return t==="end"?"start":t==="start"?"end":t}var xd=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Wo=xd.slice(3);function Ru(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=Wo.indexOf(t),n=Wo.slice(r+1).concat(Wo.slice(0,r));return e?br(n).call(n):n}var Go={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function x0(t,e){if(Pd(t.instance.modifiers,"inner")||t.flipped&&t.placement===t.originalPlacement)return t;var r=Ca(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),n=t.placement.split("-")[0],o=mn(n),i=t.placement.split("-")[1]||"",a=[];switch(e.behavior){case Go.FLIP:a=[n,o];break;case Go.CLOCKWISE:a=Ru(n);break;case Go.COUNTERCLOCKWISE:a=Ru(n,!0);break;default:a=e.behavior}return a.forEach(function(s,c){if(n!==s||a.length===c+1)return t;n=t.placement.split("-")[0],o=mn(n);var f=t.offsets.popper,d=t.offsets.reference,u=Math.floor,p=n==="left"&&u(f.right)>u(d.left)||n==="right"&&u(f.left)<u(d.right)||n==="top"&&u(f.bottom)>u(d.top)||n==="bottom"&&u(f.top)<u(d.bottom),v=u(f.left)<u(r.left),g=u(f.right)>u(r.right),y=u(f.top)<u(r.top),S=u(f.bottom)>u(r.bottom),w=n==="left"&&v||n==="right"&&g||n==="top"&&y||n==="bottom"&&S,l=["top","bottom"].indexOf(n)!==-1,x=!!e.flipVariations&&(l&&i==="start"&&v||l&&i==="end"&&g||!l&&i==="start"&&y||!l&&i==="end"&&S),Dt=!!e.flipVariationsByContent&&(l&&i==="start"&&g||l&&i==="end"&&v||!l&&i==="start"&&S||!l&&i==="end"&&y),V=x||Dt;(p||w||V)&&(t.flipped=!0,(p||w)&&(n=a[c+1]),V&&(i=R0(i)),t.placement=n+(i?"-"+i:""),t.offsets.popper=K({},t.offsets.popper,Cd(t.instance.popper,t.offsets.reference,t.placement)),t=Od(t.instance.modifiers,t,"flip"))}),t}function L0(t){var e=t.offsets,r=e.popper,n=e.reference,o=t.placement.split("-")[0],i=Math.floor,a=["top","bottom"].indexOf(o)!==-1,s=a?"right":"bottom",c=a?"left":"top",f=a?"width":"height";return r[s]<i(n[c])&&(t.offsets.popper[c]=i(n[c])-r[f]),r[c]>i(n[s])&&(t.offsets.popper[c]=i(n[s])),t}function B0(t,e,r,n){var o=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),i=+o[1],a=o[2];if(!i)return t;if(a.indexOf("%")===0){var s=void 0;switch(a){case"%p":s=r;break;case"%":case"%r":default:s=n}var c=Bt(s);return c[e]/100*i}else if(a==="vh"||a==="vw"){var f=void 0;return a==="vh"?f=Math.max(document.documentElement.clientHeight,window.innerHeight||0):f=Math.max(document.documentElement.clientWidth,window.innerWidth||0),f/100*i}else return i}function N0(t,e,r,n){var o=[0,0],i=["right","left"].indexOf(n)!==-1,a=t.split(/(\+|\-)/).map(function(d){return wa(d).call(d)}),s=a.indexOf(Ir(a,function(d){return d.search(/,|\s/)!==-1}));a[s]&&a[s].indexOf(",")===-1&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var c=/\s*,\s*|\s+/,f=s!==-1?[a.slice(0,s).concat([a[s].split(c)[0]]),[a[s].split(c)[1]].concat(a.slice(s+1))]:[a];return f=f.map(function(d,u){var p=(u===1?!i:i)?"height":"width",v=!1;return ct(d).call(d,function(g,y){return g[g.length-1]===""&&["+","-"].indexOf(y)!==-1?(g[g.length-1]=y,v=!0,g):v?(g[g.length-1]+=y,v=!1,g):g.concat(y)},[]).map(function(g){return B0(g,p,e,r)})}),f.forEach(function(d,u){d.forEach(function(p,v){Pa(p)&&(o[u]+=p*(d[v-1]==="-"?-1:1))})}),o}function k0(t,e){var r=e.offset,n=t.placement,o=t.offsets,i=o.popper,a=o.reference,s=n.split("-")[0],c=void 0;return Pa(+r)?c=[+r,0]:c=N0(r,i,a,s),s==="left"?(i.top+=c[0],i.left-=c[1]):s==="right"?(i.top+=c[0],i.left+=c[1]):s==="top"?(i.left+=c[0],i.top-=c[1]):s==="bottom"&&(i.left+=c[0],i.top+=c[1]),t.popper=i,t}function D0(t,e){var r=e.boundariesElement||Ie(t.instance.popper);t.instance.reference===r&&(r=Ie(r));var n=Oa("transform"),o=t.instance.popper.style,i=o.top,a=o.left,s=o[n];o.top="",o.left="",o[n]="";var c=Ca(t.instance.popper,t.instance.reference,e.padding,r,t.positionFixed);o.top=i,o.left=a,o[n]=s,e.boundaries=c;var f=e.priority,d=t.offsets.popper,u={primary:function(v){var g=d[v];return d[v]<c[v]&&!e.escapeWithReference&&(g=Math.max(d[v],c[v])),Ee({},v,g)},secondary:function(v){var g=v==="right"?"left":"top",y=d[g];return d[v]>c[v]&&!e.escapeWithReference&&(y=Math.min(d[g],c[v]-(v==="right"?d.width:d.height))),Ee({},g,y)}};return f.forEach(function(p){var v=["left","top"].indexOf(p)!==-1?"primary":"secondary";d=K({},d,u[v](p))}),t.offsets.popper=d,t}function M0(t){var e=t.placement,r=e.split("-")[0],n=e.split("-")[1];if(n){var o=t.offsets,i=o.reference,a=o.popper,s=["bottom","top"].indexOf(r)!==-1,c=s?"left":"top",f=s?"width":"height",d={start:Ee({},c,i[c]),end:Ee({},c,i[c]+i[f]-a[f])};t.offsets.popper=K({},a,d[n])}return t}function F0(t){if(!Rd(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,r=Ir(t.instance.modifiers,function(n){return n.name==="preventOverflow"}).boundaries;if(e.bottom<r.top||e.left>r.right||e.top>r.bottom||e.right<r.left){if(t.hide===!0)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(t.hide===!1)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}function j0(t){var e=t.placement,r=e.split("-")[0],n=t.offsets,o=n.popper,i=n.reference,a=["left","right"].indexOf(r)!==-1,s=["top","left"].indexOf(r)===-1;return o[a?"left":"top"]=i[r]-(s?o[a?"width":"height"]:0),t.placement=mn(e),t.offsets.popper=Bt(o),t}var U0={shift:{order:100,enabled:!0,fn:M0},offset:{order:200,enabled:!0,fn:k0,offset:0},preventOverflow:{order:300,enabled:!0,fn:D0,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:L0},arrow:{order:500,enabled:!0,fn:A0,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:x0,behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:j0},hide:{order:800,enabled:!0,fn:F0},computeStyle:{order:850,enabled:!0,fn:_0,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:E0,onLoad:C0,gpuAcceleration:void 0}},V0={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:U0},_n=function(){function t(e,r){var n,o=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};p0(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(o.update)},this.update=l0(this.update.bind(this)),this.options=K({},t.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=r&&r.jquery?r[0]:r,this.options.modifiers={},Object.keys(K({},t.Defaults.modifiers,i.modifiers)).forEach(function(s){o.options.modifiers[s]=K({},t.Defaults.modifiers[s]||{},i.modifiers?i.modifiers[s]:{})}),this.modifiers=md(n=Object.keys(this.options.modifiers).map(function(s){return K({name:s},o.options.modifiers[s])})).call(n,function(s,c){return s.order-c.order}),this.modifiers.forEach(function(s){s.enabled&&yd(s.onLoad)&&s.onLoad(o.reference,o.popper,o.options,s,o.state)}),this.update();var a=this.options.eventsEnabled;a&&this.enableEventListeners(),this.state.eventsEnabled=a}return h0(t,[{key:"update",value:function(){return y0.call(this)}},{key:"destroy",value:function(){return b0.call(this)}},{key:"enableEventListeners",value:function(){return $0.call(this)}},{key:"disableEventListeners",value:function(){return I0.call(this)}}]),t}();_n.Utils=(typeof window<"u"?window:global).PopperUtils;_n.placements=xd;_n.Defaults=V0;const H0=_n;var q0="3.4.1",An=typeof window<"u",Ld=An?navigator:{},Bd=An?window:{},xu=/MSIE |Trident\//.test(Ld.userAgent),Nd=/iPhone|iPad|iPod/.test(Ld.platform)&&!Bd.MSStream,kd="ontouchstart"in Bd,F={a11y:!0,allowHTML:!0,animateFill:!0,animation:"shift-away",appendTo:function(){return document.body},aria:"describedby",arrow:!1,arrowTransform:"",arrowType:"sharp",autoFocus:!0,boundary:"scrollParent",content:"",delay:[0,20],distance:10,duration:[325,275],flip:!0,flipBehavior:"flip",followCursor:!1,hideOnClick:!0,inertia:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,lazy:!0,livePlacement:!0,maxWidth:"",multiple:!1,offset:0,onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},performance:!1,placement:"top",popperOptions:{},shouldPopperHideOnBlur:function(){return!0},showOnInit:!1,size:"regular",sticky:!1,target:"",theme:"dark",touch:!0,touchHold:!1,trigger:"mouseenter focus",updateDuration:200,wait:null,zIndex:9999},z0=["arrow","arrowType","distance","flip","flipBehavior","offset","placement","popperOptions"],ot={POPPER:".tippy-popper",TOOLTIP:".tippy-tooltip",CONTENT:".tippy-content",BACKDROP:".tippy-backdrop",ARROW:".tippy-arrow",ROUND_ARROW:".tippy-roundarrow"},he=An?Element.prototype:{},Dd=he.matches||he.matchesSelector||he.webkitMatchesSelector||he.mozMatchesSelector||he.msMatchesSelector;function Ce(t){return[].slice.call(t)}function Ht(t,e){return(he.closest||function(r){for(var n=this;n;){if(Dd.call(n,r))return n;n=n.parentElement}}).call(t,e)}function _a(t,e){for(;t;){if(e(t))return t;t=t.parentElement}}var Ai={passive:!0};function rr(){return document.createElement("div")}function Md(t,e){t.innerHTML=e instanceof Element?e.innerHTML:e}function Fd(t,e){e.content instanceof Element?(Md(t,""),t.appendChild(e.content)):t[e.allowHTML?"innerHTML":"textContent"]=e.content}function Ri(t){return{tooltip:t.querySelector(ot.TOOLTIP),backdrop:t.querySelector(ot.BACKDROP),content:t.querySelector(ot.CONTENT),arrow:t.querySelector(ot.ARROW)||t.querySelector(ot.ROUND_ARROW)}}function jd(t){t.setAttribute("data-inertia","")}function W0(t){t.removeAttribute("data-inertia")}function xi(t){var e=rr();return t==="round"?(e.className="tippy-roundarrow",Md(e,'<svg viewBox="0 0 24 8" xmlns="http://www.w3.org/2000/svg"><path d="M3 8s2.021-.015 5.253-4.218C9.584 2.051 10.797 1.007 12 1c1.203-.007 2.416 1.035 3.761 2.782C19.012 8.005 21 8 21 8H3z"/></svg>')):e.className="tippy-arrow",e}function Ud(){var t=rr();return t.className="tippy-backdrop",t.setAttribute("data-state","hidden"),t}function Vd(t,e){t.setAttribute("tabindex","-1"),e.setAttribute("data-interactive","")}function G0(t,e){t.removeAttribute("tabindex"),e.removeAttribute("data-interactive")}function He(t,e){t.forEach(function(r){r&&(r.style.transitionDuration=e+"ms")})}function Ko(t,e,r){t[e+"EventListener"]("transitionend",r)}function ve(t){var e=t.getAttribute("x-placement");return e?e.split("-")[0]:""}function Lu(t,e){t.forEach(function(r){r&&r.setAttribute("data-state",e)})}function K0(t){t.offsetHeight}function Q0(t,e){var r=rr();r.className="tippy-popper",r.setAttribute("role","tooltip"),r.id="tippy-"+t,r.style.zIndex=e.zIndex;var n=rr();n.className="tippy-tooltip",n.style.maxWidth=e.maxWidth+(typeof e.maxWidth=="number"?"px":""),n.setAttribute("data-size",e.size),n.setAttribute("data-animation",e.animation),n.setAttribute("data-state","hidden"),e.theme.split(" ").forEach(function(i){n.classList.add(i+"-theme")});var o=rr();return o.className="tippy-content",o.setAttribute("data-state","hidden"),e.interactive&&Vd(r,n),e.arrow&&n.appendChild(xi(e.arrowType)),e.animateFill&&(n.appendChild(Ud()),n.setAttribute("data-animatefill","")),e.inertia&&jd(n),Fd(o,e),n.appendChild(o),r.appendChild(n),r.addEventListener("focusout",function(i){i.relatedTarget&&r._tippy&&!_a(i.relatedTarget,function(a){return a===r})&&i.relatedTarget!==r._tippy.reference&&r._tippy.props.shouldPopperHideOnBlur(i)&&r._tippy.hide()}),r}function Y0(t,e,r){var n=Ri(t),o=n.tooltip,i=n.content,a=n.backdrop,s=n.arrow;t.style.zIndex=r.zIndex,o.setAttribute("data-size",r.size),o.setAttribute("data-animation",r.animation),o.style.maxWidth=r.maxWidth+(typeof r.maxWidth=="number"?"px":""),e.content!==r.content&&Fd(i,r),!e.animateFill&&r.animateFill?(o.appendChild(Ud()),o.setAttribute("data-animatefill","")):e.animateFill&&!r.animateFill&&(o.removeChild(a),o.removeAttribute("data-animatefill")),!e.arrow&&r.arrow?o.appendChild(xi(r.arrowType)):e.arrow&&!r.arrow&&o.removeChild(s),e.arrow&&r.arrow&&e.arrowType!==r.arrowType&&o.replaceChild(xi(r.arrowType),s),!e.interactive&&r.interactive?Vd(t,o):e.interactive&&!r.interactive&&G0(t,o),!e.inertia&&r.inertia?jd(o):e.inertia&&!r.inertia&&W0(o),e.theme!==r.theme&&(e.theme.split(" ").forEach(function(c){o.classList.remove(c+"-theme")}),r.theme.split(" ").forEach(function(c){o.classList.add(c+"-theme")}))}function X0(t,e){var r=t.popper,n=t.options,o=n.onCreate,i=n.onUpdate;n.onCreate=n.onUpdate=function(){K0(r),e(),i(),n.onCreate=o,n.onUpdate=i}}function Xr(t){Ce(document.querySelectorAll(ot.POPPER)).forEach(function(e){var r=e._tippy;r&&r.props.hideOnClick===!0&&(!t||e!==t.popper)&&r.hide()})}function Bu(t,e,r,n){if(!t)return!0;var o=r.clientX,i=r.clientY,a=n.interactiveBorder,s=n.distance,c=e.top-i>(t==="top"?a+s:a),f=i-e.bottom>(t==="bottom"?a+s:a),d=e.left-o>(t==="left"?a+s:a),u=o-e.right>(t==="right"?a+s:a);return c||f||d||u}function Nu(t,e){return-(t-e)+"px"}function Hd(t){return{}.toString.call(t)==="[object Object]"}function ge(t,e){return{}.hasOwnProperty.call(t,e)}function J0(t){return!isNaN(t)&&!isNaN(L(t))}function Z0(t){if(t instanceof Element||Hd(t))return[t];if(t instanceof NodeList)return Ce(t);if(Array.isArray(t))return t;try{return Ce(document.querySelectorAll(t))}catch{return[]}}function qe(t,e,r){if(Array.isArray(t)){var n=t[e];return n==null?r:n}return t}function ku(t){var e=window.scrollX||window.pageXOffset,r=window.scrollY||window.pageYOffset;t.focus(),scroll(e,r)}function t1(t){setTimeout(t,1)}function Du(t,e){var r=void 0;return function(){var n=this,o=arguments;clearTimeout(r),r=setTimeout(function(){return t.apply(n,o)},e)}}function zr(t,e){return t&&t.modifiers&&t.modifiers[e]}function _t(t,e){return t.indexOf(e)>-1}var xt=!1;function Mu(){xt||(xt=!0,Nd&&document.body.classList.add("tippy-iOS"),window.performance&&document.addEventListener("mousemove",qd))}var Fu=0;function qd(){var t=performance.now();t-Fu<20&&(xt=!1,document.removeEventListener("mousemove",qd),Nd||document.body.classList.remove("tippy-iOS")),Fu=t}function e1(t){var e=t.target;if(!(e instanceof Element))return Xr();var r=Ht(e,ot.POPPER);if(!(r&&r._tippy&&r._tippy.props.interactive)){var n=_a(e,function(a){return a._tippy&&a._tippy.reference===a});if(n){var o=n._tippy,i=_t(o.props.trigger,"click");if(xt||i)return Xr(o);if(o.props.hideOnClick!==!0||i)return;o.clearDelayTimeouts()}Xr()}}function r1(){var t=document,e=t.activeElement;e&&e.blur&&e._tippy&&e.blur()}function n1(){Ce(document.querySelectorAll(ot.POPPER)).forEach(function(t){var e=t._tippy;e.props.livePlacement||e.popperInstance.scheduleUpdate()})}function o1(){document.addEventListener("click",e1,!0),document.addEventListener("touchstart",Mu,Ai),window.addEventListener("blur",r1),window.addEventListener("resize",n1),!kd&&(navigator.maxTouchPoints||navigator.msMaxTouchPoints)&&document.addEventListener("pointerdown",Mu)}var ju=Object.keys(F);function i1(t){return t instanceof Element?Dd.call(t,"a[href],area[href],button,details,input,textarea,select,iframe,[tabindex]")&&!t.hasAttribute("disabled"):!0}function a1(t){return ct(ju).call(ju,function(e,r){var n,o=wa(n=t.getAttribute("data-tippy-"+r)||"").call(n);return o&&(r==="content"?e[r]=o:o==="true"?e[r]=!0:o==="false"?e[r]=!1:J0(o)?e[r]=Number(o):o[0]==="["||o[0]==="{"?e[r]=JSON.parse(o):e[r]=o),e},{})}function s1(t){var e={isVirtual:!0,attributes:t.attributes||{},setAttribute:function(o,i){t.attributes[o]=i},getAttribute:function(o){return t.attributes[o]},removeAttribute:function(o){delete t.attributes[o]},hasAttribute:function(o){return o in t.attributes},addEventListener:function(){},removeEventListener:function(){},classList:{classNames:{},add:function(o){t.classList.classNames[o]=!0},remove:function(o){delete t.classList.classNames[o]},contains:function(o){return o in t.classList.classNames}}};for(var r in e)t[r]=e[r]}var pt=ln||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};function Uu(t,e){var r=pt({},e,e.performance?{}:a1(t));return r.arrow&&(r.animateFill=!1),typeof r.appendTo=="function"&&(r.appendTo=e.appendTo(t)),typeof r.content=="function"&&(r.content=e.content(t)),r}function zd(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments[1];Object.keys(t).forEach(function(r){if(!ge(e,r))throw new Error("[tippy]: `"+r+"` is not a valid option")})}var Wr={translate:/translateX?Y?\(([^)]+)\)/,scale:/scaleX?Y?\(([^)]+)\)/};function Vu(t,e){return(e?t:{X:"Y",Y:"X"}[t])||""}function Hu(t,e,r,n){var o=e[0],i=e[1];if(!o&&!i)return"";var a={scale:function(){return i?r?o+", "+i:i+", "+o:""+o}(),translate:function(){return i?r?n?o+"px, "+-i+"px":o+"px, "+i+"px":n?-i+"px, "+o+"px":i+"px, "+o+"px":n?-o+"px":o+"px"}()};return a[t]}function qu(t,e){var r=t.match(new RegExp(e+"([XY])"));return r?r[1]:""}function zu(t,e){var r=t.match(e);return r?r[1].split(",").map(function(n){return L(n,10)}):[]}function Wu(t,e){var r=ve(Ht(t,ot.POPPER)),n=_t(["top","bottom"],r),o=_t(["right","bottom"],r),i={translate:{axis:qu(e,"translate"),numbers:zu(e,Wr.translate)},scale:{axis:qu(e,"scale"),numbers:zu(e,Wr.scale)}},a=e.replace(Wr.translate,"translate"+Vu(i.translate.axis,n)+"("+Hu("translate",i.translate.numbers,n,o)+")").replace(Wr.scale,"scale"+Vu(i.scale.axis,n)+"("+Hu("scale",i.scale.numbers,n,o)+")");t.style[typeof document.body.style.transform<"u"?"transform":"webkitTransform"]=a}var c1=1;function Wd(t,e){var r=Uu(t,e);if(!r.multiple&&t._tippy)return null;var n=null,o={},i=null,a=0,s=0,c=!1,f=function(){},d=[],u=!1,p=r.interactiveDebounce>0?Du(Rn,r.interactiveDebounce):Rn,v=c1++,g=Q0(v,r);g.addEventListener("mouseenter",function(m){l.props.interactive&&l.state.isVisible&&o.type==="mouseenter"&&Et(m)}),g.addEventListener("mouseleave",function(m){l.props.interactive&&o.type==="mouseenter"&&l.props.interactiveDebounce===0&&Bu(ve(g),g.getBoundingClientRect(),m,l.props)&&Z()});var y=Ri(g),S={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},w=null,l={id:v,reference:t,popper:g,popperChildren:y,popperInstance:w,props:r,state:S,clearDelayTimeouts:Bn,set:Ma,setContent:rp,show:Nn,hide:Er,enable:tp,disable:ep,destroy:Fa};return ka(),t.addEventListener("click",x),r.lazy||(l.popperInstance=Ln(),l.popperInstance.disableEventListeners()),r.showOnInit&&Et(),r.a11y&&!r.target&&!i1(t)&&t.setAttribute("tabindex","0"),t._tippy=l,g._tippy=l,l;function x(){t1(function(){u=!1})}function Dt(){n=new MutationObserver(function(){l.popperInstance.update()}),n.observe(g,{childList:!0,subtree:!0,characterData:!0})}function V(m){var $=i=m,E=$.clientX,P=$.clientY;if(!!l.popperInstance){var Ct=ve(l.popper),D=l.popperChildren.arrow?20:5,ja=_t(["top","bottom"],Ct),Ua=_t(["left","right"],Ct),Cr=ja?Math.max(D,E):E,Or=Ua?Math.max(D,P):P;ja&&Cr>D&&(Cr=Math.min(E,window.innerWidth-D)),Ua&&Or>D&&(Or=Math.min(P,window.innerHeight-D));var Pr=l.reference.getBoundingClientRect(),kn=l.props.followCursor,Va=kn==="horizontal",Ha=kn==="vertical";l.popperInstance.reference={getBoundingClientRect:function(){return{width:0,height:0,top:Va?Pr.top:Or,bottom:Va?Pr.bottom:Or,left:Ha?Pr.left:Cr,right:Ha?Pr.right:Cr}},clientWidth:0,clientHeight:0},l.popperInstance.scheduleUpdate(),kn==="initial"&&l.state.isVisible&&ne()}}function Tr(m){var $=Ht(m.target,l.props.target);$&&!$._tippy&&(Wd($,pt({},l.props,{target:"",showOnInit:!0})),Et(m))}function Et(m){if(Bn(),!l.state.isVisible){if(l.props.target)return Tr(m);if(c=!0,l.props.wait)return l.props.wait(l,m);De()&&!l.state.isMounted&&document.addEventListener("mousemove",V);var $=qe(l.props.delay,0,F.delay);$?a=setTimeout(function(){Nn()},$):Nn()}}function Z(){if(Bn(),!l.state.isVisible)return ne();c=!1;var m=qe(l.props.delay,1,F.delay);m?s=setTimeout(function(){l.state.isVisible&&Er()},m):Er()}function ne(){document.removeEventListener("mousemove",V),i=null}function Aa(){document.body.removeEventListener("mouseleave",Z),document.removeEventListener("mousemove",p)}function Ra(m){!l.state.isEnabled||Ba(m)||(l.state.isVisible||(o=m),m.type==="click"&&l.props.hideOnClick!==!1&&l.state.isVisible?Z():Et(m))}function Rn(m){var $=_a(m.target,function(Ct){return Ct._tippy}),E=Ht(m.target,ot.POPPER)===l.popper,P=$===l.reference;E||P||Bu(ve(l.popper),l.popper.getBoundingClientRect(),m,l.props)&&(Aa(),Z())}function xa(m){if(!Ba(m)){if(l.props.interactive){document.body.addEventListener("mouseleave",Z),document.addEventListener("mousemove",p);return}Z()}}function Qd(m){m.target===l.reference&&(l.props.interactive&&(!m.relatedTarget||Ht(m.relatedTarget,ot.POPPER))||Z())}function xn(m){Ht(m.target,l.props.target)&&Et(m)}function La(m){Ht(m.target,l.props.target)&&Z()}function Ba(m){var $=_t(m.type,"touch"),E=kd&&xt&&l.props.touchHold&&!$,P=xt&&!l.props.touchHold&&$;return E||P}function Ln(){var m=l.props.popperOptions,$=l.popperChildren,E=$.tooltip,P=$.arrow;return new H0(l.reference,l.popper,pt({placement:l.props.placement},m,{modifiers:pt({},m?m.modifiers:{},{preventOverflow:pt({boundariesElement:l.props.boundary},zr(m,"preventOverflow")),arrow:pt({element:P,enabled:!!P},zr(m,"arrow")),flip:pt({enabled:l.props.flip,padding:l.props.distance+5,behavior:l.props.flipBehavior},zr(m,"flip")),offset:pt({offset:l.props.offset},zr(m,"offset"))}),onCreate:function(){E.style[ve(l.popper)]=Nu(l.props.distance,F.distance),P&&l.props.arrowTransform&&Wu(P,l.props.arrowTransform)},onUpdate:function(){var D=E.style;D.top="",D.bottom="",D.left="",D.right="",D[ve(l.popper)]=Nu(l.props.distance,F.distance),P&&l.props.arrowTransform&&Wu(P,l.props.arrowTransform)}}))}function Yd(m){l.popperInstance?De()||(l.popperInstance.scheduleUpdate(),l.props.livePlacement&&l.popperInstance.enableEventListeners()):(l.popperInstance=Ln(),Dt(),(!l.props.livePlacement||De())&&l.popperInstance.disableEventListeners()),l.popperInstance.reference=l.reference;var $=l.popperChildren.arrow;if(De()){$&&($.style.margin="0");var E=qe(l.props.delay,0,F.delay);o.type&&V(E&&i?i:o)}else $&&($.style.margin="");X0(l.popperInstance,m),l.props.appendTo.contains(l.popper)||(l.props.appendTo.appendChild(l.popper),l.props.onMount(l),l.state.isMounted=!0)}function De(){return l.props.followCursor&&!xt&&o.type!=="focus"}function Xd(){He([l.popper],xu?0:l.props.updateDuration);var m=function $(){l.popperInstance&&l.popperInstance.scheduleUpdate(),l.state.isMounted?requestAnimationFrame($):He([l.popper],0)};m()}function Jd(m,$){Na(m,function(){!l.state.isVisible&&l.props.appendTo.contains(l.popper)&&$()})}function Zd(m,$){Na(m,$)}function Na(m,$){if(m===0)return $();var E=l.popperChildren.tooltip,P=function Ct(D){D.target===E&&(Ko(E,"remove",Ct),$())};Ko(E,"remove",f),Ko(E,"add",P),f=P}function lt(m,$){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;l.reference.addEventListener(m,$,E),d.push({eventType:m,handler:$,options:E})}function ka(){var m;l.props.touchHold&&!l.props.target&&(lt("touchstart",Ra,Ai),lt("touchend",xa,Ai)),wa(m=l.props.trigger).call(m).split(" ").forEach(function($){if($!=="manual")if(l.props.target)switch($){case"mouseenter":lt("mouseover",xn),lt("mouseout",La);break;case"focus":lt("focusin",xn),lt("focusout",La);break;case"click":lt($,xn);break}else switch(lt($,Ra),$){case"mouseenter":lt("mouseleave",xa);break;case"focus":lt(xu?"focusout":"blur",Qd);break}})}function Da(){d.forEach(function(m){var $=m.eventType,E=m.handler,P=m.options;l.reference.removeEventListener($,E,P)}),d=[]}function tp(){l.state.isEnabled=!0}function ep(){l.state.isEnabled=!1}function Bn(){clearTimeout(a),clearTimeout(s)}function Ma(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};zd(m,F);var $=l.props,E=Uu(l.reference,pt({},l.props,m,{performance:!0}));E.performance=ge(m,"performance")?m.performance:$.performance,l.props=E,(ge(m,"trigger")||ge(m,"touchHold"))&&(Da(),ka()),ge(m,"interactiveDebounce")&&(Aa(),p=Du(Rn,m.interactiveDebounce)),Y0(l.popper,$,E),l.popperChildren=Ri(l.popper),l.popperInstance&&z0.some(function(P){return ge(m,P)})&&(l.popperInstance.destroy(),l.popperInstance=Ln(),l.state.isVisible||l.popperInstance.disableEventListeners(),l.props.followCursor&&i&&V(i))}function rp(m){Ma({content:m})}function Nn(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:qe(l.props.duration,0,F.duration[0]);if(!(l.state.isDestroyed||!l.state.isEnabled||xt&&!l.props.touch)){if(!l.reference.isVirtual&&!document.documentElement.contains(l.reference))return Fa();if(!l.reference.hasAttribute("disabled")){if(u){u=!1;return}l.props.onShow(l)!==!1&&(l.popper.style.visibility="visible",l.state.isVisible=!0,He([l.popper,l.popperChildren.tooltip,l.popperChildren.backdrop],0),Yd(function(){!l.state.isVisible||(De()||l.popperInstance.update(),He([l.popperChildren.tooltip,l.popperChildren.backdrop,l.popperChildren.content],m),l.popperChildren.backdrop&&(l.popperChildren.content.style.transitionDelay=Math.round(m/6)+"ms"),l.props.interactive&&l.reference.classList.add("tippy-active"),l.props.sticky&&Xd(),Lu([l.popperChildren.tooltip,l.popperChildren.backdrop,l.popperChildren.content],"visible"),Zd(m,function(){l.props.updateDuration===0&&l.popperChildren.tooltip.classList.add("tippy-notransition"),l.props.autoFocus&&l.props.interactive&&_t(["focus","click"],o.type)&&ku(l.popper),l.props.aria&&l.reference.setAttribute("aria-"+l.props.aria,l.popper.id),l.props.onShown(l),l.state.isShown=!0}))}))}}}function Er(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:qe(l.props.duration,1,F.duration[1]);l.state.isDestroyed||!l.state.isEnabled||l.props.onHide(l)!==!1&&(l.props.updateDuration===0&&l.popperChildren.tooltip.classList.remove("tippy-notransition"),l.props.interactive&&l.reference.classList.remove("tippy-active"),l.popper.style.visibility="hidden",l.state.isVisible=!1,l.state.isShown=!1,He([l.popperChildren.tooltip,l.popperChildren.backdrop,l.popperChildren.content],m),Lu([l.popperChildren.tooltip,l.popperChildren.backdrop,l.popperChildren.content],"hidden"),l.props.autoFocus&&l.props.interactive&&!u&&_t(["focus","click"],o.type)&&(o.type==="focus"&&(u=!0),ku(l.reference)),Jd(m,function(){c||ne(),l.props.aria&&l.reference.removeAttribute("aria-"+l.props.aria),l.popperInstance.disableEventListeners(),l.props.appendTo.removeChild(l.popper),l.state.isMounted=!1,l.props.onHidden(l)}))}function Fa(m){l.state.isDestroyed||(l.state.isMounted&&Er(0),Da(),l.reference.removeEventListener("click",x),delete l.reference._tippy,l.props.target&&m&&Ce(l.reference.querySelectorAll(l.props.target)).forEach(function($){return $._tippy&&$._tippy.destroy()}),l.popperInstance&&l.popperInstance.destroy(),n&&n.disconnect(),l.state.isDestroyed=!0)}}var Gu=!1;function Q(t,e,r){var n;zd(e,F),Gu||(o1(),Gu=!0);var o=pt({},F,e);Hd(t)&&s1(t);var i=Z0(t),a=i[0],s=ct(n=r&&a?[a]:i).call(n,function(f,d){var u=d&&Wd(d,o);return u&&f.push(u),f},[]),c={targets:t,props:o,instances:s,destroyAll:function(){c.instances.forEach(function(d){d.destroy()}),c.instances=[]}};return c}Q.version=q0;Q.defaults=F;Q.one=function(t,e){return Q(t,e,!0).instances[0]};Q.setDefaults=function(t){Object.keys(t).forEach(function(e){F[e]=t[e]})};Q.disableAnimations=function(){Q.setDefaults({duration:0,updateDuration:0,animateFill:!1})};Q.hideAllPoppers=Xr;Q.useCapture=function(){};var u1=function(){Ce(document.querySelectorAll("[data-tippy]")).forEach(function(e){var r=e.getAttribute("data-tippy");r&&Q(e,{content:r})})};An&&setTimeout(u1);class Gd{constructor(){h(this,"listeners");this.listeners={}}addListener(e,r){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(r)}trigger(e,...r){!this.listeners[e]||this.listeners[e].forEach(n=>{n.apply(this,r)})}}class l1 extends Gd{constructor(r,n,o){super();h(this,"logger");h(this,"form");h(this,"resolvers");h(this,"validators",[]);h(this,"addToCartButton");h(this,"variantInput");h(this,"customVariantInputs",[]);h(this,"preorderButton");h(this,"preorderButtonDisabled",!1);h(this,"quantityInput");h(this,"quantityInputHandler");h(this,"dynamicCheckoutButton");h(this,"addToCartDefaultDisplay");h(this,"addToCartDefaultText");h(this,"prevTooltip","");h(this,"buttonPreorderClass","Button-Preorder-Cart");h(this,"preorderStyle","handy-preorder-style");h(this,"state");this.logger=r,this.form=n,this.resolvers=o}getFormElement(){return this.form}getPreorderButton(){return this.preorderButton}expose(){if(this.addToCartButton=this.resolvers.addToCartButton().resolve(this.form),this.addToCartButton)this.logger.info("addToCartButton - ",this.addToCartButton);else return this.logger.error("can not find add to cart button"),!1;return this.addToCartDefaultText=this.getOriginalButtonText(),this.variantInput=this.resolvers.variantInput().resolve(this.form),this.variantInput?this.logger.info("variantInput - ",this.variantInput):this.logger.error("can not find variant input"),this.customVariantInputs=this.resolvers.customVariantInputs().resolveAll(this.form),this.customVariantInputs.length?this.logger.info("customVariantInputs - ",this.customVariantInputs):this.logger.info("can not find custom variants inputs"),this.quantityInput=this.resolvers.quantityInput().resolve(this.form),this.quantityInput?(setInterval(()=>{this.quantityInputUpdate(this.quantityInput)},500),this.logger.info("quantityInput - ",this.quantityInput)):this.logger.info("can not find quantity input"),this.dynamicCheckoutButton=this.resolvers.dynamicCheckout().resolve(this.form),this.dynamicCheckoutButton?this.logger.info("dynamicCheckoutButton - ",this.dynamicCheckoutButton):this.logger.info("can not find dynamic checkout button"),this.createPreorderButton(),this.observeVariantChange(),!0}getVariantId(){var r,n;return Number(((r=this.variantInput)==null?void 0:r.value)||this.form.dataset.variantid||this.form.dataset.variantId||this.form.dataset.variant||((n=this.addToCartButton)==null?void 0:n.dataset.variantId)||new cP(location.search).get("variant")||0)}getQuantity(){if(!this.quantityInput)return 1;const r=b(this.quantityInput).val(),n=St(r);return n<0||r!=""&&isNaN(r)?1:n}getProperties(){if(this.form.tagName!=="FORM")return{};const r=YC(this.form),n={};return r.forEach(function(o){const i=o.name.match(/^properties\[([^[]+)\]$/);!i||(n[i[1]]=o.value)}),n}getState(){return this.state}setState(r){this.logger.info("set state",r),this.state=r,this.renderState()}setDisabledButton(r){this.state=this.state||{},this.state.disabledButton=r,this.renderState()}addListener(r,n){super.addListener(r,n)}addValidator(r){this.validators.push(r)}renderState(){var o,i,a,s,c,f,d,u,p,v,g,y;const r=document.getElementById(this.preorderStyle);if((o=this.state)!=null&&o.showOriginalButton){r.innerHTML="",this.addToCartButton&&this.addToCartDefaultDisplay&&dt(this.addToCartButton,"display",this.addToCartDefaultDisplay),this.preorderButton&&dt(this.preorderButton,"display","none"),b(this.preorderButton).prop("disabled",this.state.disabledButton),this.dynamicCheckoutButton&&dt(this.dynamicCheckoutButton,"display","block"),this.quantityInput&&this.clearMaxQuantity(),this.destroyTippy();return}this.dynamicCheckoutButton&&dt(this.dynamicCheckoutButton,"display","none");let n="";if(this.addToCartButton&&this.addToCartButton.classList.forEach(function(S){n+=`.${S}`}),(i=this.preorderButton)==null||i.classList.add(this.buttonPreorderClass),r.innerHTML=`${n}{display: none}${n}.${this.buttonPreorderClass}{display: block}`,this.addToCartButton&&dt(this.addToCartButton,"display","none"),this.preorderButton&&this.addToCartDefaultDisplay){const S=this.addToCartDefaultDisplay==="none"?"":this.addToCartDefaultDisplay;dt(this.preorderButton,"display",S)}if((a=this.state)!=null&&a.showOriginalButtonText){const S=this.getOriginalButtonText();((s=this.preorderButton)==null?void 0:s.nodeName)=="INPUT"?b(this.preorderButton).val(S):b(this.preorderButton).html(S),this.destroyTippy(),this.preorderButton&&(dt(this.preorderButton,"background-color",""),dt(this.preorderButton,"color",""))}else((c=this.preorderButton)==null?void 0:c.nodeName)=="INPUT"?b(this.preorderButton).val((f=this.state)==null?void 0:f.buttonText):b(this.preorderButton).text((d=this.state)==null?void 0:d.buttonText),(u=this.state)!=null&&u.tooltip?this.updateTippy():this.destroyTippy(),this.preorderButton&&(dt(this.preorderButton,"background-color",((p=this.state)==null?void 0:p.buttonBackgroundColor)||""),dt(this.preorderButton,"color",((v=this.state)==null?void 0:v.buttonFontColor)||""));this.quantityInput&&this.setMaxQuantity(((g=this.state)==null?void 0:g.maxQuantity)||1/0),this.preorderButtonDisabled=Boolean((y=this.state)==null?void 0:y.disabledButton),b(this.preorderButton).prop("disabled",this.preorderButtonDisabled),b(this.preorderButton).css("cursor",this.preorderButtonDisabled?"not-allowed":"pointer")}trigger(r,...n){super.trigger(r,...n)}createPreorderButton(){if(this.preorderButton=b(this.addToCartButton).clone().get(0),b(this.addToCartButton).after(this.preorderButton),this.addToCartButton){const r=XC(this.addToCartButton,"display")||"none";this.addToCartDefaultDisplay=r==="none"?"inline-block":r}b(this.preorderButton).on("click",r=>{if(r.stopImmediatePropagation(),r.stopPropagation(),r.preventDefault(),this.preorderButtonDisabled){this.logger.info("preorder button is disabled");return}if(this.validators.length)if(this.validators.every(o=>o(this.form)))this.logger.info("preorder form successfully validated");else{this.logger.info("form not pass all validators");return}this.trigger("onAddToCart",this.getVariantId(),this.getQuantity(),this.getProperties())})}getTippy(){return this.preorderButton._tippy}updateTippy(){var i,a,s,c,f,d;let r=this.getTippy();const n=(((i=this.state)==null?void 0:i.tooltipTrigger)=="stick"||ZC())&&this.preorderButton&&JC(this.preorderButton),o=n&&this.prevTooltip!=((a=this.state)==null?void 0:a.tooltip);this.prevTooltip=((s=this.state)==null?void 0:s.tooltip)||"",!r&&this.preorderButton&&(Q(this.preorderButton,{arrow:!0,animation:"fade",placement:(c=this.state)==null?void 0:c.tooltipPosition,sticky:!0,updateDuration:0,interactive:!0,theme:"handy-preorder",onShow:u=>{var p;u.popperChildren.content.style.fontSize=`${(p=this.state)==null?void 0:p.tooltipFontSize}px`}}),r=this.getTippy(),b(r.popper).on("click",()=>{r.hide()})),n?(r.set({content:(f=this.state)==null?void 0:f.tooltip,hideOnClick:!1,trigger:"manual"}),o&&r.show()):r.set({content:(d=this.state)==null?void 0:d.tooltip})}destroyTippy(){this.prevTooltip="",this.getTippy()&&this.getTippy().destroy()}getOriginalButtonText(){var n;let r="";return this.addToCartButton.disabled||(r=(((n=this.addToCartButton)==null?void 0:n.nodeName)=="INPUT"?this.addToCartButton.value:this.addToCartButton.innerHTML)||""),r||this.addToCartDefaultText||"Add to cart"}triggerVariantUpdate(){return this.trigger("onVariantUpdate",this.getVariantId(),this.getProperties())}observeVariantChange(){const r=new MutationObserver(()=>this.triggerVariantUpdate());this.customVariantInputs.forEach(n=>{var i;var o;if(n.addEventListener("change",()=>this.triggerVariantUpdate()),n.addEventListener("input",()=>this.triggerVariantUpdate()),n.addEventListener("click",()=>this.triggerVariantUpdate()),r.observe(n,{subtree:!0,attributes:!0}),Pn(o=n.className).call(o,"select2")){const a=(i=n.parentElement)==null?void 0:i.querySelector(".select2-selection__rendered");a&&r.observe(a,{characterData:!0,attributes:!0})}})}quantityInputUpdate(r){typeof this.state<"u"&&this.state.maxQuantity>0&&b(r).val()>this.state.maxQuantity&&b(r).val(this.state.maxQuantity)}setMaxQuantity(r){b(this.quantityInput).prop("min",1).prop("max",r),this.quantityInputHandler&&b(this.quantityInput).off("change",this.quantityInputHandler),this.quantityInputHandler=n=>{const o=b(n.target),i=o.val(),a=St(i);a>r?o.val(r):(a<0||i!=""&&isNaN(a))&&o.val(1)},b(this.quantityInput).on("change",this.quantityInputHandler)}clearMaxQuantity(){var r,n;(r=this.quantityInput)==null||r.removeAttribute("min"),(n=this.quantityInput)==null||n.removeAttribute("max"),this.quantityInputHandler&&(b(this.quantityInput).off("change",this.quantityInputHandler),this.quantityInputHandler=void 0)}}class f1{constructor(e,r,n,o,i,a,s,c,f,d,u=100){h(this,"logger");h(this,"cartApi");h(this,"productForms",[]);h(this,"middlewares",{onBeforeAddToCart:[]});h(this,"correctlyExposed",!1);h(this,"cart");h(this,"shopSettings");h(this,"resolvers");h(this,"productRepository");h(this,"variantRepository");h(this,"availableAddToCartCalculator");h(this,"updateStateTimeout");h(this,"productFormHandlingDelay");h(this,"productFormSearchInterval");this.logger=e,this.cartApi=r,this.cart=n,this.shopSettings=o,this.resolvers=i,this.productRepository=a,this.variantRepository=s,this.availableAddToCartCalculator=c,this.updateStateTimeout=f,this.productFormHandlingDelay=d,this.productFormSearchInterval=u}getProductForms(){return this.productForms}expose(){const e=this.resolvers.productForms(),r=e.resolveAll();r.length?this.logger.info("product forms - ",r):this.logger.info("can not find product forms"),r.forEach((n,o)=>{this.handleForm(n,`#${String(o+1)}`)}),this.correctlyExposed=!0,this.productFormSearchInterval&&setInterval(()=>{e.resolveAll().filter(n=>!Pn(r).call(r,n)).forEach(n=>{r.push(n),this.handleForm(n)})},this.productFormSearchInterval)}isCorrectlyExposed(){return this.correctlyExposed}getPublicMethods(){return{handleForm:this.handleForm.bind(this)}}async handleForm(e,r=""){this.productFormHandlingDelay&&await new G(c=>{setTimeout(c,this.productFormHandlingDelay)});const n=new l1(this.logger,e,this.resolvers);if(this.logger.info(`start expose product form ${r}`),!n.expose())return this.logger.error(`can not correctly expose form ${r}`),!1;this.productForms.push(n),this.logger.info(`set default state for variantId = ${n.getVariantId()}`);const i=n.getVariantId(),a=this.getStateForVariant(i);n.setState(a);const s=new dd(this.variantRepository,this.shopSettings);return n.addListener("onVariantUpdate",c=>{this.logger.info(`change variantId to = ${c}`),n.setState(this.getStateForVariant(c));const f=this.updateStateTimeout||100;setTimeout(()=>{const d=n.getVariantId();this.logger.info("update product form after timeout",f),this.logger.info(`update variantId to = ${d}`),n.setState(this.getStateForVariant(d))},f)}),n.addListener("onAddToCart",async(c,f,d={})=>{const u=this.cart.variants(),p=u.getQuantity(c,d),v=u.getPreordersQuantity(c,d),g=this.variantRepository.findById(c);if(!g)return;const y=this.availableAddToCartCalculator.calculate(g),S=y.stock+y.preorders;f>S&&(f=S);let w=0,l=0;y.stock>0?(w=Math.min(f,y.stock),l=f-w):l=f,w+=p-v,l+=v;const x=w+l,Dt=this.cart.variants().getLineItem(c,d);this.logger.info("lineItem",Dt),n.setDisabledButton(!0),this.logger.info("start add to cart",{addStock:w,addPreorders:l});try{if(Dt){const Z=this.cart.getLineItems().map(ne=>ne==Dt?0:ne.quantity||0);this.logger.info("remove existing line item from cart, updates = ",Z),await this.cartApi.updateQuantities(Z)}({variantId:c,quantity:f,properties:d}=await this.handleMiddlewares("onBeforeAddToCart",{productForm:n,variantId:c,quantity:f,properties:d})),l>0&&(d[this.shopSettings.preorderLabel]=String(l)),this.logger.info("add to cart, variantId =",c,", quantity =",x,", properties =",d);const V=await this.cartApi.add({id:c,quantity:x,properties:d}),Tr=this.shopSettings.initial_payment_label,Et=Tr&&l&&s.getInitialPaymentPercent(V)||100;Et<100&&(d[Tr]=`${Et}%`,await this.cartApi.change({id:V.key,quantity:x,properties:d})),n.setDisabledButton(!1),this.goToCartPage()}catch(V){this.logger.error("error while adding variant to cart",g,V),n.setDisabledButton(!1)}}),this.logger.info(`product form ${r} was exposed`),!0}getStateForVariant(e){const r={tooltipPosition:this.shopSettings.tooltipPosition,tooltipTrigger:this.shopSettings.tooltipTrigger,tooltipFontSize:this.shopSettings.tooltipFontSize,buttonBackgroundColor:this.shopSettings.buttonBackgroundColor,buttonFontColor:this.shopSettings.buttonFontColor},n={...r,showOriginalButton:!0,showOriginalButtonText:!0,buttonText:"",disabledButton:!1,maxQuantity:1/0,tooltip:""},o=this.productRepository.findByVariantId(e),i=this.variantRepository.findById(e);if(!o)return this.logger.info("no data about product"),n;if(!i)return this.logger.info("no data about variant"),n;const a=o.isTuned(),s=i.isTuned();if(a?(document.documentElement.classList.add("handy-preorder--product-enabled"),document.documentElement.classList.remove("handy-preorder--product-disabled")):(document.documentElement.classList.remove("handy-preorder--product-enabled"),document.documentElement.classList.add("handy-preorder--product-disabled")),s?(document.documentElement.classList.add("handy-preorder--variant-enabled"),document.documentElement.classList.remove("handy-preorder--variant-disabled")):(document.documentElement.classList.remove("handy-preorder--variant-enabled"),document.documentElement.classList.add("handy-preorder--variant-disabled")),!a&&!s)return this.logger.info("product and variant not tuned",o,i),n;const c=s?i.getSettings():o.getSettings(),f=this.availableAddToCartCalculator.calculate(i),d={...r,showOriginalButton:!1,showOriginalButtonText:!1,buttonText:this.shopSettings.outofstockButtonText||(c==null?void 0:c.buttonText)||"",maxQuantity:1/0,disabledButton:!0,tooltip:""},u=f.stock+f.preorders;return f.stock>0?{...r,showOriginalButton:!1,showOriginalButtonText:!0,maxQuantity:u,disabledButton:!1,tooltip:"",buttonText:""}:(c==null?void 0:c.schedule)&&(!c.startsOn&&!c.endsOn||!On(c.startsOn,c.endsOn))?d:f.preorders>0?{...r,showOriginalButton:!1,showOriginalButtonText:!1,buttonText:(c==null?void 0:c.buttonText)||"",maxQuantity:u,disabledButton:!1,tooltip:(c==null?void 0:c.tooltip)||""}:d}addMiddleware(e,r){this.middlewares[e].push(r)}handleMiddlewares(e,r){var n;return ct(n=this.middlewares[e]||[]).call(n,(o,i)=>o.then(i),G.resolve(r))}goToCartPage(){const e=document.documentElement.lang;e&&location.pathname.split("/")[1]==e?location.assign(`/${e}/cart`):location.assign("/cart")}}function Li(t,e,r){var n,o,i,a,s;e==null&&(e=100);function c(){var d=Date.now()-a;d<e&&d>=0?n=setTimeout(c,e-d):(n=null,r||(s=t.apply(i,o),i=o=null))}var f=function(){i=this,o=arguments,a=Date.now();var d=r&&!n;return n||(n=setTimeout(c,e)),d&&(s=t.apply(i,o),i=o=null),s};return f.clear=function(){n&&(clearTimeout(n),n=null)},f.flush=function(){n&&(s=t.apply(i,o),i=o=null,clearTimeout(n),n=null)},f}Li.debounce=Li;var Kd=Li;const d1="handy-preorder-";class p1 extends Gd{constructor(r,n,o,i){super();h(this,"logger");h(this,"form");h(this,"resolvers");h(this,"shopSettings");h(this,"exposed",!1);h(this,"middlewares",{onBeforeProcessCheckoutButton:[]});h(this,"updateButtons");h(this,"checkoutButtons");h(this,"updateInputs");h(this,"handledUpdateInputs",new WeakMap);h(this,"quantityCaptions");h(this,"noteInput");h(this,"sections",[]);h(this,"state",{updateInputsDisabled:!1,updateDisabled:!1,checkoutDisabled:!1,checkoutDeactivated:!1,updateInputMaxValues:[],showNotification:!1});h(this,"checkoutDeactivationTimer");this.logger=r,this.form=n,this.resolvers=o,this.shopSettings=i}expose(){return this.updateButtons=this.resolvers.updateButtons().resolveAll(this.form),this.updateButtons.length||this.logger.info("can not find update buttons"),this.checkoutButtons=this.resolvers.checkoutButtons().resolveAll(this.form),this.checkoutButtons.length||this.logger.info("can not find checkout buttons"),this.updateInputs=this.resolvers.updateInputs().resolveAll(this.form),this.updateInputs.length||this.logger.info("can not find update inputs"),this.noteInput=this.resolvers.noteInputs().resolve(this.form),this.noteInput||this.logger.info("can not find note input"),this.quantityCaptions=this.resolvers.quantityCaptions().resolveAll(this.form),this.sections=this.resolvers.sections().resolveAll(this.form),this.handleSections(),this.handleUpdateButtons(),this.updateInputs.forEach((r,n)=>{this.handleUpdateInput(r,n)}),setInterval(()=>{this.refreshUpdateInputs()},500),this.exposed=!0,!0}setState(r){this.state={...this.state,...r},this.renderState()}addListener(r,n){super.addListener(r,n)}getLineItemsQuantity(){var r,n;return(r=this.updateInputs)!=null&&r.length?this.updateInputs.map((o,i)=>{const a=Number(o.value),s=this.getMaxQuantityByIndex(i)||a;return Math.min(a,s)}):(n=this.quantityCaptions)!=null&&n.length?this.quantityCaptions.map(o=>St(b(o).text())):[]}getNote(){if(this.noteInput)return b(this.noteInput).val()}addMiddleware(r,n){this.middlewares[r].push(n)}trigger(r,...n){super.trigger(r,...n)}toggleMixedCartNotification(r){this.state.showNotification!==r&&(this.setState({checkoutDeactivated:r,showNotification:r}),r?this.checkoutDeactivationTimer=setTimeout(()=>{this.setState({checkoutDeactivated:!1})},1e3):this.checkoutDeactivationTimer&&clearTimeout(this.checkoutDeactivationTimer))}isMixedCartNotificationShown(){return this.state.showNotification}renderState(){var a,s,c;const{notificationSettings:r}=this.shopSettings,n=b(this.updateButtons),o=b(this.checkoutButtons);n.prop("disabled",this.state.updateDisabled),o.forEach(f=>{f.style.cursor=this.state.checkoutDeactivated?"default":"",f.disabled=this.state.checkoutDisabled,r&&(r.enabled&&this.state.showNotification?(this.setButtonText(f,r.checkout_button_text),this.getTippyForButton(f).show()):(this.setButtonText(f,null),this.getTippyForButton(f).hide()))});const i=!this.state.updateInputMaxValues.length||((a=this.updateInputs)==null?void 0:a.length)==this.state.updateInputMaxValues.length;i||this.logger.warn("trying to set invalid max values for inputs,",`inputs length = ${(s=this.updateInputs)==null?void 0:s.length},`,"inputs max values length = ",this.state.updateInputMaxValues.length),(c=this.updateInputs)==null||c.forEach((f,d)=>{if(i){const u=this.state.updateInputMaxValues&&this.state.updateInputMaxValues[d],p=!u||u===1/0?1/0:this.state.updateInputMaxValues[d];this.setMaxQuantity(f,p)}f.disabled=this.state.updateInputsDisabled,f.value=f.value})}handleSections(){const r=Kd(()=>{this.refreshUpdateInputs(!0)},200,!0),n=new MutationObserver(o=>{o.some(a=>a.target.classList.contains("js-contents"))&&r()});this.sections.forEach(o=>{n.observe(o,{childList:!0,subtree:!0})})}handleUpdateButtons(){b(this.updateButtons).on("click",r=>{if(r.preventDefault(),r.stopPropagation(),r.stopImmediatePropagation(),this.state.updateDisabled){this.logger.info("update buttons disabled");return}this.trigger("onUpdateCart",this.getLineItemsQuantity(),this.getNote())})}triggerCheckout(){if(this.state.checkoutDisabled||this.state.checkoutDeactivated){this.logger.info("checkout disabled");return}this.handleMiddlewares("onBeforeProcessCheckoutButton",{}).then(()=>{this.logger.info("processing cart form checkout, started"),this.trigger("onCheckoutCart",this.getLineItemsQuantity(),this.getNote())}).catch(()=>{this.logger.info("processing cart form checkout, canceled")})}getMaxQuantityByIndex(r){var n;return this.state!==void 0&&this.state.updateInputMaxValues!==void 0&&((n=this.updateInputs)==null?void 0:n.length)==this.state.updateInputMaxValues.length?this.state.updateInputMaxValues[r]:1/0}handleUpdateInput(r,n){var s;if(this.handledUpdateInputs.get(r))return;const o=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(r),"value");let i=r.value;const a=c=>{if(this.state.updateInputsDisabled){o.set.call(r,i);return}const f=St(c),d=this.getMaxQuantityByIndex(n);f>d?c=String(d):(f<0||c&&isNaN(f))&&(c="0"),o.set.call(r,c),c!==i&&(i=c,this.trigger("onUpdateInputChanged",r))};r.addEventListener("input",()=>{a(r.value)}),(s=Object.getOwnPropertyDescriptor(r,"value"))!=null&&s.configurable&&Object.defineProperty(r,"value",{get(){return o.get.call(this)},set(c){a(c)}}),this.handledUpdateInputs.set(r,!0)}refreshUpdateInputs(r=!1){var o;const n=((o=this.updateInputs)==null?void 0:o.length)||0;this.updateInputs=this.resolvers.updateInputs().resolveAll(this.form),r||n!==this.updateInputs.length?this.trigger("onUpdateCart",this.getLineItemsQuantity(),this.getNote()):this.updateInputs.forEach((i,a)=>{this.handleUpdateInput(i,a)})}setMaxQuantity(r,n){n===1/0?r.removeAttribute("max"):r.setAttribute("max",String(n))}getButtonText(r){return r.tagName.toLowerCase()==="input"?b(r).val():b(r).text()}setButtonText(r,n){const o=b(r),i=`${d1}default-text`,a=o.data(i),s=this.getButtonText(r);a===void 0&&o.data(i,s),n===null&&(n=o.data(i)),!(n==null||n===s)&&(r.tagName.toLowerCase()==="input"?o.val(n):o.text(n))}getTippyForButton(r){var n;return"_tippy"in r||Q(r,{content:((n=this.shopSettings.notificationSettings)==null?void 0:n.tooltip)||"",arrow:!0,animation:"fade",placement:"top",sticky:!0,updateDuration:0,interactive:!0,theme:"handy-preorder",hideOnClick:!1,trigger:"manual"}),r._tippy}handleMiddlewares(r,n){var o;return ct(o=this.middlewares[r]||[]).call(o,(i,a)=>i.then(a),G.resolve(n))}doesOwnCheckoutButton(r){var n;return Boolean((n=this.checkoutButtons)==null?void 0:n.includes(r))}}class Ku{constructor(e){h(this,"variantRepository");this.variantRepository=e}calculate(e){const r=[];return e.getLineItems().forEach(n=>{const o=n.variant_id?this.variantRepository.findById(n.variant_id):void 0;if(!o){r.push(1/0);return}const i=e.copyExcept(n),s=new $a(i).calculate(o);r.push(s.total)}),r}}class Qu{constructor(e){h(this,"variantRepository");this.variantRepository=e}calculate(e){const r=e.copyEmpty(),n=[];return e.getLineItems().forEach(o=>{const i=o.variant_id?this.variantRepository.findById(o.variant_id):void 0,a=o.quantity||0;if(!i){r.addLineItem(o),n.push({total:a,stock:a,preorders:0});return}const c=new $a(r).calculate(i),f=Math.min(a,c.total),d=Math.min(a,c.stock),u=f-d;r.addLineItem(o),n.push({total:f,stock:d,preorders:u})}),n}}class h1{constructor(e,r,n,o,i,a,s,c,f,d,u,p=100){h(this,"logger");h(this,"middleware");h(this,"checkoutFlow");h(this,"cartApi");h(this,"cartSync");h(this,"cartForms");h(this,"shopSettings");h(this,"locales");h(this,"resolvers");h(this,"variantRepository");h(this,"cartFormSearchInterval");h(this,"middlewares");h(this,"initialPaymentCalculator");h(this,"cart");h(this,"onQuantityChange");this.logger=e,this.middleware=r,this.checkoutFlow=n,this.cartApi=o,this.cartSync=i,this.initialPaymentCalculator=new dd(d,s),this.middlewares={},this.cartForms=[],this.cart=a,this.shopSettings=s,this.locales=c,this.resolvers=f,this.variantRepository=d,this.onQuantityChange=u,this.cartFormSearchInterval=p}getCartForms(){return this.cartForms}expose(){const e=this.resolvers.cartForms(),r=e.resolveAll();r.forEach((n,o)=>{this.handleForm(n,o+1)}),this.middleware.subscribe({filter:"triggerCheckout",order:-1,fn:({args:n},o)=>{const[i]=n,a=this.cartForms.find(s=>s.doesOwnCheckoutButton(i));if(!a)return o(n);a.triggerCheckout()}}),this.cartFormSearchInterval&&setInterval(()=>{const n=e.resolveAll().filter(o=>!Pn(r).call(r,o));n.length&&(r.push(...n),this.refreshCart().then(()=>{n.forEach(o=>{this.handleForm(o,r.length)})}))},this.cartFormSearchInterval),this.updateCart(this.cart,!1).then(n=>n&&location.reload())}getPublicMethods(){return{}}addMiddleware(e,r){this.middlewares[e]||(this.middlewares[e]=[]),this.middlewares[e].push(r)}handleForm(e,r){const n=new p1(this.logger,e,this.resolvers,this.shopSettings);if(this.logger.info(`start expose cart form #${r}`),!n.expose()){this.logger.error(`can not correctly expose form #${r}`);return}this.cartForms.push(n);const a=new Ku(this.variantRepository).calculate(this.cart);this.logger.info("update input max values = ",a),n.setState({updateInputMaxValues:a});const s=Kd((c,f)=>{f==="updateCart"?this.updateCart(c).finally(()=>location.reload()):f==="reloadPage"&&location.reload()},500);n.addListener("onUpdateInputChanged",()=>{const c=Boolean(this.onQuantityChange),f=n.getLineItemsQuantity(),d=this.cart.copyUpdate(f,this.cart.getNote());this.logger.info("update input changed, line items quantity = ",f);const p=new Ku(this.variantRepository).calculate(d);this.logger.info("update input max values = ",p),n.toggleMixedCartNotification(!1),n.setState({checkoutDisabled:c,updateDisabled:c,updateInputMaxValues:p}),s(d,this.onQuantityChange)}),n.addListener("onUpdateCart",(c,f)=>{if(this.logger.info("line items quantity = ",c),!c.length||c.length!==this.cart.getLineItems().length){this.logger.warn("can not determine quantities of line items"),this.logger.info("reload cart page"),this.cartForms.forEach(u=>{u.setState({checkoutDisabled:!0,updateDisabled:!0,updateInputsDisabled:!0})}),location.reload();return}this.logger.info("start to update cart"),n.toggleMixedCartNotification(!1),n.setState({checkoutDisabled:!0,updateDisabled:!0,updateInputsDisabled:!0});const d=this.cart.copyUpdate(c,f);s(d,"updateCart")}),n.addMiddleware("onBeforeProcessCheckoutButton",async c=>{if(this.shopSettings.notificationSettings&&this.shopSettings.notificationSettings.enabled&&!n.isMixedCartNotificationShown()&&this.isCartMixed())throw this.logger.info("checkout cancelled to show a mixed cart notification"),n.toggleMixedCartNotification(!0),void 0;return this.logger.info("no need to show a mixed cart notification, proceed with the checkout"),c}),n.addListener("onCheckoutCart",(c,f)=>{if(this.logger.info("checkout cart, line items quantity = ",c),!c.length){this.logger.warn("can not determine quantities of line items"),this.logger.info("proceed with current checkout"),this.checkout(n);return}this.logger.info("start to update cart"),this.refreshCart().then(()=>{const d=this.cart.copyUpdate(c,f);return this.updateCart(d)}).then(d=>{this.logger.info("cart successfully updated"),this.checkout(n,d,f)}).catch(d=>{this.logger.warn("failed to update cart",d),this.checkout(n)})}),this.logger.info(`cart form #${r} was exposed`,n)}normalizeCart(e=this.cart){const r=this.shopSettings.preorderLabel,n=this.shopSettings.initial_payment_label,o=e.getLineItems(),i=[],a=[];let s=e.getNote()!==this.cart.getNote()?"refill":!1;const f=new Qu(this.variantRepository).calculate(e);for(let u=0;u<o.length;u++){const p=o[u],v=p.properties||{},g=Ci(this.shopSettings,this.locales,v),y=f[u];if(y.preorders&&(g[r]=String(y.preorders)),y.preorders&&n){const x=this.initialPaymentCalculator.getInitialPaymentPercent({variant_id:p.variant_id,final_price:p.final_price,properties:g})||100;x<100&&(g[n]=`${x}%`)}const S=y.total!==p.quantity,w=v[r]!==g[r]||v[n]!==g[n],l=w&&!Object.keys(g).length;S||w?(s=l||s==="refill"?"refill":"change",i.push({...p,id:p.id||p.variant_id,quantity:y.total,properties:g}),s!=="refill"&&a.push({line:u+1,quantity:y.total,properties:w?g:void 0})):i.push(p)}const d=new Kt({items:i,note:e.getNote()},this.shopSettings,this.locales);return{action:s,changes:a,cart:d}}async refreshCart(){return this.cartApi.get().then(e=>{this.cart=new Kt(e,this.shopSettings,this.locales)})}updateCart(e,r=!0){const n=this.normalizeCart(e);return!r&&!n.action?G.resolve():(this.cartForms.forEach(o=>{o.setState({checkoutDisabled:!0,updateDisabled:!0,updateInputsDisabled:!0})}),n.action==="change"?this.changeCart(n.changes).then(()=>n.cart):this.refillCart(n.cart).then(()=>n.cart))}refillCart(e){return this.cartApi.clear().then(()=>this.cartApi.updateNote(e.getNote()||"")).then(()=>{var r;const n=br(r=[...e.getLineItems()]).call(r);return this.cartApi.add({items:n})})}changeCart(e){const r=e.map(n=>this.cartApi.change(n));return G.all(r)}isCartMixed(){const r=new Qu(this.variantRepository).calculate(this.cart),{total:n,preorders:o}=ct(r).call(r,(i,a)=>(i.total+=a.total,i.preorders+=a.preorders,i),{total:0,preorders:0});return o>0&&n>o}handleMiddlewares(e,r,n){let o=null,i=r.then(a=>(o=a,G.resolve(this)));return this.middlewares[e]&&this.middlewares[e].forEach(a=>{i=a(i,n)}),i.then(()=>G.resolve(o))}checkout(e,r,n){this.handleMiddlewares("onBeforeNavigateToCheckout",G.resolve(),e).then(()=>r?this.cartSync.refresh().then(o=>{const i=r.hasPartiallyPaidItems()||o.requiresCustomCheckout;o.set({note:n,requiresCustomCheckout:i}),this.checkoutFlow.checkoutCurrent()}):this.checkoutFlow.checkoutCurrent()).catch(()=>{this.logger.info("navigation to checkout canceled")})}}class v1{constructor(e,r,n,o){h(this,"logger");h(this,"shopSettings");h(this,"resolvers");h(this,"productRepository");this.logger=e,this.shopSettings=r,this.resolvers=n,this.productRepository=o}expose(){const e=this.resolvers.productCards().resolveAll();if(!e.length){this.logger.info("cannot find product cards");return}this.logger.info("product cards found",e),e.forEach(r=>{this.handleProductCard(r)})}getPublicMethods(){return{}}handleProductCard(e){const r=this.findProductForCard(e);if(!r){this.logger.error("cannot determine product for product card",e);return}this.isPreorderBadgeNeeded(r)?(this.insertPreorderBadge(e),e.classList.add("handy-preorder--product-card","handy-preorder--product-card_active")):this.logger.info("preorders are disabled for product and its variants",r)}findProductForCard(e){const r=this.resolvers.productLink().resolve(e);if(!r){this.logger.error("cannot find product link in product card",e);return}const n=decodeURI((r.href||"").split("/").pop()||"");if(!n){this.logger.error("cannot determine product handle for product card",e);return}return this.productRepository.findByHandle(n)}isPreorderBadgeNeeded(e){const{badgeSettings:r}=this.shopSettings;let n=!1;return r&&r.enabled&&e.getVariants().forEach(o=>{if(e.isTuned(!0)||o.isTuned(!0)){const i=o.getStock();n=!i||!isFinite(i)}}),n}insertPreorderBadge(e){const r=this.resolvers.preorderBadgeContainer().resolve(e);if(!r){this.logger.error("cannot find a preorder badge container in product card",e);return}const n=this.createPreorderBadge();b(r).addClass("handy-preorder--preorder-badge-container").append(n),this.logger.info("preorder badge inserted in product card",e)}createPreorderBadge(){const e=this.shopSettings.badgeSettings,r=e.position==="Top left corner"?"left":"right",n=b("<span>").text(e.badge_text);return b("<div>").append(n).addClass("handy-preorder--preorder-badge").addClass(`handy-preorder--preorder-badge_${r}`).css({width:`${St(e.font_size)*e.badge_text.length*.6}px`,padding:`${St(e.font_size)*.1}px`,fontSize:e.font_size,color:e.font_color,background:e.background_color})}}class g1{isOldConfig(e){return Boolean(e==null?void 0:e.page)}transform(e){return{appName:e.appName,themeId:e.themeId,apiUrl:e.apiUrl,productFormSelector:e.productFormSelector,addToCartButtonSelector:e.productSelector,customVariantInputSelector:e.variantsSelector,globalCustomVariantInputSelector:e.globalVariantsSelector,variantSelector:e.nativeVariantsSelector,cartFormSelector:e.cartFormSelector,checkoutButtonSelector:e.checkoutSelector,updateButtonSelector:e.updateSelector,updateInputSelector:e.updateInputsSelector,quantityCaptionSelector:e.quantityCaptionSelector,productCardSelector:e.productCardSelector,preorderBadgeContainerSelector:e.preorderBadgeContainerSelector,updateStateTimeout:e.changeTimeout,productFormHandlingDelay:e.productFormHandlingDelay,productFormSearchInterval:e.productFormSearchInterval,cartFormSearchInterval:e.cartFormSearchInterval,startupDelay:e.startupDelay,onQuantityChange:e.onQuantityChange,page:e.page,useStyle:e.useStyle}}}const m1={appName:"Handy Preorder",apiUrl:"/a/handy/preorder",startupDelay:50},y1={products:[],variants:[],shop:{enabled:!1,outofstockButtonText:"--",preorderLabel:"Pre-ordered Items",initial_payment_label:"Initial payment",tooltipPosition:"top",tooltipTrigger:"hover",tooltipFontSize:15,buttonBackgroundColor:"",buttonFontColor:"",css:"",badgeSettings:{enabled:!1,badge_text:"Pre-order",position:"Top right corner",background_color:"#5563c1",font_color:"#fff",font_size:"15px"},notificationSettings:{enabled:!1,checkout_button_text:"",tooltip:""}}},Yu={products:[]},Xu=window.HandyPreorderConfig||window.SimplePreorderConfig||window.SimplePreorderBootstrap,Ju=window.HandyPreorderSettings||window.SimplePreorderSettings,Qo=window.HandyPreorderData||window.SimplePreorderData,b1=window.HandyPreorderLocales||window.SimplePreorderLocales;function S1(t){Xu&&(t={...Xu,...t});let e,r,n=Yu,o=[];if(!t||!Ju)r=m1,e=y1,n=Yu,console.log(`${r.appName}.INFO: CONFIG AND SETTINGS FOR APP NOT FOUND`);else{e=Ju,o=b1;const i=new g1;i.isOldConfig(t)?(r=i.transform(t),Qo&&(n={products:Qo.products})):(r=t,n=Qo),r={appName:"Handy Preorder",...r,apiUrl:r.apiUrl===void 0?"/a/handy/preorder":r.apiUrl}}return{config:r,data:n,settings:e,locales:o}}class $1{constructor({ui:e,cartSync:r,checkoutFlow:n,parameters:o,logger:i,middleware:a,cartApi:s}){h(this,"ui");h(this,"logger");h(this,"cartApi");h(this,"middleware");h(this,"cartSync");h(this,"checkoutFlow");h(this,"config",{apiUrl:"/a/handy-preorder"});h(this,"parameters");h(this,"settings",{products:[],variants:[],shop:{enabled:!1,outofstockButtonText:"--",preorderLabel:"Pre-ordered Items",initial_payment_label:"Initial payment",tooltipPosition:"top",tooltipTrigger:"hover",tooltipFontSize:15,buttonBackgroundColor:"",buttonFontColor:"",css:"",badgeSettings:{enabled:!1,badge_text:"Pre-order",position:"Top right corner",background_color:"#5563c1",font_color:"#fff",font_size:"15px"},notificationSettings:{enabled:!1,checkout_button_text:"",tooltip:""}}});h(this,"data",{products:[]});h(this,"locales",[]);h(this,"initialized",!1);h(this,"productController",Uo());h(this,"cartController",Uo());h(this,"productCardController",Uo());this.ui=e,this.logger=i,this.cartApi=s,this.middleware=a,this.cartSync=r,this.checkoutFlow=n,this.parameters=o}configure(){const{config:e,data:r,locales:n,settings:o}=S1(this.parameters);e.apiUrl=e.apiUrl?new jI(e.apiUrl,location.origin).toString():location.origin,e.themeId=e.themeId||this.ui.theme.constructor.storeId,e.onQuantityChange===void 0&&(e.onQuantityChange=this.ui.theme.constructor.onQuantityChange),ln(this.config,e),ln(this.settings,o),this.data=r||this.data,this.locales=n||this.locales}async init(){this.configure();const e=this.config.startupDelay;return e?new G(r=>{setTimeout(async()=>{this.logger.info(`Initializing the app with a startup delay of ${e}ms`);const n=await this._init();r(n)},e)}):(this.logger.info("Initializing the app without a startup delay"),this._init())}async _init(){const e=this.settings.shop;if(!e.enabled){this.logger.info("App is disabled");return}this.applyLocalization(),this.injectCustomStyles(e.css);const r=new QC(this.data.products),n=await this.cartApi.get(),o=new Kt(n,e,this.locales),i=new GC(this.settings.products),a=new KC(this.settings.variants),s=new tO(r,i,a),c=new eO(s),f=new oP(this.config),d=new $a(o);this.initPage(),this.productController=new f1(this.logger,this.cartApi,o,e,f,s,c,d,this.config.updateStateTimeout,this.config.productFormHandlingDelay,this.config.productFormSearchInterval),this.productController.expose(),this.cartController=new h1(this.logger,this.middleware,this.checkoutFlow,this.cartApi,this.cartSync,o,e,this.locales,f,c,this.config.onQuantityChange,this.config.cartFormSearchInterval),this.cartController.expose(),this.productCardController=new v1(this.logger,e,f,s),this.productCardController.expose(),this.initialized=!0}initPage(){let e=document.getElementById("handy-preorder-style");e||(e=document.createElement("style"),e.id="handy-preorder-style",document.head.appendChild(e)),this.config.useStyle===!1&&(e.media="not all"),document.documentElement.classList.add(`handy-preorder--page-${this.config.page}`)}syncLocalizationItems(e,r){for(let n=0;n<e.length;n++){const o=r.find(i=>i.shopifyId==e[n].shopifyId);!o||(e[n].buttonText=o.buttonText,e[n].tooltip=o.tooltip)}}applyLocalization(){const e=document.documentElement.lang,r=this.locales.find(a=>a.locale==e);if(!r)return;this.settings={shop:{...this.settings.shop},products:[...this.settings.products],variants:[...this.settings.variants]};const{preorderLabel:n,outofstockButtonText:o,initial_payment_label:i}=r.shop;n&&(this.settings.shop.preorderLabel=n),o&&(this.settings.shop.outofstockButtonText=o),i&&(this.settings.shop.initial_payment_label=i),this.syncLocalizationItems(this.settings.products,r.products),this.syncLocalizationItems(this.settings.variants,r.variants)}injectCustomStyles(e){e&&b("<style>").html(e).appendTo("head")}}const Zu=ap(t=>{const e=_r(()=>{const i=t.parameters,a=(i==null?void 0:i.preorder)||{};return a.apiUrl=(i==null?void 0:i.apiUrl)||a.apiUrl,new $1({parameters:a,logger:t("logger")({prefix:"Preorder"}),middleware:t.middleware,ui:t.ui,cartSync:t.cartSync,checkoutFlow:t.checkoutFlow,cartApi:t.cartApi})}),r=_r(()=>new _$({preorder:e(),logger:t("logger")({prefix:"InfiniteOrder"})})),n=_r(()=>new A$({preorder:e(),logger:t("logger")({prefix:"OrderLogic"})})),o=_r(()=>new R$({preorder:e(),logger:t("logger")({prefix:"YMQOptions"})}));return{preorder:e,infiniteOrder:r,orderLogic:n,ymqOptions:o}}),w1="Handy",Pt=window[w1];var tl;Pt!=null&&Pt.front?Pt.front.register(Zu):((tl=Pt.scopes)!=null||(Pt.scopes=[]),Pt.scopes.push(Zu));
})();(function(){"use strict";try{var t=document.createElement("style");t.appendChild(document.createTextNode('.tippy-iOS{cursor:pointer!important}.tippy-notransition{transition:none!important}.tippy-popper{-webkit-perspective:700px;perspective:700px;z-index:9999;outline:0;transition-timing-function:cubic-bezier(.165,.84,.44,1);pointer-events:none;line-height:1.4;max-width:calc(100% - 10px)}.tippy-popper[x-placement^=top] .tippy-backdrop{border-radius:40% 40% 0 0}.tippy-popper[x-placement^=top] .tippy-roundarrow{bottom:-8px;-webkit-transform-origin:50% 0;transform-origin:50% 0}.tippy-popper[x-placement^=top] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(180deg);transform:rotate(180deg)}.tippy-popper[x-placement^=top] .tippy-arrow{border-top:8px solid #333;border-right:8px solid transparent;border-left:8px solid transparent;bottom:-7px;margin:0 6px;-webkit-transform-origin:50% 0;transform-origin:50% 0}.tippy-popper[x-placement^=top] .tippy-backdrop{-webkit-transform-origin:0 25%;transform-origin:0 25%}.tippy-popper[x-placement^=top] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-55%);transform:scale(1) translate(-50%,-55%)}.tippy-popper[x-placement^=top] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-50%,-45%);transform:scale(.2) translate(-50%,-45%);opacity:0}.tippy-popper[x-placement^=top] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateY(-20px);transform:translateY(-20px)}.tippy-popper[x-placement^=top] [data-animation=perspective]{-webkit-transform-origin:bottom;transform-origin:bottom}.tippy-popper[x-placement^=top] [data-animation=perspective][data-state=visible]{-webkit-transform:translateY(-10px) rotateX(0);transform:translateY(-10px) rotateX(0)}.tippy-popper[x-placement^=top] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:translateY(0) rotateX(60deg);transform:translateY(0) rotateX(60deg)}.tippy-popper[x-placement^=top] [data-animation=fade][data-state=visible]{-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-away][data-state=hidden]{opacity:0;-webkit-transform:translateY(0);transform:translateY(0)}.tippy-popper[x-placement^=top] [data-animation=scale][data-state=visible]{-webkit-transform:translateY(-10px) scale(1);transform:translateY(-10px) scale(1)}.tippy-popper[x-placement^=top] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateY(0) scale(.5);transform:translateY(0) scale(.5)}.tippy-popper[x-placement^=bottom] .tippy-backdrop{border-radius:0 0 30% 30%}.tippy-popper[x-placement^=bottom] .tippy-roundarrow{top:-8px;-webkit-transform-origin:50% 100%;transform-origin:50% 100%}.tippy-popper[x-placement^=bottom] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(0);transform:rotate(0)}.tippy-popper[x-placement^=bottom] .tippy-arrow{border-bottom:8px solid #333;border-right:8px solid transparent;border-left:8px solid transparent;top:-7px;margin:0 6px;-webkit-transform-origin:50% 100%;transform-origin:50% 100%}.tippy-popper[x-placement^=bottom] .tippy-backdrop{-webkit-transform-origin:0 -50%;transform-origin:0 -50%}.tippy-popper[x-placement^=bottom] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-45%);transform:scale(1) translate(-50%,-45%)}.tippy-popper[x-placement^=bottom] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-50%);transform:scale(.2) translate(-50%);opacity:0}.tippy-popper[x-placement^=bottom] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateY(20px);transform:translateY(20px)}.tippy-popper[x-placement^=bottom] [data-animation=perspective]{-webkit-transform-origin:top;transform-origin:top}.tippy-popper[x-placement^=bottom] [data-animation=perspective][data-state=visible]{-webkit-transform:translateY(10px) rotateX(0);transform:translateY(10px) rotateX(0)}.tippy-popper[x-placement^=bottom] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:translateY(0) rotateX(-60deg);transform:translateY(0) rotateX(-60deg)}.tippy-popper[x-placement^=bottom] [data-animation=fade][data-state=visible]{-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-away][data-state=hidden]{opacity:0;-webkit-transform:translateY(0);transform:translateY(0)}.tippy-popper[x-placement^=bottom] [data-animation=scale][data-state=visible]{-webkit-transform:translateY(10px) scale(1);transform:translateY(10px) scale(1)}.tippy-popper[x-placement^=bottom] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateY(0) scale(.5);transform:translateY(0) scale(.5)}.tippy-popper[x-placement^=left] .tippy-backdrop{border-radius:50% 0 0 50%}.tippy-popper[x-placement^=left] .tippy-roundarrow{right:-16px;-webkit-transform-origin:33.33333333% 50%;transform-origin:33.33333333% 50%}.tippy-popper[x-placement^=left] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(90deg);transform:rotate(90deg)}.tippy-popper[x-placement^=left] .tippy-arrow{border-left:8px solid #333;border-top:8px solid transparent;border-bottom:8px solid transparent;right:-7px;margin:3px 0;-webkit-transform-origin:0 50%;transform-origin:0 50%}.tippy-popper[x-placement^=left] .tippy-backdrop{-webkit-transform-origin:50% 0;transform-origin:50% 0}.tippy-popper[x-placement^=left] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-50%);transform:scale(1) translate(-50%,-50%)}.tippy-popper[x-placement^=left] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-75%,-50%);transform:scale(.2) translate(-75%,-50%);opacity:0}.tippy-popper[x-placement^=left] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateX(-10px);transform:translate(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateX(-20px);transform:translate(-20px)}.tippy-popper[x-placement^=left] [data-animation=perspective]{-webkit-transform-origin:right;transform-origin:right}.tippy-popper[x-placement^=left] [data-animation=perspective][data-state=visible]{-webkit-transform:translateX(-10px) rotateY(0);transform:translate(-10px) rotateY(0)}.tippy-popper[x-placement^=left] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:translateX(0) rotateY(-60deg);transform:translate(0) rotateY(-60deg)}.tippy-popper[x-placement^=left] [data-animation=fade][data-state=visible]{-webkit-transform:translateX(-10px);transform:translate(-10px)}.tippy-popper[x-placement^=left] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateX(-10px);transform:translate(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateX(-10px);transform:translate(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-away][data-state=hidden]{opacity:0;-webkit-transform:translateX(0);transform:translate(0)}.tippy-popper[x-placement^=left] [data-animation=scale][data-state=visible]{-webkit-transform:translateX(-10px) scale(1);transform:translate(-10px) scale(1)}.tippy-popper[x-placement^=left] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateX(0) scale(.5);transform:translate(0) scale(.5)}.tippy-popper[x-placement^=right] .tippy-backdrop{border-radius:0 50% 50% 0}.tippy-popper[x-placement^=right] .tippy-roundarrow{left:-16px;-webkit-transform-origin:66.66666666% 50%;transform-origin:66.66666666% 50%}.tippy-popper[x-placement^=right] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.tippy-popper[x-placement^=right] .tippy-arrow{border-right:8px solid #333;border-top:8px solid transparent;border-bottom:8px solid transparent;left:-7px;margin:3px 0;-webkit-transform-origin:100% 50%;transform-origin:100% 50%}.tippy-popper[x-placement^=right] .tippy-backdrop{-webkit-transform-origin:-50% 0;transform-origin:-50% 0}.tippy-popper[x-placement^=right] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-50%);transform:scale(1) translate(-50%,-50%)}.tippy-popper[x-placement^=right] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-25%,-50%);transform:scale(.2) translate(-25%,-50%);opacity:0}.tippy-popper[x-placement^=right] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateX(10px);transform:translate(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateX(20px);transform:translate(20px)}.tippy-popper[x-placement^=right] [data-animation=perspective]{-webkit-transform-origin:left;transform-origin:left}.tippy-popper[x-placement^=right] [data-animation=perspective][data-state=visible]{-webkit-transform:translateX(10px) rotateY(0);transform:translate(10px) rotateY(0)}.tippy-popper[x-placement^=right] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:translateX(0) rotateY(60deg);transform:translate(0) rotateY(60deg)}.tippy-popper[x-placement^=right] [data-animation=fade][data-state=visible]{-webkit-transform:translateX(10px);transform:translate(10px)}.tippy-popper[x-placement^=right] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateX(10px);transform:translate(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateX(10px);transform:translate(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-away][data-state=hidden]{opacity:0;-webkit-transform:translateX(0);transform:translate(0)}.tippy-popper[x-placement^=right] [data-animation=scale][data-state=visible]{-webkit-transform:translateX(10px) scale(1);transform:translate(10px) scale(1)}.tippy-popper[x-placement^=right] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateX(0) scale(.5);transform:translate(0) scale(.5)}.tippy-tooltip{position:relative;color:#fff;border-radius:4px;font-size:.9rem;padding:.3rem .6rem;max-width:350px;text-align:center;will-change:transform;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;background-color:#333}.tippy-tooltip[data-size=small]{padding:.2rem .4rem;font-size:.75rem}.tippy-tooltip[data-size=large]{padding:.4rem .8rem;font-size:1rem}.tippy-tooltip[data-animatefill]{overflow:hidden;background-color:transparent}.tippy-tooltip[data-interactive],.tippy-tooltip[data-interactive] path{pointer-events:auto}.tippy-tooltip[data-inertia][data-state=visible]{transition-timing-function:cubic-bezier(.54,1.5,.38,1.11)}.tippy-tooltip[data-inertia][data-state=hidden]{transition-timing-function:ease}.tippy-arrow,.tippy-roundarrow{position:absolute;width:0;height:0}.tippy-roundarrow{width:24px;height:8px;fill:#333;pointer-events:none}.tippy-backdrop{position:absolute;will-change:transform;background-color:#333;border-radius:50%;width:calc(110% + 2rem);left:50%;top:50%;z-index:-1;transition:all cubic-bezier(.46,.1,.52,.98);-webkit-backface-visibility:hidden;backface-visibility:hidden}.tippy-backdrop:after{content:"";float:left;padding-top:100%}.tippy-backdrop+.tippy-content{transition-property:opacity;will-change:opacity}.tippy-backdrop+.tippy-content[data-state=visible]{opacity:1}.tippy-backdrop+.tippy-content[data-state=hidden]{opacity:0}.tippy-tooltip.handy-preorder-theme{padding:.3rem .6rem;padding:clamp(4px,.3rem,6px) clamp(8px,.6rem,12px);font-size:1rem;font-size:clamp(14px,1rem,20px)}.tippy-tooltip.handy-preorder-theme .tippy-content{pointer-events:none}.handy-preorder--preorder-badge-container{position:relative;z-index:0}.handy-preorder--preorder-badge{position:absolute;top:0;z-index:100;text-align:center;line-height:1}.handy-preorder--preorder-badge_left{left:0;border-bottom-right-radius:7px}.handy-preorder--preorder-badge_right{right:0;border-bottom-left-radius:7px}')),document.head.appendChild(t)}catch(a){console.error("vite-plugin-css-injected-by-js",a)}})();
